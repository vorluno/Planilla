(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))c(x);new MutationObserver(x=>{for(const p of x)if(p.type==="childList")for(const b of p.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&c(b)}).observe(document,{childList:!0,subtree:!0});function u(x){const p={};return x.integrity&&(p.integrity=x.integrity),x.referrerPolicy&&(p.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?p.credentials="include":x.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(x){if(x.ep)return;x.ep=!0;const p=u(x);fetch(x.href,p)}})();function Dm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ko={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function jh(){if(um)return Wl;um=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function u(c,x,p){var b=null;if(p!==void 0&&(b=""+p),x.key!==void 0&&(b=""+x.key),"key"in x){p={};for(var w in x)w!=="key"&&(p[w]=x[w])}else p=x;return x=p.ref,{$$typeof:r,type:c,key:b,ref:x!==void 0?x:null,props:p}}return Wl.Fragment=o,Wl.jsx=u,Wl.jsxs=u,Wl}var mm;function Nh(){return mm||(mm=1,Ko.exports=jh()),Ko.exports}var a=Nh(),Po={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function wh(){if(xm)return ge;xm=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function q(m){return m===null||typeof m!="object"?null:(m=S&&m[S]||m["@@iterator"],typeof m=="function"?m:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,D={};function B(m,H,te){this.props=m,this.context=H,this.refs=D,this.updater=te||R}B.prototype.isReactComponent={},B.prototype.setState=function(m,H){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,H,"setState")},B.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function k(){}k.prototype=B.prototype;function G(m,H,te){this.props=m,this.context=H,this.refs=D,this.updater=te||R}var _=G.prototype=new k;_.constructor=G,Z(_,B.prototype),_.isPureReactComponent=!0;var I=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function X(m,H,te,ae,oe,pe){return te=pe.ref,{$$typeof:r,type:m,key:H,ref:te!==void 0?te:null,props:pe}}function ne(m,H){return X(m.type,H,void 0,void 0,void 0,m.props)}function W(m){return typeof m=="object"&&m!==null&&m.$$typeof===r}function re(m){var H={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(te){return H[te]})}var J=/\/+/g;function de(m,H){return typeof m=="object"&&m!==null&&m.key!=null?re(""+m.key):H.toString(36)}function M(){}function T(m){switch(m.status){case"fulfilled":return m.value;case"rejected":throw m.reason;default:switch(typeof m.status=="string"?m.then(M,M):(m.status="pending",m.then(function(H){m.status==="pending"&&(m.status="fulfilled",m.value=H)},function(H){m.status==="pending"&&(m.status="rejected",m.reason=H)})),m.status){case"fulfilled":return m.value;case"rejected":throw m.reason}}throw m}function se(m,H,te,ae,oe){var pe=typeof m;(pe==="undefined"||pe==="boolean")&&(m=null);var g=!1;if(m===null)g=!0;else switch(pe){case"bigint":case"string":case"number":g=!0;break;case"object":switch(m.$$typeof){case r:case o:g=!0;break;case v:return g=m._init,se(g(m._payload),H,te,ae,oe)}}if(g)return oe=oe(m),g=ae===""?"."+de(m,0):ae,I(oe)?(te="",g!=null&&(te=g.replace(J,"$&/")+"/"),se(oe,H,te,"",function(it){return it})):oe!=null&&(W(oe)&&(oe=ne(oe,te+(oe.key==null||m&&m.key===oe.key?"":(""+oe.key).replace(J,"$&/")+"/")+g)),H.push(oe)),1;g=0;var le=ae===""?".":ae+":";if(I(m))for(var fe=0;fe<m.length;fe++)ae=m[fe],pe=le+de(ae,fe),g+=se(ae,H,te,pe,oe);else if(fe=q(m),typeof fe=="function")for(m=fe.call(m),fe=0;!(ae=m.next()).done;)ae=ae.value,pe=le+de(ae,fe++),g+=se(ae,H,te,pe,oe);else if(pe==="object"){if(typeof m.then=="function")return se(T(m),H,te,ae,oe);throw H=String(m),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return g}function L(m,H,te){if(m==null)return m;var ae=[],oe=0;return se(m,ae,"","",function(pe){return H.call(te,pe,oe++)}),ae}function E(m){if(m._status===-1){var H=m._result;H=H(),H.then(function(te){(m._status===0||m._status===-1)&&(m._status=1,m._result=te)},function(te){(m._status===0||m._status===-1)&&(m._status=2,m._result=te)}),m._status===-1&&(m._status=0,m._result=H)}if(m._status===1)return m._result.default;throw m._result}var ee=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)};function ue(){}return ge.Children={map:L,forEach:function(m,H,te){L(m,function(){H.apply(this,arguments)},te)},count:function(m){var H=0;return L(m,function(){H++}),H},toArray:function(m){return L(m,function(H){return H})||[]},only:function(m){if(!W(m))throw Error("React.Children.only expected to receive a single React element child.");return m}},ge.Component=B,ge.Fragment=u,ge.Profiler=x,ge.PureComponent=G,ge.StrictMode=c,ge.Suspense=j,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ge.__COMPILER_RUNTIME={__proto__:null,c:function(m){return K.H.useMemoCache(m)}},ge.cache=function(m){return function(){return m.apply(null,arguments)}},ge.cloneElement=function(m,H,te){if(m==null)throw Error("The argument must be a React element, but you passed "+m+".");var ae=Z({},m.props),oe=m.key,pe=void 0;if(H!=null)for(g in H.ref!==void 0&&(pe=void 0),H.key!==void 0&&(oe=""+H.key),H)!P.call(H,g)||g==="key"||g==="__self"||g==="__source"||g==="ref"&&H.ref===void 0||(ae[g]=H[g]);var g=arguments.length-2;if(g===1)ae.children=te;else if(1<g){for(var le=Array(g),fe=0;fe<g;fe++)le[fe]=arguments[fe+2];ae.children=le}return X(m.type,oe,void 0,void 0,pe,ae)},ge.createContext=function(m){return m={$$typeof:b,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null},m.Provider=m,m.Consumer={$$typeof:p,_context:m},m},ge.createElement=function(m,H,te){var ae,oe={},pe=null;if(H!=null)for(ae in H.key!==void 0&&(pe=""+H.key),H)P.call(H,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(oe[ae]=H[ae]);var g=arguments.length-2;if(g===1)oe.children=te;else if(1<g){for(var le=Array(g),fe=0;fe<g;fe++)le[fe]=arguments[fe+2];oe.children=le}if(m&&m.defaultProps)for(ae in g=m.defaultProps,g)oe[ae]===void 0&&(oe[ae]=g[ae]);return X(m,pe,void 0,void 0,null,oe)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(m){return{$$typeof:w,render:m}},ge.isValidElement=W,ge.lazy=function(m){return{$$typeof:v,_payload:{_status:-1,_result:m},_init:E}},ge.memo=function(m,H){return{$$typeof:y,type:m,compare:H===void 0?null:H}},ge.startTransition=function(m){var H=K.T,te={};K.T=te;try{var ae=m(),oe=K.S;oe!==null&&oe(te,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ue,ee)}catch(pe){ee(pe)}finally{K.T=H}},ge.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ge.use=function(m){return K.H.use(m)},ge.useActionState=function(m,H,te){return K.H.useActionState(m,H,te)},ge.useCallback=function(m,H){return K.H.useCallback(m,H)},ge.useContext=function(m){return K.H.useContext(m)},ge.useDebugValue=function(){},ge.useDeferredValue=function(m,H){return K.H.useDeferredValue(m,H)},ge.useEffect=function(m,H,te){var ae=K.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(m,H)},ge.useId=function(){return K.H.useId()},ge.useImperativeHandle=function(m,H,te){return K.H.useImperativeHandle(m,H,te)},ge.useInsertionEffect=function(m,H){return K.H.useInsertionEffect(m,H)},ge.useLayoutEffect=function(m,H){return K.H.useLayoutEffect(m,H)},ge.useMemo=function(m,H){return K.H.useMemo(m,H)},ge.useOptimistic=function(m,H){return K.H.useOptimistic(m,H)},ge.useReducer=function(m,H,te){return K.H.useReducer(m,H,te)},ge.useRef=function(m){return K.H.useRef(m)},ge.useState=function(m){return K.H.useState(m)},ge.useSyncExternalStore=function(m,H,te){return K.H.useSyncExternalStore(m,H,te)},ge.useTransition=function(){return K.H.useTransition()},ge.version="19.1.0",ge}var fm;function dc(){return fm||(fm=1,Po.exports=wh()),Po.exports}var h=dc();const Sh=Dm(h);var Jo={exports:{}},Fl={},Wo={exports:{}},Fo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function Eh(){return hm||(hm=1,function(r){function o(L,E){var ee=L.length;L.push(E);e:for(;0<ee;){var ue=ee-1>>>1,m=L[ue];if(0<x(m,E))L[ue]=E,L[ee]=m,ee=ue;else break e}}function u(L){return L.length===0?null:L[0]}function c(L){if(L.length===0)return null;var E=L[0],ee=L.pop();if(ee!==E){L[0]=ee;e:for(var ue=0,m=L.length,H=m>>>1;ue<H;){var te=2*(ue+1)-1,ae=L[te],oe=te+1,pe=L[oe];if(0>x(ae,ee))oe<m&&0>x(pe,ae)?(L[ue]=pe,L[oe]=ee,ue=oe):(L[ue]=ae,L[te]=ee,ue=te);else if(oe<m&&0>x(pe,ee))L[ue]=pe,L[oe]=ee,ue=oe;else break e}}return E}function x(L,E){var ee=L.sortIndex-E.sortIndex;return ee!==0?ee:L.id-E.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;r.unstable_now=function(){return p.now()}}else{var b=Date,w=b.now();r.unstable_now=function(){return b.now()-w}}var j=[],y=[],v=1,S=null,q=3,R=!1,Z=!1,D=!1,B=!1,k=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function I(L){for(var E=u(y);E!==null;){if(E.callback===null)c(y);else if(E.startTime<=L)c(y),E.sortIndex=E.expirationTime,o(j,E);else break;E=u(y)}}function K(L){if(D=!1,I(L),!Z)if(u(j)!==null)Z=!0,P||(P=!0,de());else{var E=u(y);E!==null&&se(K,E.startTime-L)}}var P=!1,X=-1,ne=5,W=-1;function re(){return B?!0:!(r.unstable_now()-W<ne)}function J(){if(B=!1,P){var L=r.unstable_now();W=L;var E=!0;try{e:{Z=!1,D&&(D=!1,G(X),X=-1),R=!0;var ee=q;try{t:{for(I(L),S=u(j);S!==null&&!(S.expirationTime>L&&re());){var ue=S.callback;if(typeof ue=="function"){S.callback=null,q=S.priorityLevel;var m=ue(S.expirationTime<=L);if(L=r.unstable_now(),typeof m=="function"){S.callback=m,I(L),E=!0;break t}S===u(j)&&c(j),I(L)}else c(j);S=u(j)}if(S!==null)E=!0;else{var H=u(y);H!==null&&se(K,H.startTime-L),E=!1}}break e}finally{S=null,q=ee,R=!1}E=void 0}}finally{E?de():P=!1}}}var de;if(typeof _=="function")de=function(){_(J)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,T=M.port2;M.port1.onmessage=J,de=function(){T.postMessage(null)}}else de=function(){k(J,0)};function se(L,E){X=k(function(){L(r.unstable_now())},E)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return q},r.unstable_next=function(L){switch(q){case 1:case 2:case 3:var E=3;break;default:E=q}var ee=q;q=E;try{return L()}finally{q=ee}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(L,E){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ee=q;q=L;try{return E()}finally{q=ee}},r.unstable_scheduleCallback=function(L,E,ee){var ue=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ue+ee:ue):ee=ue,L){case 1:var m=-1;break;case 2:m=250;break;case 5:m=1073741823;break;case 4:m=1e4;break;default:m=5e3}return m=ee+m,L={id:v++,callback:E,priorityLevel:L,startTime:ee,expirationTime:m,sortIndex:-1},ee>ue?(L.sortIndex=ee,o(y,L),u(j)===null&&L===u(y)&&(D?(G(X),X=-1):D=!0,se(K,ee-ue))):(L.sortIndex=m,o(j,L),Z||R||(Z=!0,P||(P=!0,de()))),L},r.unstable_shouldYield=re,r.unstable_wrapCallback=function(L){var E=q;return function(){var ee=q;q=E;try{return L.apply(this,arguments)}finally{q=ee}}}}(Fo)),Fo}var pm;function kh(){return pm||(pm=1,Wo.exports=Eh()),Wo.exports}var Io={exports:{}},st={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function Ch(){if(gm)return st;gm=1;var r=dc();function o(j){var y="https://react.dev/errors/"+j;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+j+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var c={d:{f:u,r:function(){throw Error(o(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},x=Symbol.for("react.portal");function p(j,y,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:S==null?null:""+S,children:j,containerInfo:y,implementation:v}}var b=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function w(j,y){if(j==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,st.createPortal=function(j,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(o(299));return p(j,y,null,v)},st.flushSync=function(j){var y=b.T,v=c.p;try{if(b.T=null,c.p=2,j)return j()}finally{b.T=y,c.p=v,c.d.f()}},st.preconnect=function(j,y){typeof j=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,c.d.C(j,y))},st.prefetchDNS=function(j){typeof j=="string"&&c.d.D(j)},st.preinit=function(j,y){if(typeof j=="string"&&y&&typeof y.as=="string"){var v=y.as,S=w(v,y.crossOrigin),q=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?c.d.S(j,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:q,fetchPriority:R}):v==="script"&&c.d.X(j,{crossOrigin:S,integrity:q,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},st.preinitModule=function(j,y){if(typeof j=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=w(y.as,y.crossOrigin);c.d.M(j,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&c.d.M(j)},st.preload=function(j,y){if(typeof j=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,S=w(v,y.crossOrigin);c.d.L(j,v,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},st.preloadModule=function(j,y){if(typeof j=="string")if(y){var v=w(y.as,y.crossOrigin);c.d.m(j,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else c.d.m(j)},st.requestFormReset=function(j){c.d.r(j)},st.unstable_batchedUpdates=function(j,y){return j(y)},st.useFormState=function(j,y,v){return b.H.useFormState(j,y,v)},st.useFormStatus=function(){return b.H.useHostTransitionStatus()},st.version="19.1.0",st}var ym;function Mh(){if(ym)return Io.exports;ym=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),Io.exports=Ch(),Io.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function Ah(){if(bm)return Fl;bm=1;var r=kh(),o=dc(),u=Mh();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function b(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(p(e)!==e)throw Error(c(188))}function j(e){var t=e.alternate;if(!t){if(t=p(e),t===null)throw Error(c(188));return t!==e?null:e}for(var s=e,l=t;;){var n=s.return;if(n===null)break;var i=n.alternate;if(i===null){if(l=n.return,l!==null){s=l;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return w(n),e;if(i===l)return w(n),t;i=i.sibling}throw Error(c(188))}if(s.return!==l.return)s=n,l=i;else{for(var d=!1,f=n.child;f;){if(f===s){d=!0,s=n,l=i;break}if(f===l){d=!0,l=n,s=i;break}f=f.sibling}if(!d){for(f=i.child;f;){if(f===s){d=!0,s=i,l=n;break}if(f===l){d=!0,l=i,s=n;break}f=f.sibling}if(!d)throw Error(c(189))}}if(s.alternate!==l)throw Error(c(190))}if(s.tag!==3)throw Error(c(188));return s.stateNode.current===s?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),_=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function T(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case B:return"Profiler";case D:return"StrictMode";case K:return"Suspense";case P:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case _:return(e.displayName||"Context")+".Provider";case G:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:T(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return T(e(t))}catch{}}return null}var se=Array.isArray,L=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ue=[],m=-1;function H(e){return{current:e}}function te(e){0>m||(e.current=ue[m],ue[m]=null,m--)}function ae(e,t){m++,ue[m]=e.current,e.current=t}var oe=H(null),pe=H(null),g=H(null),le=H(null);function fe(e,t){switch(ae(g,t),ae(pe,e),ae(oe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?_0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=_0(t),e=q0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(oe),ae(oe,e)}function it(){te(oe),te(pe),te(g)}function xt(e){e.memoizedState!==null&&ae(le,e);var t=oe.current,s=q0(t,e.type);t!==s&&(ae(pe,e),ae(oe,s))}function Vt(e){pe.current===e&&(te(oe),te(pe)),le.current===e&&(te(le),Ql._currentValue=ee)}var F=Object.prototype.hasOwnProperty,Ge=r.unstable_scheduleCallback,St=r.unstable_cancelCallback,Fs=r.unstable_shouldYield,Is=r.unstable_requestPaint,Et=r.unstable_now,ex=r.unstable_getCurrentPriorityLevel,bc=r.unstable_ImmediatePriority,vc=r.unstable_UserBlockingPriority,nn=r.unstable_NormalPriority,tx=r.unstable_LowPriority,jc=r.unstable_IdlePriority,ax=r.log,sx=r.unstable_setDisableYieldValue,el=null,ft=null;function pa(e){if(typeof ax=="function"&&sx(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(el,e)}catch{}}var ht=Math.clz32?Math.clz32:rx,lx=Math.log,nx=Math.LN2;function rx(e){return e>>>=0,e===0?32:31-(lx(e)/nx|0)|0}var rn=256,on=4194304;function $a(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cn(e,t,s){var l=e.pendingLanes;if(l===0)return 0;var n=0,i=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var f=l&134217727;return f!==0?(l=f&~i,l!==0?n=$a(l):(d&=f,d!==0?n=$a(d):s||(s=f&~e,s!==0&&(n=$a(s))))):(f=l&~i,f!==0?n=$a(f):d!==0?n=$a(d):s||(s=l&~e,s!==0&&(n=$a(s)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,s=t&-t,i>=s||i===32&&(s&4194048)!==0)?t:n}function tl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ix(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nc(){var e=rn;return rn<<=1,(rn&4194048)===0&&(rn=256),e}function wc(){var e=on;return on<<=1,(on&62914560)===0&&(on=4194304),e}function Br(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function al(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ox(e,t,s,l,n,i){var d=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var f=e.entanglements,N=e.expirationTimes,O=e.hiddenUpdates;for(s=d&~s;0<s;){var V=31-ht(s),Q=1<<V;f[V]=0,N[V]=-1;var U=O[V];if(U!==null)for(O[V]=null,V=0;V<U.length;V++){var Y=U[V];Y!==null&&(Y.lane&=-536870913)}s&=~Q}l!==0&&Sc(e,l,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(d&~t))}function Sc(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ht(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function Ec(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var l=31-ht(s),n=1<<l;n&t|e[l]&t&&(e[l]|=t),s&=~n}}function Hr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ur(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function kc(){var e=E.p;return e!==0?e:(e=window.event,e===void 0?32:nm(e.type))}function cx(e,t){var s=E.p;try{return E.p=e,t()}finally{E.p=s}}var ga=Math.random().toString(36).slice(2),tt="__reactFiber$"+ga,ot="__reactProps$"+ga,ds="__reactContainer$"+ga,_r="__reactEvents$"+ga,dx="__reactListeners$"+ga,ux="__reactHandles$"+ga,Cc="__reactResources$"+ga,sl="__reactMarker$"+ga;function qr(e){delete e[tt],delete e[ot],delete e[_r],delete e[dx],delete e[ux]}function us(e){var t=e[tt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ds]||s[tt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=$0(e);e!==null;){if(s=e[tt])return s;e=$0(e)}return t}e=s,s=e.parentNode}return null}function ms(e){if(e=e[tt]||e[ds]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ll(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function xs(e){var t=e[Cc];return t||(t=e[Cc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[sl]=!0}var Mc=new Set,Ac={};function Xa(e,t){fs(e,t),fs(e+"Capture",t)}function fs(e,t){for(Ac[e]=t,e=0;e<t.length;e++)Mc.add(t[e])}var mx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dc={},Tc={};function xx(e){return F.call(Tc,e)?!0:F.call(Dc,e)?!1:mx.test(e)?Tc[e]=!0:(Dc[e]=!0,!1)}function dn(e,t,s){if(xx(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function un(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function Wt(e,t,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+l)}}var Yr,Lc;function hs(e){if(Yr===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Yr=t&&t[1]||"",Lc=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+Lc}var Gr=!1;function Vr(e,t){if(!e||Gr)return"";Gr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(Y){var U=Y}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(Y){U=Y}e.call(Q.prototype)}}else{try{throw Error()}catch(Y){U=Y}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(Y){if(Y&&U&&typeof Y.stack=="string")return[Y.stack,U.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),d=i[0],f=i[1];if(d&&f){var N=d.split(`
`),O=f.split(`
`);for(n=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;n<O.length&&!O[n].includes("DetermineComponentFrameRoot");)n++;if(l===N.length||n===O.length)for(l=N.length-1,n=O.length-1;1<=l&&0<=n&&N[l]!==O[n];)n--;for(;1<=l&&0<=n;l--,n--)if(N[l]!==O[n]){if(l!==1||n!==1)do if(l--,n--,0>n||N[l]!==O[n]){var V=`
`+N[l].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=l&&0<=n);break}}}finally{Gr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?hs(s):""}function fx(e){switch(e.tag){case 26:case 27:case 5:return hs(e.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 15:return Vr(e.type,!1);case 11:return Vr(e.type.render,!1);case 1:return Vr(e.type,!0);case 31:return hs("Activity");default:return""}}function zc(e){try{var t="";do t+=fx(e),e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hx(e){var t=Rc(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(d){l=""+d,i.call(this,d)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(d){l=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mn(e){e._valueTracker||(e._valueTracker=hx(e))}function Oc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),l="";return e&&(l=Rc(e)?e.checked?"true":"false":e.value),e=l,e!==s?(t.setValue(e),!0):!1}function xn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var px=/[\n"\\]/g;function Ct(e){return e.replace(px,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $r(e,t,s,l,n,i,d,f){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Xr(e,d,kt(t)):s!=null?Xr(e,d,kt(s)):l!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+kt(f):e.removeAttribute("name")}function Bc(e,t,s,l,n,i,d,f){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||s!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;s=s!=null?""+kt(s):"",t=t!=null?""+kt(t):s,f||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=f?e.checked:!!l,e.defaultChecked=!!l,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function Xr(e,t,s){t==="number"&&xn(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ps(e,t,s,l){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&l&&(e[s].defaultSelected=!0)}else{for(s=""+kt(s),t=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Hc(e,t,s){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+kt(s):""}function Uc(e,t,s,l){if(t==null){if(l!=null){if(s!=null)throw Error(c(92));if(se(l)){if(1<l.length)throw Error(c(93));l=l[0]}s=l}s==null&&(s=""),t=s}s=kt(t),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function gs(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var gx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _c(e,t,s){var l=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,s):typeof s!="number"||s===0||gx.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function qc(e,t,s){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&s[n]!==l&&_c(e,n,l)}else for(var i in t)t.hasOwnProperty(i)&&_c(e,i,t[i])}function Qr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fn(e){return bx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Zr=null;function Kr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ys=null,bs=null;function Yc(e){var t=ms(e);if(t&&(e=t.stateNode)){var s=e[ot]||null;e:switch(e=t.stateNode,t.type){case"input":if($r(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ct(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var l=s[t];if(l!==e&&l.form===e.form){var n=l[ot]||null;if(!n)throw Error(c(90));$r(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<s.length;t++)l=s[t],l.form===e.form&&Oc(l)}break e;case"textarea":Hc(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&ps(e,!!s.multiple,t,!1)}}}var Pr=!1;function Gc(e,t,s){if(Pr)return e(t,s);Pr=!0;try{var l=e(t);return l}finally{if(Pr=!1,(ys!==null||bs!==null)&&(In(),ys&&(t=ys,e=bs,bs=ys=null,Yc(t),e)))for(t=0;t<e.length;t++)Yc(e[t])}}function nl(e,t){var s=e.stateNode;if(s===null)return null;var l=s[ot]||null;if(l===null)return null;s=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(c(231,t,typeof s));return s}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jr=!1;if(Ft)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){Jr=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{Jr=!1}var ya=null,Wr=null,hn=null;function Vc(){if(hn)return hn;var e,t=Wr,s=t.length,l,n="value"in ya?ya.value:ya.textContent,i=n.length;for(e=0;e<s&&t[e]===n[e];e++);var d=s-e;for(l=1;l<=d&&t[s-l]===n[i-l];l++);return hn=n.slice(e,1<l?1-l:void 0)}function pn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gn(){return!0}function $c(){return!1}function ct(e){function t(s,l,n,i,d){this._reactName=s,this._targetInst=n,this.type=l,this.nativeEvent=i,this.target=d,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(s=e[f],this[f]=s?s(i):i[f]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gn:$c,this.isPropagationStopped=$c,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gn)},persist:function(){},isPersistent:gn}),t}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yn=ct(Qa),il=v({},Qa,{view:0,detail:0}),vx=ct(il),Fr,Ir,ol,bn=v({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ti,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ol&&(ol&&e.type==="mousemove"?(Fr=e.screenX-ol.screenX,Ir=e.screenY-ol.screenY):Ir=Fr=0,ol=e),Fr)},movementY:function(e){return"movementY"in e?e.movementY:Ir}}),Xc=ct(bn),jx=v({},bn,{dataTransfer:0}),Nx=ct(jx),wx=v({},il,{relatedTarget:0}),ei=ct(wx),Sx=v({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ex=ct(Sx),kx=v({},Qa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cx=ct(kx),Mx=v({},Qa,{data:0}),Qc=ct(Mx),Ax={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tx[e])?!!t[e]:!1}function ti(){return Lx}var zx=v({},il,{key:function(e){if(e.key){var t=Ax[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ti,charCode:function(e){return e.type==="keypress"?pn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rx=ct(zx),Ox=v({},bn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=ct(Ox),Bx=v({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ti}),Hx=ct(Bx),Ux=v({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),_x=ct(Ux),qx=v({},bn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yx=ct(qx),Gx=v({},Qa,{newState:0,oldState:0}),Vx=ct(Gx),$x=[9,13,27,32],ai=Ft&&"CompositionEvent"in window,cl=null;Ft&&"documentMode"in document&&(cl=document.documentMode);var Xx=Ft&&"TextEvent"in window&&!cl,Kc=Ft&&(!ai||cl&&8<cl&&11>=cl),Pc=" ",Jc=!1;function Wc(e,t){switch(e){case"keyup":return $x.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vs=!1;function Qx(e,t){switch(e){case"compositionend":return Fc(t);case"keypress":return t.which!==32?null:(Jc=!0,Pc);case"textInput":return e=t.data,e===Pc&&Jc?null:e;default:return null}}function Zx(e,t){if(vs)return e==="compositionend"||!ai&&Wc(e,t)?(e=Vc(),hn=Wr=ya=null,vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kc&&t.locale!=="ko"?null:t.data;default:return null}}var Kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kx[e.type]:t==="textarea"}function ed(e,t,s,l){ys?bs?bs.push(l):bs=[l]:ys=l,t=nr(t,"onChange"),0<t.length&&(s=new yn("onChange","change",null,s,l),e.push({event:s,listeners:t}))}var dl=null,ul=null;function Px(e){R0(e,0)}function vn(e){var t=ll(e);if(Oc(t))return e}function td(e,t){if(e==="change")return t}var ad=!1;if(Ft){var si;if(Ft){var li="oninput"in document;if(!li){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),li=typeof sd.oninput=="function"}si=li}else si=!1;ad=si&&(!document.documentMode||9<document.documentMode)}function ld(){dl&&(dl.detachEvent("onpropertychange",nd),ul=dl=null)}function nd(e){if(e.propertyName==="value"&&vn(ul)){var t=[];ed(t,ul,e,Kr(e)),Gc(Px,t)}}function Jx(e,t,s){e==="focusin"?(ld(),dl=t,ul=s,dl.attachEvent("onpropertychange",nd)):e==="focusout"&&ld()}function Wx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vn(ul)}function Fx(e,t){if(e==="click")return vn(t)}function Ix(e,t){if(e==="input"||e==="change")return vn(t)}function ef(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:ef;function ml(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var n=s[l];if(!F.call(t,n)||!pt(e[n],t[n]))return!1}return!0}function rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function id(e,t){var s=rd(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=t&&l>=t)return{node:s,offset:t-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=rd(s)}}function od(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?od(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xn(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=xn(e.document)}return t}function ni(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var tf=Ft&&"documentMode"in document&&11>=document.documentMode,js=null,ri=null,xl=null,ii=!1;function dd(e,t,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ii||js==null||js!==xn(l)||(l=js,"selectionStart"in l&&ni(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&ml(xl,l)||(xl=l,l=nr(ri,"onSelect"),0<l.length&&(t=new yn("onSelect","select",null,t,s),e.push({event:t,listeners:l}),t.target=js)))}function Za(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ns={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},oi={},ud={};Ft&&(ud=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Ka(e){if(oi[e])return oi[e];if(!Ns[e])return e;var t=Ns[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in ud)return oi[e]=t[s];return e}var md=Ka("animationend"),xd=Ka("animationiteration"),fd=Ka("animationstart"),af=Ka("transitionrun"),sf=Ka("transitionstart"),lf=Ka("transitioncancel"),hd=Ka("transitionend"),pd=new Map,ci="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ci.push("scrollEnd");function Ut(e,t){pd.set(e,t),Xa(t,[e])}var gd=new WeakMap;function Mt(e,t){if(typeof e=="object"&&e!==null){var s=gd.get(e);return s!==void 0?s:(t={value:e,source:t,stack:zc(t)},gd.set(e,t),t)}return{value:e,source:t,stack:zc(t)}}var At=[],ws=0,di=0;function jn(){for(var e=ws,t=di=ws=0;t<e;){var s=At[t];At[t++]=null;var l=At[t];At[t++]=null;var n=At[t];At[t++]=null;var i=At[t];if(At[t++]=null,l!==null&&n!==null){var d=l.pending;d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n}i!==0&&yd(s,n,i)}}function Nn(e,t,s,l){At[ws++]=e,At[ws++]=t,At[ws++]=s,At[ws++]=l,di|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ui(e,t,s,l){return Nn(e,t,s,l),wn(e)}function Ss(e,t){return Nn(e,null,null,t),wn(e)}function yd(e,t,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var n=!1,i=e.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-ht(s),e=i.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=s|536870912),i):null}function wn(e){if(50<Ul)throw Ul=0,yo=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Es={};function nf(e,t,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,s,l){return new nf(e,t,s,l)}function mi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function It(e,t){var s=e.alternate;return s===null?(s=gt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function bd(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Sn(e,t,s,l,n,i){var d=0;if(l=e,typeof e=="function")mi(e)&&(d=1);else if(typeof e=="string")d=oh(e,s,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=gt(31,s,t,n),e.elementType=W,e.lanes=i,e;case Z:return Pa(s.children,n,i,t);case D:d=8,n|=24;break;case B:return e=gt(12,s,t,n|2),e.elementType=B,e.lanes=i,e;case K:return e=gt(13,s,t,n),e.elementType=K,e.lanes=i,e;case P:return e=gt(19,s,t,n),e.elementType=P,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:case _:d=10;break e;case G:d=9;break e;case I:d=11;break e;case X:d=14;break e;case ne:d=16,l=null;break e}d=29,s=Error(c(130,e===null?"null":typeof e,"")),l=null}return t=gt(d,s,t,n),t.elementType=e,t.type=l,t.lanes=i,t}function Pa(e,t,s,l){return e=gt(7,e,l,t),e.lanes=s,e}function xi(e,t,s){return e=gt(6,e,null,t),e.lanes=s,e}function fi(e,t,s){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ks=[],Cs=0,En=null,kn=0,Dt=[],Tt=0,Ja=null,ea=1,ta="";function Wa(e,t){ks[Cs++]=kn,ks[Cs++]=En,En=e,kn=t}function vd(e,t,s){Dt[Tt++]=ea,Dt[Tt++]=ta,Dt[Tt++]=Ja,Ja=e;var l=ea;e=ta;var n=32-ht(l)-1;l&=~(1<<n),s+=1;var i=32-ht(t)+n;if(30<i){var d=n-n%5;i=(l&(1<<d)-1).toString(32),l>>=d,n-=d,ea=1<<32-ht(t)+n|s<<n|l,ta=i+e}else ea=1<<i|s<<n|l,ta=e}function hi(e){e.return!==null&&(Wa(e,1),vd(e,1,0))}function pi(e){for(;e===En;)En=ks[--Cs],ks[Cs]=null,kn=ks[--Cs],ks[Cs]=null;for(;e===Ja;)Ja=Dt[--Tt],Dt[Tt]=null,ta=Dt[--Tt],Dt[Tt]=null,ea=Dt[--Tt],Dt[Tt]=null}var rt=null,Be=null,Se=!1,Fa=null,$t=!1,gi=Error(c(519));function Ia(e){var t=Error(c(418,""));throw pl(Mt(t,e)),gi}function jd(e){var t=e.stateNode,s=e.type,l=e.memoizedProps;switch(t[tt]=e,t[ot]=l,s){case"dialog":je("cancel",t),je("close",t);break;case"iframe":case"object":case"embed":je("load",t);break;case"video":case"audio":for(s=0;s<ql.length;s++)je(ql[s],t);break;case"source":je("error",t);break;case"img":case"image":case"link":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"input":je("invalid",t),Bc(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),mn(t);break;case"select":je("invalid",t);break;case"textarea":je("invalid",t),Uc(t,l.value,l.defaultValue,l.children),mn(t)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||l.suppressHydrationWarning===!0||U0(t.textContent,s)?(l.popover!=null&&(je("beforetoggle",t),je("toggle",t)),l.onScroll!=null&&je("scroll",t),l.onScrollEnd!=null&&je("scrollend",t),l.onClick!=null&&(t.onclick=rr),t=!0):t=!1,t||Ia(e)}function Nd(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:rt=rt.return}}function fl(e){if(e!==rt)return!1;if(!Se)return Nd(e),Se=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ro(e.type,e.memoizedProps)),s=!s),s&&Be&&Ia(e),Nd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(t===0){Be=qt(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++;e=e.nextSibling}Be=null}}else t===27?(t=Be,Ra(e.type)?(e=Uo,Uo=null,Be=e):Be=t):Be=rt?qt(e.stateNode.nextSibling):null;return!0}function hl(){Be=rt=null,Se=!1}function wd(){var e=Fa;return e!==null&&(mt===null?mt=e:mt.push.apply(mt,e),Fa=null),e}function pl(e){Fa===null?Fa=[e]:Fa.push(e)}var yi=H(null),es=null,aa=null;function ba(e,t,s){ae(yi,t._currentValue),t._currentValue=s}function sa(e){e._currentValue=yi.current,te(yi)}function bi(e,t,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===s)break;e=e.return}}function vi(e,t,s,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var d=n.child;i=i.firstContext;e:for(;i!==null;){var f=i;i=n;for(var N=0;N<t.length;N++)if(f.context===t[N]){i.lanes|=s,f=i.alternate,f!==null&&(f.lanes|=s),bi(i.return,s,e),l||(d=null);break e}i=f.next}}else if(n.tag===18){if(d=n.return,d===null)throw Error(c(341));d.lanes|=s,i=d.alternate,i!==null&&(i.lanes|=s),bi(d,s,e),d=null}else d=n.child;if(d!==null)d.return=n;else for(d=n;d!==null;){if(d===e){d=null;break}if(n=d.sibling,n!==null){n.return=d.return,d=n;break}d=d.return}n=d}}function gl(e,t,s,l){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var d=n.alternate;if(d===null)throw Error(c(387));if(d=d.memoizedProps,d!==null){var f=n.type;pt(n.pendingProps.value,d.value)||(e!==null?e.push(f):e=[f])}}else if(n===le.current){if(d=n.alternate,d===null)throw Error(c(387));d.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Ql):e=[Ql])}n=n.return}e!==null&&vi(t,e,s,l),t.flags|=262144}function Cn(e){for(e=e.firstContext;e!==null;){if(!pt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ts(e){es=e,aa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return Sd(es,e)}function Mn(e,t){return es===null&&ts(e),Sd(e,t)}function Sd(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},aa===null){if(e===null)throw Error(c(308));aa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else aa=aa.next=t;return s}var rf=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},of=r.unstable_scheduleCallback,cf=r.unstable_NormalPriority,Xe={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ji(){return{controller:new rf,data:new Map,refCount:0}}function yl(e){e.refCount--,e.refCount===0&&of(cf,function(){e.controller.abort()})}var bl=null,Ni=0,Ms=0,As=null;function df(e,t){if(bl===null){var s=bl=[];Ni=0,Ms=Eo(),As={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Ni++,t.then(Ed,Ed),t}function Ed(){if(--Ni===0&&bl!==null){As!==null&&(As.status="fulfilled");var e=bl;bl=null,Ms=0,As=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function uf(e,t){var s=[],l={status:"pending",value:null,reason:null,then:function(n){s.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<s.length;n++)(0,s[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<s.length;n++)(0,s[n])(void 0)}),l}var kd=L.S;L.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&df(e,t),kd!==null&&kd(e,t)};var as=H(null);function wi(){var e=as.current;return e!==null?e:Te.pooledCache}function An(e,t){t===null?ae(as,as.current):ae(as,t.pool)}function Cd(){var e=wi();return e===null?null:{parent:Xe._currentValue,pool:e}}var vl=Error(c(460)),Md=Error(c(474)),Dn=Error(c(542)),Si={then:function(){}};function Ad(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tn(){}function Dd(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(Tn,Tn),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ld(e),e;default:if(typeof t.status=="string")t.then(Tn,Tn);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ld(e),e}throw jl=t,vl}}var jl=null;function Td(){if(jl===null)throw Error(c(459));var e=jl;return jl=null,e}function Ld(e){if(e===vl||e===Dn)throw Error(c(483))}var va=!1;function Ei(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ki(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ja(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Na(e,t,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=wn(e),yd(e,null,s),t}return Nn(e,l,t,s),wn(e)}function Nl(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Ec(e,s)}}function Ci(e,t){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var n=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var d={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};i===null?n=i=d:i=i.next=d,s=s.next}while(s!==null);i===null?n=i=t:i=i.next=t}else n=i=t;s={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Mi=!1;function wl(){if(Mi){var e=As;if(e!==null)throw e}}function Sl(e,t,s,l){Mi=!1;var n=e.updateQueue;va=!1;var i=n.firstBaseUpdate,d=n.lastBaseUpdate,f=n.shared.pending;if(f!==null){n.shared.pending=null;var N=f,O=N.next;N.next=null,d===null?i=O:d.next=O,d=N;var V=e.alternate;V!==null&&(V=V.updateQueue,f=V.lastBaseUpdate,f!==d&&(f===null?V.firstBaseUpdate=O:f.next=O,V.lastBaseUpdate=N))}if(i!==null){var Q=n.baseState;d=0,V=O=N=null,f=i;do{var U=f.lane&-536870913,Y=U!==f.lane;if(Y?(Ne&U)===U:(l&U)===U){U!==0&&U===Ms&&(Mi=!0),V!==null&&(V=V.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var he=e,me=f;U=t;var Ae=s;switch(me.tag){case 1:if(he=me.payload,typeof he=="function"){Q=he.call(Ae,Q,U);break e}Q=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=me.payload,U=typeof he=="function"?he.call(Ae,Q,U):he,U==null)break e;Q=v({},Q,U);break e;case 2:va=!0}}U=f.callback,U!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=n.callbacks,Y===null?n.callbacks=[U]:Y.push(U))}else Y={lane:U,tag:f.tag,payload:f.payload,callback:f.callback,next:null},V===null?(O=V=Y,N=Q):V=V.next=Y,d|=U;if(f=f.next,f===null){if(f=n.shared.pending,f===null)break;Y=f,f=Y.next,Y.next=null,n.lastBaseUpdate=Y,n.shared.pending=null}}while(!0);V===null&&(N=Q),n.baseState=N,n.firstBaseUpdate=O,n.lastBaseUpdate=V,i===null&&(n.shared.lanes=0),Da|=d,e.lanes=d,e.memoizedState=Q}}function zd(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Rd(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)zd(s[e],t)}var Ds=H(null),Ln=H(0);function Od(e,t){e=da,ae(Ln,e),ae(Ds,t),da=e|t.baseLanes}function Ai(){ae(Ln,da),ae(Ds,Ds.current)}function Di(){da=Ln.current,te(Ds),te(Ln)}var wa=0,ye=null,Ce=null,Ve=null,zn=!1,Ts=!1,ss=!1,Rn=0,El=0,Ls=null,mf=0;function qe(){throw Error(c(321))}function Ti(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!pt(e[s],t[s]))return!1;return!0}function Li(e,t,s,l,n,i){return wa=i,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?yu:bu,ss=!1,i=s(l,n),ss=!1,Ts&&(i=Hd(t,s,l,n)),Bd(e),i}function Bd(e){L.H=qn;var t=Ce!==null&&Ce.next!==null;if(wa=0,Ve=Ce=ye=null,zn=!1,El=0,Ls=null,t)throw Error(c(300));e===null||Pe||(e=e.dependencies,e!==null&&Cn(e)&&(Pe=!0))}function Hd(e,t,s,l){ye=e;var n=0;do{if(Ts&&(Ls=null),El=0,Ts=!1,25<=n)throw Error(c(301));if(n+=1,Ve=Ce=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}L.H=bf,i=t(s,l)}while(Ts);return i}function xf(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?kl(t):t,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(ye.flags|=1024),t}function zi(){var e=Rn!==0;return Rn=0,e}function Ri(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function Oi(e){if(zn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}zn=!1}wa=0,Ve=Ce=ye=null,Ts=!1,El=Rn=0,Ls=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?ye.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function $e(){if(Ce===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Ve===null?ye.memoizedState:Ve.next;if(t!==null)Ve=t,Ce=e;else{if(e===null)throw ye.alternate===null?Error(c(467)):Error(c(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ve===null?ye.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Bi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(e){var t=El;return El+=1,Ls===null&&(Ls=[]),e=Dd(Ls,e,t),t=ye,(Ve===null?t.memoizedState:Ve.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?yu:bu),e}function On(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return kl(e);if(e.$$typeof===_)return at(e)}throw Error(c(438,String(e)))}function Hi(e){var t=null,s=ye.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var l=ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=Bi(),ye.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),l=0;l<e;l++)s[l]=re;return t.index++,s}function la(e,t){return typeof t=="function"?t(e):t}function Bn(e){var t=$e();return Ui(t,Ce,e)}function Ui(e,t,s){var l=e.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=s;var n=e.baseQueue,i=l.pending;if(i!==null){if(n!==null){var d=n.next;n.next=i.next,i.next=d}t.baseQueue=n=i,l.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var f=d=null,N=null,O=t,V=!1;do{var Q=O.lane&-536870913;if(Q!==O.lane?(Ne&Q)===Q:(wa&Q)===Q){var U=O.revertLane;if(U===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Q===Ms&&(V=!0);else if((wa&U)===U){O=O.next,U===Ms&&(V=!0);continue}else Q={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},N===null?(f=N=Q,d=i):N=N.next=Q,ye.lanes|=U,Da|=U;Q=O.action,ss&&s(i,Q),i=O.hasEagerState?O.eagerState:s(i,Q)}else U={lane:Q,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},N===null?(f=N=U,d=i):N=N.next=U,ye.lanes|=Q,Da|=Q;O=O.next}while(O!==null&&O!==t);if(N===null?d=i:N.next=f,!pt(i,e.memoizedState)&&(Pe=!0,V&&(s=As,s!==null)))throw s;e.memoizedState=i,e.baseState=d,e.baseQueue=N,l.lastRenderedState=i}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function _i(e){var t=$e(),s=t.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=e;var l=s.dispatch,n=s.pending,i=t.memoizedState;if(n!==null){s.pending=null;var d=n=n.next;do i=e(i,d.action),d=d.next;while(d!==n);pt(i,t.memoizedState)||(Pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,l]}function Ud(e,t,s){var l=ye,n=$e(),i=Se;if(i){if(s===void 0)throw Error(c(407));s=s()}else s=t();var d=!pt((Ce||n).memoizedState,s);d&&(n.memoizedState=s,Pe=!0),n=n.queue;var f=Yd.bind(null,l,n,e);if(Cl(2048,8,f,[e]),n.getSnapshot!==t||d||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,zs(9,Hn(),qd.bind(null,l,n,s,t),null),Te===null)throw Error(c(349));i||(wa&124)!==0||_d(l,t,s)}return s}function _d(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ye.updateQueue,t===null?(t=Bi(),ye.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function qd(e,t,s,l){t.value=s,t.getSnapshot=l,Gd(t)&&Vd(e)}function Yd(e,t,s){return s(function(){Gd(t)&&Vd(e)})}function Gd(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!pt(e,s)}catch{return!0}}function Vd(e){var t=Ss(e,2);t!==null&&Nt(t,e,2)}function qi(e){var t=dt();if(typeof e=="function"){var s=e;if(e=s(),ss){pa(!0);try{s()}finally{pa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t}function $d(e,t,s,l){return e.baseState=s,Ui(e,Ce,typeof l=="function"?l:la)}function ff(e,t,s,l,n){if(_n(e))throw Error(c(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){i.listeners.push(d)}};L.T!==null?s(!0):i.isTransition=!1,l(i),s=t.pending,s===null?(i.next=t.pending=i,Xd(t,i)):(i.next=s.next,t.pending=s.next=i)}}function Xd(e,t){var s=t.action,l=t.payload,n=e.state;if(t.isTransition){var i=L.T,d={};L.T=d;try{var f=s(n,l),N=L.S;N!==null&&N(d,f),Qd(e,t,f)}catch(O){Yi(e,t,O)}finally{L.T=i}}else try{i=s(n,l),Qd(e,t,i)}catch(O){Yi(e,t,O)}}function Qd(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Zd(e,t,l)},function(l){return Yi(e,t,l)}):Zd(e,t,s)}function Zd(e,t,s){t.status="fulfilled",t.value=s,Kd(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,Xd(e,s)))}function Yi(e,t,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=s,Kd(t),t=t.next;while(t!==l)}e.action=null}function Kd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Pd(e,t){return t}function Jd(e,t){if(Se){var s=Te.formState;if(s!==null){e:{var l=ye;if(Se){if(Be){t:{for(var n=Be,i=$t;n.nodeType!==8;){if(!i){n=null;break t}if(n=qt(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Be=qt(n.nextSibling),l=n.data==="F!";break e}}Ia(l)}l=!1}l&&(t=s[0])}}return s=dt(),s.memoizedState=s.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pd,lastRenderedState:t},s.queue=l,s=hu.bind(null,ye,l),l.dispatch=s,l=qi(!1),i=Qi.bind(null,ye,!1,l.queue),l=dt(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,s=ff.bind(null,ye,n,i,s),n.dispatch=s,l.memoizedState=e,[t,s,!1]}function Wd(e){var t=$e();return Fd(t,Ce,e)}function Fd(e,t,s){if(t=Ui(e,t,Pd)[0],e=Bn(la)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=kl(t)}catch(d){throw d===vl?Dn:d}else l=t;t=$e();var n=t.queue,i=n.dispatch;return s!==t.memoizedState&&(ye.flags|=2048,zs(9,Hn(),hf.bind(null,n,s),null)),[l,i,e]}function hf(e,t){e.action=t}function Id(e){var t=$e(),s=Ce;if(s!==null)return Fd(t,s,e);$e(),t=t.memoizedState,s=$e();var l=s.queue.dispatch;return s.memoizedState=e,[t,l,!1]}function zs(e,t,s,l){return e={tag:e,create:s,deps:l,inst:t,next:null},t=ye.updateQueue,t===null&&(t=Bi(),ye.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,t.lastEffect=e),e}function Hn(){return{destroy:void 0,resource:void 0}}function eu(){return $e().memoizedState}function Un(e,t,s,l){var n=dt();l=l===void 0?null:l,ye.flags|=e,n.memoizedState=zs(1|t,Hn(),s,l)}function Cl(e,t,s,l){var n=$e();l=l===void 0?null:l;var i=n.memoizedState.inst;Ce!==null&&l!==null&&Ti(l,Ce.memoizedState.deps)?n.memoizedState=zs(t,i,s,l):(ye.flags|=e,n.memoizedState=zs(1|t,i,s,l))}function tu(e,t){Un(8390656,8,e,t)}function au(e,t){Cl(2048,8,e,t)}function su(e,t){return Cl(4,2,e,t)}function lu(e,t){return Cl(4,4,e,t)}function nu(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ru(e,t,s){s=s!=null?s.concat([e]):null,Cl(4,4,nu.bind(null,t,e),s)}function Gi(){}function iu(e,t){var s=$e();t=t===void 0?null:t;var l=s.memoizedState;return t!==null&&Ti(t,l[1])?l[0]:(s.memoizedState=[e,t],e)}function ou(e,t){var s=$e();t=t===void 0?null:t;var l=s.memoizedState;if(t!==null&&Ti(t,l[1]))return l[0];if(l=e(),ss){pa(!0);try{e()}finally{pa(!1)}}return s.memoizedState=[l,t],l}function Vi(e,t,s){return s===void 0||(wa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=s,e=u0(),ye.lanes|=e,Da|=e,s)}function cu(e,t,s,l){return pt(s,t)?s:Ds.current!==null?(e=Vi(e,s,l),pt(e,t)||(Pe=!0),e):(wa&42)===0?(Pe=!0,e.memoizedState=s):(e=u0(),ye.lanes|=e,Da|=e,t)}function du(e,t,s,l,n){var i=E.p;E.p=i!==0&&8>i?i:8;var d=L.T,f={};L.T=f,Qi(e,!1,t,s);try{var N=n(),O=L.S;if(O!==null&&O(f,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var V=uf(N,l);Ml(e,t,V,jt(e))}else Ml(e,t,l,jt(e))}catch(Q){Ml(e,t,{then:function(){},status:"rejected",reason:Q},jt())}finally{E.p=i,L.T=d}}function pf(){}function $i(e,t,s,l){if(e.tag!==5)throw Error(c(476));var n=uu(e).queue;du(e,n,t,ee,s===null?pf:function(){return mu(e),s(l)})}function uu(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:ee},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function mu(e){var t=uu(e).next.queue;Ml(e,t,{},jt())}function Xi(){return at(Ql)}function xu(){return $e().memoizedState}function fu(){return $e().memoizedState}function gf(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=jt();e=ja(s);var l=Na(t,e,s);l!==null&&(Nt(l,t,s),Nl(l,t,s)),t={cache:ji()},e.payload=t;return}t=t.return}}function yf(e,t,s){var l=jt();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},_n(e)?pu(t,s):(s=ui(e,t,s,l),s!==null&&(Nt(s,e,l),gu(s,t,l)))}function hu(e,t,s){var l=jt();Ml(e,t,s,l)}function Ml(e,t,s,l){var n={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(_n(e))pu(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var d=t.lastRenderedState,f=i(d,s);if(n.hasEagerState=!0,n.eagerState=f,pt(f,d))return Nn(e,t,n,0),Te===null&&jn(),!1}catch{}finally{}if(s=ui(e,t,n,l),s!==null)return Nt(s,e,l),gu(s,t,l),!0}return!1}function Qi(e,t,s,l){if(l={lane:2,revertLane:Eo(),action:l,hasEagerState:!1,eagerState:null,next:null},_n(e)){if(t)throw Error(c(479))}else t=ui(e,s,l,2),t!==null&&Nt(t,e,2)}function _n(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function pu(e,t){Ts=zn=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function gu(e,t,s){if((s&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Ec(e,s)}}var qn={readContext:at,use:On,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe},yu={readContext:at,use:On,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:tu,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,Un(4194308,4,nu.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Un(4194308,4,e,t)},useInsertionEffect:function(e,t){Un(4,2,e,t)},useMemo:function(e,t){var s=dt();t=t===void 0?null:t;var l=e();if(ss){pa(!0);try{e()}finally{pa(!1)}}return s.memoizedState=[l,t],l},useReducer:function(e,t,s){var l=dt();if(s!==void 0){var n=s(t);if(ss){pa(!0);try{s(t)}finally{pa(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=yf.bind(null,ye,e),[l.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=qi(e);var t=e.queue,s=hu.bind(null,ye,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:Gi,useDeferredValue:function(e,t){var s=dt();return Vi(s,e,t)},useTransition:function(){var e=qi(!1);return e=du.bind(null,ye,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var l=ye,n=dt();if(Se){if(s===void 0)throw Error(c(407));s=s()}else{if(s=t(),Te===null)throw Error(c(349));(Ne&124)!==0||_d(l,t,s)}n.memoizedState=s;var i={value:s,getSnapshot:t};return n.queue=i,tu(Yd.bind(null,l,i,e),[e]),l.flags|=2048,zs(9,Hn(),qd.bind(null,l,i,s,t),null),s},useId:function(){var e=dt(),t=Te.identifierPrefix;if(Se){var s=ta,l=ea;s=(l&~(1<<32-ht(l)-1)).toString(32)+s,t=""+t+"R"+s,s=Rn++,0<s&&(t+="H"+s.toString(32)),t+=""}else s=mf++,t=""+t+"r"+s.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Xi,useFormState:Jd,useActionState:Jd,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Qi.bind(null,ye,!0,s),s.dispatch=t,[e,t]},useMemoCache:Hi,useCacheRefresh:function(){return dt().memoizedState=gf.bind(null,ye)}},bu={readContext:at,use:On,useCallback:iu,useContext:at,useEffect:au,useImperativeHandle:ru,useInsertionEffect:su,useLayoutEffect:lu,useMemo:ou,useReducer:Bn,useRef:eu,useState:function(){return Bn(la)},useDebugValue:Gi,useDeferredValue:function(e,t){var s=$e();return cu(s,Ce.memoizedState,e,t)},useTransition:function(){var e=Bn(la)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:kl(e),t]},useSyncExternalStore:Ud,useId:xu,useHostTransitionStatus:Xi,useFormState:Wd,useActionState:Wd,useOptimistic:function(e,t){var s=$e();return $d(s,Ce,e,t)},useMemoCache:Hi,useCacheRefresh:fu},bf={readContext:at,use:On,useCallback:iu,useContext:at,useEffect:au,useImperativeHandle:ru,useInsertionEffect:su,useLayoutEffect:lu,useMemo:ou,useReducer:_i,useRef:eu,useState:function(){return _i(la)},useDebugValue:Gi,useDeferredValue:function(e,t){var s=$e();return Ce===null?Vi(s,e,t):cu(s,Ce.memoizedState,e,t)},useTransition:function(){var e=_i(la)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:kl(e),t]},useSyncExternalStore:Ud,useId:xu,useHostTransitionStatus:Xi,useFormState:Id,useActionState:Id,useOptimistic:function(e,t){var s=$e();return Ce!==null?$d(s,Ce,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Hi,useCacheRefresh:fu},Rs=null,Al=0;function Yn(e){var t=Al;return Al+=1,Rs===null&&(Rs=[]),Dd(Rs,e,t)}function Dl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Gn(e,t){throw t.$$typeof===S?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function vu(e){var t=e._init;return t(e._payload)}function ju(e){function t(A,C){if(e){var z=A.deletions;z===null?(A.deletions=[C],A.flags|=16):z.push(C)}}function s(A,C){if(!e)return null;for(;C!==null;)t(A,C),C=C.sibling;return null}function l(A){for(var C=new Map;A!==null;)A.key!==null?C.set(A.key,A):C.set(A.index,A),A=A.sibling;return C}function n(A,C){return A=It(A,C),A.index=0,A.sibling=null,A}function i(A,C,z){return A.index=z,e?(z=A.alternate,z!==null?(z=z.index,z<C?(A.flags|=67108866,C):z):(A.flags|=67108866,C)):(A.flags|=1048576,C)}function d(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function f(A,C,z,$){return C===null||C.tag!==6?(C=xi(z,A.mode,$),C.return=A,C):(C=n(C,z),C.return=A,C)}function N(A,C,z,$){var ie=z.type;return ie===Z?V(A,C,z.props.children,$,z.key):C!==null&&(C.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ne&&vu(ie)===C.type)?(C=n(C,z.props),Dl(C,z),C.return=A,C):(C=Sn(z.type,z.key,z.props,null,A.mode,$),Dl(C,z),C.return=A,C)}function O(A,C,z,$){return C===null||C.tag!==4||C.stateNode.containerInfo!==z.containerInfo||C.stateNode.implementation!==z.implementation?(C=fi(z,A.mode,$),C.return=A,C):(C=n(C,z.children||[]),C.return=A,C)}function V(A,C,z,$,ie){return C===null||C.tag!==7?(C=Pa(z,A.mode,$,ie),C.return=A,C):(C=n(C,z),C.return=A,C)}function Q(A,C,z){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=xi(""+C,A.mode,z),C.return=A,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case q:return z=Sn(C.type,C.key,C.props,null,A.mode,z),Dl(z,C),z.return=A,z;case R:return C=fi(C,A.mode,z),C.return=A,C;case ne:var $=C._init;return C=$(C._payload),Q(A,C,z)}if(se(C)||de(C))return C=Pa(C,A.mode,z,null),C.return=A,C;if(typeof C.then=="function")return Q(A,Yn(C),z);if(C.$$typeof===_)return Q(A,Mn(A,C),z);Gn(A,C)}return null}function U(A,C,z,$){var ie=C!==null?C.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ie!==null?null:f(A,C,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case q:return z.key===ie?N(A,C,z,$):null;case R:return z.key===ie?O(A,C,z,$):null;case ne:return ie=z._init,z=ie(z._payload),U(A,C,z,$)}if(se(z)||de(z))return ie!==null?null:V(A,C,z,$,null);if(typeof z.then=="function")return U(A,C,Yn(z),$);if(z.$$typeof===_)return U(A,C,Mn(A,z),$);Gn(A,z)}return null}function Y(A,C,z,$,ie){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return A=A.get(z)||null,f(C,A,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case q:return A=A.get($.key===null?z:$.key)||null,N(C,A,$,ie);case R:return A=A.get($.key===null?z:$.key)||null,O(C,A,$,ie);case ne:var be=$._init;return $=be($._payload),Y(A,C,z,$,ie)}if(se($)||de($))return A=A.get(z)||null,V(C,A,$,ie,null);if(typeof $.then=="function")return Y(A,C,z,Yn($),ie);if($.$$typeof===_)return Y(A,C,z,Mn(C,$),ie);Gn(C,$)}return null}function he(A,C,z,$){for(var ie=null,be=null,ce=C,xe=C=0,We=null;ce!==null&&xe<z.length;xe++){ce.index>xe?(We=ce,ce=null):We=ce.sibling;var we=U(A,ce,z[xe],$);if(we===null){ce===null&&(ce=We);break}e&&ce&&we.alternate===null&&t(A,ce),C=i(we,C,xe),be===null?ie=we:be.sibling=we,be=we,ce=We}if(xe===z.length)return s(A,ce),Se&&Wa(A,xe),ie;if(ce===null){for(;xe<z.length;xe++)ce=Q(A,z[xe],$),ce!==null&&(C=i(ce,C,xe),be===null?ie=ce:be.sibling=ce,be=ce);return Se&&Wa(A,xe),ie}for(ce=l(ce);xe<z.length;xe++)We=Y(ce,A,xe,z[xe],$),We!==null&&(e&&We.alternate!==null&&ce.delete(We.key===null?xe:We.key),C=i(We,C,xe),be===null?ie=We:be.sibling=We,be=We);return e&&ce.forEach(function(_a){return t(A,_a)}),Se&&Wa(A,xe),ie}function me(A,C,z,$){if(z==null)throw Error(c(151));for(var ie=null,be=null,ce=C,xe=C=0,We=null,we=z.next();ce!==null&&!we.done;xe++,we=z.next()){ce.index>xe?(We=ce,ce=null):We=ce.sibling;var _a=U(A,ce,we.value,$);if(_a===null){ce===null&&(ce=We);break}e&&ce&&_a.alternate===null&&t(A,ce),C=i(_a,C,xe),be===null?ie=_a:be.sibling=_a,be=_a,ce=We}if(we.done)return s(A,ce),Se&&Wa(A,xe),ie;if(ce===null){for(;!we.done;xe++,we=z.next())we=Q(A,we.value,$),we!==null&&(C=i(we,C,xe),be===null?ie=we:be.sibling=we,be=we);return Se&&Wa(A,xe),ie}for(ce=l(ce);!we.done;xe++,we=z.next())we=Y(ce,A,xe,we.value,$),we!==null&&(e&&we.alternate!==null&&ce.delete(we.key===null?xe:we.key),C=i(we,C,xe),be===null?ie=we:be.sibling=we,be=we);return e&&ce.forEach(function(vh){return t(A,vh)}),Se&&Wa(A,xe),ie}function Ae(A,C,z,$){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case q:e:{for(var ie=z.key;C!==null;){if(C.key===ie){if(ie=z.type,ie===Z){if(C.tag===7){s(A,C.sibling),$=n(C,z.props.children),$.return=A,A=$;break e}}else if(C.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ne&&vu(ie)===C.type){s(A,C.sibling),$=n(C,z.props),Dl($,z),$.return=A,A=$;break e}s(A,C);break}else t(A,C);C=C.sibling}z.type===Z?($=Pa(z.props.children,A.mode,$,z.key),$.return=A,A=$):($=Sn(z.type,z.key,z.props,null,A.mode,$),Dl($,z),$.return=A,A=$)}return d(A);case R:e:{for(ie=z.key;C!==null;){if(C.key===ie)if(C.tag===4&&C.stateNode.containerInfo===z.containerInfo&&C.stateNode.implementation===z.implementation){s(A,C.sibling),$=n(C,z.children||[]),$.return=A,A=$;break e}else{s(A,C);break}else t(A,C);C=C.sibling}$=fi(z,A.mode,$),$.return=A,A=$}return d(A);case ne:return ie=z._init,z=ie(z._payload),Ae(A,C,z,$)}if(se(z))return he(A,C,z,$);if(de(z)){if(ie=de(z),typeof ie!="function")throw Error(c(150));return z=ie.call(z),me(A,C,z,$)}if(typeof z.then=="function")return Ae(A,C,Yn(z),$);if(z.$$typeof===_)return Ae(A,C,Mn(A,z),$);Gn(A,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,C!==null&&C.tag===6?(s(A,C.sibling),$=n(C,z),$.return=A,A=$):(s(A,C),$=xi(z,A.mode,$),$.return=A,A=$),d(A)):s(A,C)}return function(A,C,z,$){try{Al=0;var ie=Ae(A,C,z,$);return Rs=null,ie}catch(ce){if(ce===vl||ce===Dn)throw ce;var be=gt(29,ce,null,A.mode);return be.lanes=$,be.return=A,be}finally{}}}var Os=ju(!0),Nu=ju(!1),Lt=H(null),Xt=null;function Sa(e){var t=e.alternate;ae(Qe,Qe.current&1),ae(Lt,e),Xt===null&&(t===null||Ds.current!==null||t.memoizedState!==null)&&(Xt=e)}function wu(e){if(e.tag===22){if(ae(Qe,Qe.current),ae(Lt,e),Xt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Xt=e)}}else Ea()}function Ea(){ae(Qe,Qe.current),ae(Lt,Lt.current)}function na(e){te(Lt),Xt===e&&(Xt=null),te(Qe)}var Qe=H(0);function Vn(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Ho(s)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Zi(e,t,s,l){t=e.memoizedState,s=s(l,t),s=s==null?t:v({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ki={enqueueSetState:function(e,t,s){e=e._reactInternals;var l=jt(),n=ja(l);n.payload=t,s!=null&&(n.callback=s),t=Na(e,n,l),t!==null&&(Nt(t,e,l),Nl(t,e,l))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var l=jt(),n=ja(l);n.tag=1,n.payload=t,s!=null&&(n.callback=s),t=Na(e,n,l),t!==null&&(Nt(t,e,l),Nl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=jt(),l=ja(s);l.tag=2,t!=null&&(l.callback=t),t=Na(e,l,s),t!==null&&(Nt(t,e,s),Nl(t,e,s))}};function Su(e,t,s,l,n,i,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,d):t.prototype&&t.prototype.isPureReactComponent?!ml(s,l)||!ml(n,i):!0}function Eu(e,t,s,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,l),t.state!==e&&Ki.enqueueReplaceState(t,t.state,null)}function ls(e,t){var s=t;if("ref"in t){s={};for(var l in t)l!=="ref"&&(s[l]=t[l])}if(e=e.defaultProps){s===t&&(s=v({},s));for(var n in e)s[n]===void 0&&(s[n]=e[n])}return s}var $n=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ku(e){$n(e)}function Cu(e){console.error(e)}function Mu(e){$n(e)}function Xn(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Au(e,t,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Pi(e,t,s){return s=ja(s),s.tag=3,s.payload={element:null},s.callback=function(){Xn(e,t)},s}function Du(e){return e=ja(e),e.tag=3,e}function Tu(e,t,s,l){var n=s.type.getDerivedStateFromError;if(typeof n=="function"){var i=l.value;e.payload=function(){return n(i)},e.callback=function(){Au(t,s,l)}}var d=s.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Au(t,s,l),typeof n!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var f=l.stack;this.componentDidCatch(l.value,{componentStack:f!==null?f:""})})}function vf(e,t,s,l,n){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=s.alternate,t!==null&&gl(t,s,n,!0),s=Lt.current,s!==null){switch(s.tag){case 13:return Xt===null?vo():s.alternate===null&&He===0&&(He=3),s.flags&=-257,s.flags|=65536,s.lanes=n,l===Si?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([l]):t.add(l),No(e,l,n)),!1;case 22:return s.flags|=65536,l===Si?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([l]):s.add(l)),No(e,l,n)),!1}throw Error(c(435,s.tag))}return No(e,l,n),vo(),!1}if(Se)return t=Lt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==gi&&(e=Error(c(422),{cause:l}),pl(Mt(e,s)))):(l!==gi&&(t=Error(c(423),{cause:l}),pl(Mt(t,s))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=Mt(l,s),n=Pi(e.stateNode,l,n),Ci(e,n),He!==4&&(He=2)),!1;var i=Error(c(520),{cause:l});if(i=Mt(i,s),Hl===null?Hl=[i]:Hl.push(i),He!==4&&(He=2),t===null)return!0;l=Mt(l,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=n&-n,s.lanes|=e,e=Pi(s.stateNode,l,e),Ci(s,e),!1;case 1:if(t=s.type,i=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ta===null||!Ta.has(i))))return s.flags|=65536,n&=-n,s.lanes|=n,n=Du(n),Tu(n,e,s,l),Ci(s,n),!1}s=s.return}while(s!==null);return!1}var Lu=Error(c(461)),Pe=!1;function Fe(e,t,s,l){t.child=e===null?Nu(t,null,s,l):Os(t,e.child,s,l)}function zu(e,t,s,l,n){s=s.render;var i=t.ref;if("ref"in l){var d={};for(var f in l)f!=="ref"&&(d[f]=l[f])}else d=l;return ts(t),l=Li(e,t,s,d,i,n),f=zi(),e!==null&&!Pe?(Ri(e,t,n),ra(e,t,n)):(Se&&f&&hi(t),t.flags|=1,Fe(e,t,l,n),t.child)}function Ru(e,t,s,l,n){if(e===null){var i=s.type;return typeof i=="function"&&!mi(i)&&i.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=i,Ou(e,t,i,l,n)):(e=Sn(s.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!so(e,n)){var d=i.memoizedProps;if(s=s.compare,s=s!==null?s:ml,s(d,l)&&e.ref===t.ref)return ra(e,t,n)}return t.flags|=1,e=It(i,l),e.ref=t.ref,e.return=t,t.child=e}function Ou(e,t,s,l,n){if(e!==null){var i=e.memoizedProps;if(ml(i,l)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=l=i,so(e,n))(e.flags&131072)!==0&&(Pe=!0);else return t.lanes=e.lanes,ra(e,t,n)}return Ji(e,t,s,l,n)}function Bu(e,t,s){var l=t.pendingProps,n=l.children,i=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=i!==null?i.baseLanes|s:s,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;t.childLanes=i&~l}else t.childLanes=0,t.child=null;return Hu(e,t,l,s)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&An(t,i!==null?i.cachePool:null),i!==null?Od(t,i):Ai(),wu(t);else return t.lanes=t.childLanes=536870912,Hu(e,t,i!==null?i.baseLanes|s:s,s)}else i!==null?(An(t,i.cachePool),Od(t,i),Ea(),t.memoizedState=null):(e!==null&&An(t,null),Ai(),Ea());return Fe(e,t,n,s),t.child}function Hu(e,t,s,l){var n=wi();return n=n===null?null:{parent:Xe._currentValue,pool:n},t.memoizedState={baseLanes:s,cachePool:n},e!==null&&An(t,null),Ai(),wu(t),e!==null&&gl(e,t,l,!0),null}function Qn(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(c(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function Ji(e,t,s,l,n){return ts(t),s=Li(e,t,s,l,void 0,n),l=zi(),e!==null&&!Pe?(Ri(e,t,n),ra(e,t,n)):(Se&&l&&hi(t),t.flags|=1,Fe(e,t,s,n),t.child)}function Uu(e,t,s,l,n,i){return ts(t),t.updateQueue=null,s=Hd(t,l,s,n),Bd(e),l=zi(),e!==null&&!Pe?(Ri(e,t,i),ra(e,t,i)):(Se&&l&&hi(t),t.flags|=1,Fe(e,t,s,i),t.child)}function _u(e,t,s,l,n){if(ts(t),t.stateNode===null){var i=Es,d=s.contextType;typeof d=="object"&&d!==null&&(i=at(d)),i=new s(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ki,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},Ei(t),d=s.contextType,i.context=typeof d=="object"&&d!==null?at(d):Es,i.state=t.memoizedState,d=s.getDerivedStateFromProps,typeof d=="function"&&(Zi(t,s,d,l),i.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(d=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),d!==i.state&&Ki.enqueueReplaceState(i,i.state,null),Sl(t,l,i,n),wl(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var f=t.memoizedProps,N=ls(s,f);i.props=N;var O=i.context,V=s.contextType;d=Es,typeof V=="object"&&V!==null&&(d=at(V));var Q=s.getDerivedStateFromProps;V=typeof Q=="function"||typeof i.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,V||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f||O!==d)&&Eu(t,i,l,d),va=!1;var U=t.memoizedState;i.state=U,Sl(t,l,i,n),wl(),O=t.memoizedState,f||U!==O||va?(typeof Q=="function"&&(Zi(t,s,Q,l),O=t.memoizedState),(N=va||Su(t,s,N,l,U,O,d))?(V||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=O),i.props=l,i.state=O,i.context=d,l=N):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,ki(e,t),d=t.memoizedProps,V=ls(s,d),i.props=V,Q=t.pendingProps,U=i.context,O=s.contextType,N=Es,typeof O=="object"&&O!==null&&(N=at(O)),f=s.getDerivedStateFromProps,(O=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d!==Q||U!==N)&&Eu(t,i,l,N),va=!1,U=t.memoizedState,i.state=U,Sl(t,l,i,n),wl();var Y=t.memoizedState;d!==Q||U!==Y||va||e!==null&&e.dependencies!==null&&Cn(e.dependencies)?(typeof f=="function"&&(Zi(t,s,f,l),Y=t.memoizedState),(V=va||Su(t,s,V,l,U,Y,N)||e!==null&&e.dependencies!==null&&Cn(e.dependencies))?(O||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,Y,N),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,Y,N)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||d===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Y),i.props=l,i.state=Y,i.context=N,l=V):(typeof i.componentDidUpdate!="function"||d===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,Qn(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=Os(t,e.child,null,n),t.child=Os(t,null,s,n)):Fe(e,t,s,n),t.memoizedState=i.state,e=t.child):e=ra(e,t,n),e}function qu(e,t,s,l){return hl(),t.flags|=256,Fe(e,t,s,l),t.child}var Wi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fi(e){return{baseLanes:e,cachePool:Cd()}}function Ii(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=zt),e}function Yu(e,t,s){var l=t.pendingProps,n=!1,i=(t.flags&128)!==0,d;if((d=i)||(d=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),d&&(n=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(Se){if(n?Sa(t):Ea(),Se){var f=Be,N;if(N=f){e:{for(N=f,f=$t;N.nodeType!==8;){if(!f){f=null;break e}if(N=qt(N.nextSibling),N===null){f=null;break e}}f=N}f!==null?(t.memoizedState={dehydrated:f,treeContext:Ja!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},N=gt(18,null,null,0),N.stateNode=f,N.return=t,t.child=N,rt=t,Be=null,N=!0):N=!1}N||Ia(t)}if(f=t.memoizedState,f!==null&&(f=f.dehydrated,f!==null))return Ho(f)?t.lanes=32:t.lanes=536870912,null;na(t)}return f=l.children,l=l.fallback,n?(Ea(),n=t.mode,f=Zn({mode:"hidden",children:f},n),l=Pa(l,n,s,null),f.return=t,l.return=t,f.sibling=l,t.child=f,n=t.child,n.memoizedState=Fi(s),n.childLanes=Ii(e,d,s),t.memoizedState=Wi,l):(Sa(t),eo(t,f))}if(N=e.memoizedState,N!==null&&(f=N.dehydrated,f!==null)){if(i)t.flags&256?(Sa(t),t.flags&=-257,t=to(e,t,s)):t.memoizedState!==null?(Ea(),t.child=e.child,t.flags|=128,t=null):(Ea(),n=l.fallback,f=t.mode,l=Zn({mode:"visible",children:l.children},f),n=Pa(n,f,s,null),n.flags|=2,l.return=t,n.return=t,l.sibling=n,t.child=l,Os(t,e.child,null,s),l=t.child,l.memoizedState=Fi(s),l.childLanes=Ii(e,d,s),t.memoizedState=Wi,t=n);else if(Sa(t),Ho(f)){if(d=f.nextSibling&&f.nextSibling.dataset,d)var O=d.dgst;d=O,l=Error(c(419)),l.stack="",l.digest=d,pl({value:l,source:null,stack:null}),t=to(e,t,s)}else if(Pe||gl(e,t,s,!1),d=(s&e.childLanes)!==0,Pe||d){if(d=Te,d!==null&&(l=s&-s,l=(l&42)!==0?1:Hr(l),l=(l&(d.suspendedLanes|s))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Ss(e,l),Nt(d,e,l),Lu;f.data==="$?"||vo(),t=to(e,t,s)}else f.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,Be=qt(f.nextSibling),rt=t,Se=!0,Fa=null,$t=!1,e!==null&&(Dt[Tt++]=ea,Dt[Tt++]=ta,Dt[Tt++]=Ja,ea=e.id,ta=e.overflow,Ja=t),t=eo(t,l.children),t.flags|=4096);return t}return n?(Ea(),n=l.fallback,f=t.mode,N=e.child,O=N.sibling,l=It(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,O!==null?n=It(O,n):(n=Pa(n,f,s,null),n.flags|=2),n.return=t,l.return=t,l.sibling=n,t.child=l,l=n,n=t.child,f=e.child.memoizedState,f===null?f=Fi(s):(N=f.cachePool,N!==null?(O=Xe._currentValue,N=N.parent!==O?{parent:O,pool:O}:N):N=Cd(),f={baseLanes:f.baseLanes|s,cachePool:N}),n.memoizedState=f,n.childLanes=Ii(e,d,s),t.memoizedState=Wi,l):(Sa(t),s=e.child,e=s.sibling,s=It(s,{mode:"visible",children:l.children}),s.return=t,s.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=s,t.memoizedState=null,s)}function eo(e,t){return t=Zn({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zn(e,t){return e=gt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function to(e,t,s){return Os(t,e.child,null,s),e=eo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gu(e,t,s){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),bi(e.return,t,s)}function ao(e,t,s,l,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=l,i.tail=s,i.tailMode=n)}function Vu(e,t,s){var l=t.pendingProps,n=l.revealOrder,i=l.tail;if(Fe(e,t,l.children,s),l=Qe.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gu(e,s,t);else if(e.tag===19)Gu(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(ae(Qe,l),n){case"forwards":for(s=t.child,n=null;s!==null;)e=s.alternate,e!==null&&Vn(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),ao(t,!1,n,s,i);break;case"backwards":for(s=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Vn(e)===null){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}ao(t,!0,s,null,i);break;case"together":ao(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ra(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Da|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(gl(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,s=It(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=It(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function so(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Cn(e)))}function jf(e,t,s){switch(t.tag){case 3:fe(t,t.stateNode.containerInfo),ba(t,Xe,e.memoizedState.cache),hl();break;case 27:case 5:xt(t);break;case 4:fe(t,t.stateNode.containerInfo);break;case 10:ba(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Sa(t),t.flags|=128,null):(s&t.child.childLanes)!==0?Yu(e,t,s):(Sa(t),e=ra(e,t,s),e!==null?e.sibling:null);Sa(t);break;case 19:var n=(e.flags&128)!==0;if(l=(s&t.childLanes)!==0,l||(gl(e,t,s,!1),l=(s&t.childLanes)!==0),n){if(l)return Vu(e,t,s);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ae(Qe,Qe.current),l)break;return null;case 22:case 23:return t.lanes=0,Bu(e,t,s);case 24:ba(t,Xe,e.memoizedState.cache)}return ra(e,t,s)}function $u(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pe=!0;else{if(!so(e,s)&&(t.flags&128)===0)return Pe=!1,jf(e,t,s);Pe=(e.flags&131072)!==0}else Pe=!1,Se&&(t.flags&1048576)!==0&&vd(t,kn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,n=l._init;if(l=n(l._payload),t.type=l,typeof l=="function")mi(l)?(e=ls(l,e),t.tag=1,t=_u(null,t,l,e,s)):(t.tag=0,t=Ji(null,t,l,e,s));else{if(l!=null){if(n=l.$$typeof,n===I){t.tag=11,t=zu(null,t,l,e,s);break e}else if(n===X){t.tag=14,t=Ru(null,t,l,e,s);break e}}throw t=T(l)||l,Error(c(306,t,""))}}return t;case 0:return Ji(e,t,t.type,t.pendingProps,s);case 1:return l=t.type,n=ls(l,t.pendingProps),_u(e,t,l,n,s);case 3:e:{if(fe(t,t.stateNode.containerInfo),e===null)throw Error(c(387));l=t.pendingProps;var i=t.memoizedState;n=i.element,ki(e,t),Sl(t,l,null,s);var d=t.memoizedState;if(l=d.cache,ba(t,Xe,l),l!==i.cache&&vi(t,[Xe],s,!0),wl(),l=d.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=qu(e,t,l,s);break e}else if(l!==n){n=Mt(Error(c(424)),t),pl(n),t=qu(e,t,l,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=qt(e.firstChild),rt=t,Se=!0,Fa=null,$t=!0,s=Nu(t,null,l,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(hl(),l===n){t=ra(e,t,s);break e}Fe(e,t,l,s)}t=t.child}return t;case 26:return Qn(e,t),e===null?(s=K0(t.type,null,t.pendingProps,null))?t.memoizedState=s:Se||(s=t.type,e=t.pendingProps,l=ir(g.current).createElement(s),l[tt]=t,l[ot]=e,et(l,s,e),Ke(l),t.stateNode=l):t.memoizedState=K0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xt(t),e===null&&Se&&(l=t.stateNode=X0(t.type,t.pendingProps,g.current),rt=t,$t=!0,n=Be,Ra(t.type)?(Uo=n,Be=qt(l.firstChild)):Be=n),Fe(e,t,t.pendingProps.children,s),Qn(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Se&&((n=l=Be)&&(l=Pf(l,t.type,t.pendingProps,$t),l!==null?(t.stateNode=l,rt=t,Be=qt(l.firstChild),$t=!1,n=!0):n=!1),n||Ia(t)),xt(t),n=t.type,i=t.pendingProps,d=e!==null?e.memoizedProps:null,l=i.children,Ro(n,i)?l=null:d!==null&&Ro(n,d)&&(t.flags|=32),t.memoizedState!==null&&(n=Li(e,t,xf,null,null,s),Ql._currentValue=n),Qn(e,t),Fe(e,t,l,s),t.child;case 6:return e===null&&Se&&((e=s=Be)&&(s=Jf(s,t.pendingProps,$t),s!==null?(t.stateNode=s,rt=t,Be=null,e=!0):e=!1),e||Ia(t)),null;case 13:return Yu(e,t,s);case 4:return fe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Os(t,null,l,s):Fe(e,t,l,s),t.child;case 11:return zu(e,t,t.type,t.pendingProps,s);case 7:return Fe(e,t,t.pendingProps,s),t.child;case 8:return Fe(e,t,t.pendingProps.children,s),t.child;case 12:return Fe(e,t,t.pendingProps.children,s),t.child;case 10:return l=t.pendingProps,ba(t,t.type,l.value),Fe(e,t,l.children,s),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,ts(t),n=at(n),l=l(n),t.flags|=1,Fe(e,t,l,s),t.child;case 14:return Ru(e,t,t.type,t.pendingProps,s);case 15:return Ou(e,t,t.type,t.pendingProps,s);case 19:return Vu(e,t,s);case 31:return l=t.pendingProps,s=t.mode,l={mode:l.mode,children:l.children},e===null?(s=Zn(l,s),s.ref=t.ref,t.child=s,s.return=t,t=s):(s=It(e.child,l),s.ref=t.ref,t.child=s,s.return=t,t=s),t;case 22:return Bu(e,t,s);case 24:return ts(t),l=at(Xe),e===null?(n=wi(),n===null&&(n=Te,i=ji(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=s),n=i),t.memoizedState={parent:l,cache:n},Ei(t),ba(t,Xe,n)):((e.lanes&s)!==0&&(ki(e,t),Sl(t,null,null,s),wl()),n=e.memoizedState,i=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),ba(t,Xe,l)):(l=i.cache,ba(t,Xe,l),l!==n.cache&&vi(t,[Xe],s,!0))),Fe(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function ia(e){e.flags|=4}function Xu(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!I0(t)){if(t=Lt.current,t!==null&&((Ne&4194048)===Ne?Xt!==null:(Ne&62914560)!==Ne&&(Ne&536870912)===0||t!==Xt))throw jl=Si,Md;e.flags|=8192}}function Kn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?wc():536870912,e.lanes|=t,_s|=t)}function Tl(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(t)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=s,t}function Nf(e,t,s){var l=t.pendingProps;switch(pi(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return s=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),sa(Xe),it(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(fl(t)?ia(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,wd())),Oe(t),null;case 26:return s=t.memoizedState,e===null?(ia(t),s!==null?(Oe(t),Xu(t,s)):(Oe(t),t.flags&=-16777217)):s?s!==e.memoizedState?(ia(t),Oe(t),Xu(t,s)):(Oe(t),t.flags&=-16777217):(e.memoizedProps!==l&&ia(t),Oe(t),t.flags&=-16777217),null;case 27:Vt(t),s=g.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ia(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return Oe(t),null}e=oe.current,fl(t)?jd(t):(e=X0(n,l,s),t.stateNode=e,ia(t))}return Oe(t),null;case 5:if(Vt(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ia(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return Oe(t),null}if(e=oe.current,fl(t))jd(t);else{switch(n=ir(g.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?n.createElement("select",{is:l.is}):n.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?n.createElement(s,{is:l.is}):n.createElement(s)}}e[tt]=t,e[ot]=l;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(et(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ia(t)}}return Oe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ia(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(c(166));if(e=g.current,fl(t)){if(e=t.stateNode,s=t.memoizedProps,l=null,n=rt,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[tt]=t,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||U0(e.nodeValue,s)),e||Ia(t)}else e=ir(e).createTextNode(l),e[tt]=t,t.stateNode=e}return Oe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=fl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(c(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(c(317));n[tt]=t}else hl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),n=!1}else n=wd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(na(t),t):(na(t),null)}if(na(t),(t.flags&128)!==0)return t.lanes=s,t;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool);var i=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==n&&(l.flags|=2048)}return s!==e&&s&&(t.child.flags|=8192),Kn(t,t.updateQueue),Oe(t),null;case 4:return it(),e===null&&Ao(t.stateNode.containerInfo),Oe(t),null;case 10:return sa(t.type),Oe(t),null;case 19:if(te(Qe),n=t.memoizedState,n===null)return Oe(t),null;if(l=(t.flags&128)!==0,i=n.rendering,i===null)if(l)Tl(n,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Vn(e),i!==null){for(t.flags|=128,Tl(n,!1),e=i.updateQueue,t.updateQueue=e,Kn(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)bd(s,e),s=s.sibling;return ae(Qe,Qe.current&1|2),t.child}e=e.sibling}n.tail!==null&&Et()>Wn&&(t.flags|=128,l=!0,Tl(n,!1),t.lanes=4194304)}else{if(!l)if(e=Vn(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Kn(t,e),Tl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!Se)return Oe(t),null}else 2*Et()-n.renderingStartTime>Wn&&s!==536870912&&(t.flags|=128,l=!0,Tl(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Et(),t.sibling=null,e=Qe.current,ae(Qe,l?e&1|2:e&1),t):(Oe(t),null);case 22:case 23:return na(t),Di(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(s&536870912)!==0&&(t.flags&128)===0&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),s=t.updateQueue,s!==null&&Kn(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==s&&(t.flags|=2048),e!==null&&te(as),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),sa(Xe),Oe(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function wf(e,t){switch(pi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sa(Xe),it(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Vt(t),null;case 13:if(na(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));hl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(Qe),null;case 4:return it(),null;case 10:return sa(t.type),null;case 22:case 23:return na(t),Di(),e!==null&&te(as),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sa(Xe),null;case 25:return null;default:return null}}function Qu(e,t){switch(pi(t),t.tag){case 3:sa(Xe),it();break;case 26:case 27:case 5:Vt(t);break;case 4:it();break;case 13:na(t);break;case 19:te(Qe);break;case 10:sa(t.type);break;case 22:case 23:na(t),Di(),e!==null&&te(as);break;case 24:sa(Xe)}}function Ll(e,t){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var n=l.next;s=n;do{if((s.tag&e)===e){l=void 0;var i=s.create,d=s.inst;l=i(),d.destroy=l}s=s.next}while(s!==n)}}catch(f){De(t,t.return,f)}}function ka(e,t,s){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var i=n.next;l=i;do{if((l.tag&e)===e){var d=l.inst,f=d.destroy;if(f!==void 0){d.destroy=void 0,n=t;var N=s,O=f;try{O()}catch(V){De(n,N,V)}}}l=l.next}while(l!==i)}}catch(V){De(t,t.return,V)}}function Zu(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{Rd(t,s)}catch(l){De(e,e.return,l)}}}function Ku(e,t,s){s.props=ls(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){De(e,t,l)}}function zl(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(n){De(e,t,n)}}function Qt(e,t){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(n){De(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(n){De(e,t,n)}else s.current=null}function Pu(e){var t=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(n){De(e,e.return,n)}}function lo(e,t,s){try{var l=e.stateNode;$f(l,e.type,s,t),l[ot]=t}catch(n){De(e,e.return,n)}}function Ju(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ra(e.type)||e.tag===4}function no(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ju(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ra(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ro(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=rr));else if(l!==4&&(l===27&&Ra(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(ro(e,t,s),e=e.sibling;e!==null;)ro(e,t,s),e=e.sibling}function Pn(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(l!==4&&(l===27&&Ra(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Pn(e,t,s),e=e.sibling;e!==null;)Pn(e,t,s),e=e.sibling}function Wu(e){var t=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);et(t,l,s),t[tt]=e,t[ot]=s}catch(i){De(e,e.return,i)}}var oa=!1,Ye=!1,io=!1,Fu=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Sf(e,t){if(e=e.containerInfo,Lo=xr,e=cd(e),ni(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var n=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var d=0,f=-1,N=-1,O=0,V=0,Q=e,U=null;t:for(;;){for(var Y;Q!==s||n!==0&&Q.nodeType!==3||(f=d+n),Q!==i||l!==0&&Q.nodeType!==3||(N=d+l),Q.nodeType===3&&(d+=Q.nodeValue.length),(Y=Q.firstChild)!==null;)U=Q,Q=Y;for(;;){if(Q===e)break t;if(U===s&&++O===n&&(f=d),U===i&&++V===l&&(N=d),(Y=Q.nextSibling)!==null)break;Q=U,U=Q.parentNode}Q=Y}s=f===-1||N===-1?null:{start:f,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(zo={focusedElem:e,selectionRange:s},xr=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){switch(t=Je,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,s=t,n=i.memoizedProps,i=i.memoizedState,l=s.stateNode;try{var he=ls(s.type,n,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(he,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(me){De(s,s.return,me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)Bo(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}}function Iu(e,t,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ca(e,s),l&4&&Ll(5,s);break;case 1:if(Ca(e,s),l&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(d){De(s,s.return,d)}else{var n=ls(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){De(s,s.return,d)}}l&64&&Zu(s),l&512&&zl(s,s.return);break;case 3:if(Ca(e,s),l&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Rd(e,t)}catch(d){De(s,s.return,d)}}break;case 27:t===null&&l&4&&Wu(s);case 26:case 5:Ca(e,s),t===null&&l&4&&Pu(s),l&512&&zl(s,s.return);break;case 12:Ca(e,s);break;case 13:Ca(e,s),l&4&&a0(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=zf.bind(null,s),Wf(e,s))));break;case 22:if(l=s.memoizedState!==null||oa,!l){t=t!==null&&t.memoizedState!==null||Ye,n=oa;var i=Ye;oa=l,(Ye=t)&&!i?Ma(e,s,(s.subtreeFlags&8772)!==0):Ca(e,s),oa=n,Ye=i}break;case 30:break;default:Ca(e,s)}}function e0(e){var t=e.alternate;t!==null&&(e.alternate=null,e0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&qr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,ut=!1;function ca(e,t,s){for(s=s.child;s!==null;)t0(e,t,s),s=s.sibling}function t0(e,t,s){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(el,s)}catch{}switch(s.tag){case 26:Ye||Qt(s,t),ca(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ye||Qt(s,t);var l=ze,n=ut;Ra(s.type)&&(ze=s.stateNode,ut=!1),ca(e,t,s),Gl(s.stateNode),ze=l,ut=n;break;case 5:Ye||Qt(s,t);case 6:if(l=ze,n=ut,ze=null,ca(e,t,s),ze=l,ut=n,ze!==null)if(ut)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(s.stateNode)}catch(i){De(s,t,i)}else try{ze.removeChild(s.stateNode)}catch(i){De(s,t,i)}break;case 18:ze!==null&&(ut?(e=ze,V0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Jl(e)):V0(ze,s.stateNode));break;case 4:l=ze,n=ut,ze=s.stateNode.containerInfo,ut=!0,ca(e,t,s),ze=l,ut=n;break;case 0:case 11:case 14:case 15:Ye||ka(2,s,t),Ye||ka(4,s,t),ca(e,t,s);break;case 1:Ye||(Qt(s,t),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ku(s,t,l)),ca(e,t,s);break;case 21:ca(e,t,s);break;case 22:Ye=(l=Ye)||s.memoizedState!==null,ca(e,t,s),Ye=l;break;default:ca(e,t,s)}}function a0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jl(e)}catch(s){De(t,t.return,s)}}function Ef(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Fu),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Fu),t;default:throw Error(c(435,e.tag))}}function oo(e,t){var s=Ef(e);t.forEach(function(l){var n=Rf.bind(null,e,l);s.has(l)||(s.add(l),l.then(n,n))})}function yt(e,t){var s=t.deletions;if(s!==null)for(var l=0;l<s.length;l++){var n=s[l],i=e,d=t,f=d;e:for(;f!==null;){switch(f.tag){case 27:if(Ra(f.type)){ze=f.stateNode,ut=!1;break e}break;case 5:ze=f.stateNode,ut=!1;break e;case 3:case 4:ze=f.stateNode.containerInfo,ut=!0;break e}f=f.return}if(ze===null)throw Error(c(160));t0(i,d,n),ze=null,ut=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)s0(t,e),t=t.sibling}var _t=null;function s0(e,t){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(t,e),bt(e),l&4&&(ka(3,e,e.return),Ll(3,e),ka(5,e,e.return));break;case 1:yt(t,e),bt(e),l&512&&(Ye||s===null||Qt(s,s.return)),l&64&&oa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var n=_t;if(yt(t,e),bt(e),l&512&&(Ye||s===null||Qt(s,s.return)),l&4){var i=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":i=n.getElementsByTagName("title")[0],(!i||i[sl]||i[tt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(l),n.head.insertBefore(i,n.querySelector("head > title"))),et(i,l,s),i[tt]=e,Ke(i),l=i;break e;case"link":var d=W0("link","href",n).get(l+(s.href||""));if(d){for(var f=0;f<d.length;f++)if(i=d[f],i.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&i.getAttribute("rel")===(s.rel==null?null:s.rel)&&i.getAttribute("title")===(s.title==null?null:s.title)&&i.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){d.splice(f,1);break t}}i=n.createElement(l),et(i,l,s),n.head.appendChild(i);break;case"meta":if(d=W0("meta","content",n).get(l+(s.content||""))){for(f=0;f<d.length;f++)if(i=d[f],i.getAttribute("content")===(s.content==null?null:""+s.content)&&i.getAttribute("name")===(s.name==null?null:s.name)&&i.getAttribute("property")===(s.property==null?null:s.property)&&i.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&i.getAttribute("charset")===(s.charSet==null?null:s.charSet)){d.splice(f,1);break t}}i=n.createElement(l),et(i,l,s),n.head.appendChild(i);break;default:throw Error(c(468,l))}i[tt]=e,Ke(i),l=i}e.stateNode=l}else F0(n,e.type,e.stateNode);else e.stateNode=J0(n,l,e.memoizedProps);else i!==l?(i===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):i.count--,l===null?F0(n,e.type,e.stateNode):J0(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&lo(e,e.memoizedProps,s.memoizedProps)}break;case 27:yt(t,e),bt(e),l&512&&(Ye||s===null||Qt(s,s.return)),s!==null&&l&4&&lo(e,e.memoizedProps,s.memoizedProps);break;case 5:if(yt(t,e),bt(e),l&512&&(Ye||s===null||Qt(s,s.return)),e.flags&32){n=e.stateNode;try{gs(n,"")}catch(Y){De(e,e.return,Y)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,lo(e,n,s!==null?s.memoizedProps:n)),l&1024&&(io=!0);break;case 6:if(yt(t,e),bt(e),l&4){if(e.stateNode===null)throw Error(c(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(Y){De(e,e.return,Y)}}break;case 3:if(dr=null,n=_t,_t=or(t.containerInfo),yt(t,e),_t=n,bt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Jl(t.containerInfo)}catch(Y){De(e,e.return,Y)}io&&(io=!1,l0(e));break;case 4:l=_t,_t=or(e.stateNode.containerInfo),yt(t,e),bt(e),_t=l;break;case 12:yt(t,e),bt(e);break;case 13:yt(t,e),bt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ho=Et()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,oo(e,l)));break;case 22:n=e.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,O=oa,V=Ye;if(oa=O||n,Ye=V||N,yt(t,e),Ye=V,oa=O,bt(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(s===null||N||oa||Ye||ns(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){N=s=t;try{if(i=N.stateNode,n)d=i.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{f=N.stateNode;var Q=N.memoizedProps.style,U=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;f.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(Y){De(N,N.return,Y)}}}else if(t.tag===6){if(s===null){N=t;try{N.stateNode.nodeValue=n?"":N.memoizedProps}catch(Y){De(N,N.return,Y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,oo(e,s))));break;case 19:yt(t,e),bt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,oo(e,l)));break;case 30:break;case 21:break;default:yt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{for(var s,l=e.return;l!==null;){if(Ju(l)){s=l;break}l=l.return}if(s==null)throw Error(c(160));switch(s.tag){case 27:var n=s.stateNode,i=no(e);Pn(e,i,n);break;case 5:var d=s.stateNode;s.flags&32&&(gs(d,""),s.flags&=-33);var f=no(e);Pn(e,f,d);break;case 3:case 4:var N=s.stateNode.containerInfo,O=no(e);ro(e,O,N);break;default:throw Error(c(161))}}catch(V){De(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function l0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;l0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ca(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Iu(e,t.alternate,t),t=t.sibling}function ns(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ka(4,t,t.return),ns(t);break;case 1:Qt(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Ku(t,t.return,s),ns(t);break;case 27:Gl(t.stateNode);case 26:case 5:Qt(t,t.return),ns(t);break;case 22:t.memoizedState===null&&ns(t);break;case 30:ns(t);break;default:ns(t)}e=e.sibling}}function Ma(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,i=t,d=i.flags;switch(i.tag){case 0:case 11:case 15:Ma(n,i,s),Ll(4,i);break;case 1:if(Ma(n,i,s),l=i,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(O){De(l,l.return,O)}if(l=i,n=l.updateQueue,n!==null){var f=l.stateNode;try{var N=n.shared.hiddenCallbacks;if(N!==null)for(n.shared.hiddenCallbacks=null,n=0;n<N.length;n++)zd(N[n],f)}catch(O){De(l,l.return,O)}}s&&d&64&&Zu(i),zl(i,i.return);break;case 27:Wu(i);case 26:case 5:Ma(n,i,s),s&&l===null&&d&4&&Pu(i),zl(i,i.return);break;case 12:Ma(n,i,s);break;case 13:Ma(n,i,s),s&&d&4&&a0(n,i);break;case 22:i.memoizedState===null&&Ma(n,i,s),zl(i,i.return);break;case 30:break;default:Ma(n,i,s)}t=t.sibling}}function co(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&yl(s))}function uo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yl(e))}function Zt(e,t,s,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)n0(e,t,s,l),t=t.sibling}function n0(e,t,s,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Zt(e,t,s,l),n&2048&&Ll(9,t);break;case 1:Zt(e,t,s,l);break;case 3:Zt(e,t,s,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yl(e)));break;case 12:if(n&2048){Zt(e,t,s,l),e=t.stateNode;try{var i=t.memoizedProps,d=i.id,f=i.onPostCommit;typeof f=="function"&&f(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){De(t,t.return,N)}}else Zt(e,t,s,l);break;case 13:Zt(e,t,s,l);break;case 23:break;case 22:i=t.stateNode,d=t.alternate,t.memoizedState!==null?i._visibility&2?Zt(e,t,s,l):Rl(e,t):i._visibility&2?Zt(e,t,s,l):(i._visibility|=2,Bs(e,t,s,l,(t.subtreeFlags&10256)!==0)),n&2048&&co(d,t);break;case 24:Zt(e,t,s,l),n&2048&&uo(t.alternate,t);break;default:Zt(e,t,s,l)}}function Bs(e,t,s,l,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,d=t,f=s,N=l,O=d.flags;switch(d.tag){case 0:case 11:case 15:Bs(i,d,f,N,n),Ll(8,d);break;case 23:break;case 22:var V=d.stateNode;d.memoizedState!==null?V._visibility&2?Bs(i,d,f,N,n):Rl(i,d):(V._visibility|=2,Bs(i,d,f,N,n)),n&&O&2048&&co(d.alternate,d);break;case 24:Bs(i,d,f,N,n),n&&O&2048&&uo(d.alternate,d);break;default:Bs(i,d,f,N,n)}t=t.sibling}}function Rl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,l=t,n=l.flags;switch(l.tag){case 22:Rl(s,l),n&2048&&co(l.alternate,l);break;case 24:Rl(s,l),n&2048&&uo(l.alternate,l);break;default:Rl(s,l)}t=t.sibling}}var Ol=8192;function Hs(e){if(e.subtreeFlags&Ol)for(e=e.child;e!==null;)r0(e),e=e.sibling}function r0(e){switch(e.tag){case 26:Hs(e),e.flags&Ol&&e.memoizedState!==null&&dh(_t,e.memoizedState,e.memoizedProps);break;case 5:Hs(e);break;case 3:case 4:var t=_t;_t=or(e.stateNode.containerInfo),Hs(e),_t=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ol,Ol=16777216,Hs(e),Ol=t):Hs(e));break;default:Hs(e)}}function i0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Bl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];Je=l,c0(l,e)}i0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)o0(e),e=e.sibling}function o0(e){switch(e.tag){case 0:case 11:case 15:Bl(e),e.flags&2048&&ka(9,e,e.return);break;case 3:Bl(e);break;case 12:Bl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Jn(e)):Bl(e);break;default:Bl(e)}}function Jn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];Je=l,c0(l,e)}i0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ka(8,t,t.return),Jn(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Jn(t));break;default:Jn(t)}e=e.sibling}}function c0(e,t){for(;Je!==null;){var s=Je;switch(s.tag){case 0:case 11:case 15:ka(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Je=l;else e:for(s=e;Je!==null;){l=Je;var n=l.sibling,i=l.return;if(e0(l),l===s){Je=null;break e}if(n!==null){n.return=i,Je=n;break e}Je=i}}}var kf={getCacheForType:function(e){var t=at(Xe),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s}},Cf=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Te=null,ve=null,Ne=0,ke=0,vt=null,Aa=!1,Us=!1,mo=!1,da=0,He=0,Da=0,rs=0,xo=0,zt=0,_s=0,Hl=null,mt=null,fo=!1,ho=0,Wn=1/0,Fn=null,Ta=null,Ie=0,La=null,qs=null,Ys=0,po=0,go=null,d0=null,Ul=0,yo=null;function jt(){if((Ee&2)!==0&&Ne!==0)return Ne&-Ne;if(L.T!==null){var e=Ms;return e!==0?e:Eo()}return kc()}function u0(){zt===0&&(zt=(Ne&536870912)===0||Se?Nc():536870912);var e=Lt.current;return e!==null&&(e.flags|=32),zt}function Nt(e,t,s){(e===Te&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(Gs(e,0),za(e,Ne,zt,!1)),al(e,s),((Ee&2)===0||e!==Te)&&(e===Te&&((Ee&2)===0&&(rs|=s),He===4&&za(e,Ne,zt,!1)),Kt(e))}function m0(e,t,s){if((Ee&6)!==0)throw Error(c(327));var l=!s&&(t&124)===0&&(t&e.expiredLanes)===0||tl(e,t),n=l?Df(e,t):jo(e,t,!0),i=l;do{if(n===0){Us&&!l&&za(e,t,0,!1);break}else{if(s=e.current.alternate,i&&!Mf(s)){n=jo(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var f=e;n=Hl;var N=f.current.memoizedState.isDehydrated;if(N&&(Gs(f,d).flags|=256),d=jo(f,d,!1),d!==2){if(mo&&!N){f.errorRecoveryDisabledLanes|=i,rs|=i,n=4;break e}i=mt,mt=n,i!==null&&(mt===null?mt=i:mt.push.apply(mt,i))}n=d}if(i=!1,n!==2)continue}}if(n===1){Gs(e,0),za(e,t,0,!0);break}e:{switch(l=e,i=n,i){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:za(l,t,zt,!Aa);break e;case 2:mt=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(n=ho+300-Et(),10<n)){if(za(l,t,zt,!Aa),cn(l,0,!0)!==0)break e;l.timeoutHandle=Y0(x0.bind(null,l,s,mt,Fn,fo,t,zt,rs,_s,Aa,i,2,-0,0),n);break e}x0(l,s,mt,Fn,fo,t,zt,rs,_s,Aa,i,0,-0,0)}}break}while(!0);Kt(e)}function x0(e,t,s,l,n,i,d,f,N,O,V,Q,U,Y){if(e.timeoutHandle=-1,Q=t.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Xl={stylesheets:null,count:0,unsuspend:ch},r0(t),Q=uh(),Q!==null)){e.cancelPendingCommit=Q(v0.bind(null,e,t,i,s,l,n,d,f,N,V,1,U,Y)),za(e,i,d,!O);return}v0(e,t,i,s,l,n,d,f,N)}function Mf(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var n=s[l],i=n.getSnapshot;n=n.value;try{if(!pt(i(),n))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function za(e,t,s,l){t&=~xo,t&=~rs,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var i=31-ht(n),d=1<<i;l[i]=-1,n&=~d}s!==0&&Sc(e,s,t)}function In(){return(Ee&6)===0?(_l(0),!1):!0}function bo(){if(ve!==null){if(ke===0)var e=ve.return;else e=ve,aa=es=null,Oi(e),Rs=null,Al=0,e=ve;for(;e!==null;)Qu(e.alternate,e),e=e.return;ve=null}}function Gs(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Qf(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),bo(),Te=e,ve=s=It(e.current,null),Ne=t,ke=0,vt=null,Aa=!1,Us=tl(e,t),mo=!1,_s=zt=xo=rs=Da=He=0,mt=Hl=null,fo=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-ht(l),i=1<<n;t|=e[n],l&=~i}return da=t,jn(),s}function f0(e,t){ye=null,L.H=qn,t===vl||t===Dn?(t=Td(),ke=3):t===Md?(t=Td(),ke=4):ke=t===Lu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,vt=t,ve===null&&(He=1,Xn(e,Mt(t,e.current)))}function h0(){var e=L.H;return L.H=qn,e===null?qn:e}function p0(){var e=L.A;return L.A=kf,e}function vo(){He=4,Aa||(Ne&4194048)!==Ne&&Lt.current!==null||(Us=!0),(Da&134217727)===0&&(rs&134217727)===0||Te===null||za(Te,Ne,zt,!1)}function jo(e,t,s){var l=Ee;Ee|=2;var n=h0(),i=p0();(Te!==e||Ne!==t)&&(Fn=null,Gs(e,t)),t=!1;var d=He;e:do try{if(ke!==0&&ve!==null){var f=ve,N=vt;switch(ke){case 8:bo(),d=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(t=!0);var O=ke;if(ke=0,vt=null,Vs(e,f,N,O),s&&Us){d=0;break e}break;default:O=ke,ke=0,vt=null,Vs(e,f,N,O)}}Af(),d=He;break}catch(V){f0(e,V)}while(!0);return t&&e.shellSuspendCounter++,aa=es=null,Ee=l,L.H=n,L.A=i,ve===null&&(Te=null,Ne=0,jn()),d}function Af(){for(;ve!==null;)g0(ve)}function Df(e,t){var s=Ee;Ee|=2;var l=h0(),n=p0();Te!==e||Ne!==t?(Fn=null,Wn=Et()+500,Gs(e,t)):Us=tl(e,t);e:do try{if(ke!==0&&ve!==null){t=ve;var i=vt;t:switch(ke){case 1:ke=0,vt=null,Vs(e,t,i,1);break;case 2:case 9:if(Ad(i)){ke=0,vt=null,y0(t);break}t=function(){ke!==2&&ke!==9||Te!==e||(ke=7),Kt(e)},i.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:Ad(i)?(ke=0,vt=null,y0(t)):(ke=0,vt=null,Vs(e,t,i,7));break;case 5:var d=null;switch(ve.tag){case 26:d=ve.memoizedState;case 5:case 27:var f=ve;if(!d||I0(d)){ke=0,vt=null;var N=f.sibling;if(N!==null)ve=N;else{var O=f.return;O!==null?(ve=O,er(O)):ve=null}break t}}ke=0,vt=null,Vs(e,t,i,5);break;case 6:ke=0,vt=null,Vs(e,t,i,6);break;case 8:bo(),He=6;break e;default:throw Error(c(462))}}Tf();break}catch(V){f0(e,V)}while(!0);return aa=es=null,L.H=l,L.A=n,Ee=s,ve!==null?0:(Te=null,Ne=0,jn(),He)}function Tf(){for(;ve!==null&&!Fs();)g0(ve)}function g0(e){var t=$u(e.alternate,e,da);e.memoizedProps=e.pendingProps,t===null?er(e):ve=t}function y0(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Uu(s,t,t.pendingProps,t.type,void 0,Ne);break;case 11:t=Uu(s,t,t.pendingProps,t.type.render,t.ref,Ne);break;case 5:Oi(t);default:Qu(s,t),t=ve=bd(t,da),t=$u(s,t,da)}e.memoizedProps=e.pendingProps,t===null?er(e):ve=t}function Vs(e,t,s,l){aa=es=null,Oi(t),Rs=null,Al=0;var n=t.return;try{if(vf(e,n,t,s,Ne)){He=1,Xn(e,Mt(s,e.current)),ve=null;return}}catch(i){if(n!==null)throw ve=n,i;He=1,Xn(e,Mt(s,e.current)),ve=null;return}t.flags&32768?(Se||l===1?e=!0:Us||(Ne&536870912)!==0?e=!1:(Aa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Lt.current,l!==null&&l.tag===13&&(l.flags|=16384))),b0(t,e)):er(t)}function er(e){var t=e;do{if((t.flags&32768)!==0){b0(t,Aa);return}e=t.return;var s=Nf(t.alternate,t,da);if(s!==null){ve=s;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);He===0&&(He=5)}function b0(e,t){do{var s=wf(e.alternate,e);if(s!==null){s.flags&=32767,ve=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=s}while(e!==null);He=6,ve=null}function v0(e,t,s,l,n,i,d,f,N){e.cancelPendingCommit=null;do tr();while(Ie!==0);if((Ee&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(i=t.lanes|t.childLanes,i|=di,ox(e,s,i,d,f,N),e===Te&&(ve=Te=null,Ne=0),qs=t,La=e,Ys=s,po=i,go=n,d0=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Of(nn,function(){return E0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,n=E.p,E.p=2,d=Ee,Ee|=4;try{Sf(e,t,s)}finally{Ee=d,E.p=n,L.T=l}}Ie=1,j0(),N0(),w0()}}function j0(){if(Ie===1){Ie=0;var e=La,t=qs,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var l=E.p;E.p=2;var n=Ee;Ee|=4;try{s0(t,e);var i=zo,d=cd(e.containerInfo),f=i.focusedElem,N=i.selectionRange;if(d!==f&&f&&f.ownerDocument&&od(f.ownerDocument.documentElement,f)){if(N!==null&&ni(f)){var O=N.start,V=N.end;if(V===void 0&&(V=O),"selectionStart"in f)f.selectionStart=O,f.selectionEnd=Math.min(V,f.value.length);else{var Q=f.ownerDocument||document,U=Q&&Q.defaultView||window;if(U.getSelection){var Y=U.getSelection(),he=f.textContent.length,me=Math.min(N.start,he),Ae=N.end===void 0?me:Math.min(N.end,he);!Y.extend&&me>Ae&&(d=Ae,Ae=me,me=d);var A=id(f,me),C=id(f,Ae);if(A&&C&&(Y.rangeCount!==1||Y.anchorNode!==A.node||Y.anchorOffset!==A.offset||Y.focusNode!==C.node||Y.focusOffset!==C.offset)){var z=Q.createRange();z.setStart(A.node,A.offset),Y.removeAllRanges(),me>Ae?(Y.addRange(z),Y.extend(C.node,C.offset)):(z.setEnd(C.node,C.offset),Y.addRange(z))}}}}for(Q=[],Y=f;Y=Y.parentNode;)Y.nodeType===1&&Q.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<Q.length;f++){var $=Q[f];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}xr=!!Lo,zo=Lo=null}finally{Ee=n,E.p=l,L.T=s}}e.current=t,Ie=2}}function N0(){if(Ie===2){Ie=0;var e=La,t=qs,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var l=E.p;E.p=2;var n=Ee;Ee|=4;try{Iu(e,t.alternate,t)}finally{Ee=n,E.p=l,L.T=s}}Ie=3}}function w0(){if(Ie===4||Ie===3){Ie=0,Is();var e=La,t=qs,s=Ys,l=d0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ie=5:(Ie=0,qs=La=null,S0(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Ta=null),Ur(s),t=t.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(el,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=L.T,n=E.p,E.p=2,L.T=null;try{for(var i=e.onRecoverableError,d=0;d<l.length;d++){var f=l[d];i(f.value,{componentStack:f.stack})}}finally{L.T=t,E.p=n}}(Ys&3)!==0&&tr(),Kt(e),n=e.pendingLanes,(s&4194090)!==0&&(n&42)!==0?e===yo?Ul++:(Ul=0,yo=e):Ul=0,_l(0)}}function S0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,yl(t)))}function tr(e){return j0(),N0(),w0(),E0()}function E0(){if(Ie!==5)return!1;var e=La,t=po;po=0;var s=Ur(Ys),l=L.T,n=E.p;try{E.p=32>s?32:s,L.T=null,s=go,go=null;var i=La,d=Ys;if(Ie=0,qs=La=null,Ys=0,(Ee&6)!==0)throw Error(c(331));var f=Ee;if(Ee|=4,o0(i.current),n0(i,i.current,d,s),Ee=f,_l(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(el,i)}catch{}return!0}finally{E.p=n,L.T=l,S0(e,t)}}function k0(e,t,s){t=Mt(s,t),t=Pi(e.stateNode,t,2),e=Na(e,t,2),e!==null&&(al(e,2),Kt(e))}function De(e,t,s){if(e.tag===3)k0(e,e,s);else for(;t!==null;){if(t.tag===3){k0(t,e,s);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ta===null||!Ta.has(l))){e=Mt(s,e),s=Du(2),l=Na(t,s,2),l!==null&&(Tu(s,l,t,e),al(l,2),Kt(l));break}}t=t.return}}function No(e,t,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Cf;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(s)||(mo=!0,n.add(s),e=Lf.bind(null,e,t,s),t.then(e,e))}function Lf(e,t,s){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Te===e&&(Ne&s)===s&&(He===4||He===3&&(Ne&62914560)===Ne&&300>Et()-ho?(Ee&2)===0&&Gs(e,0):xo|=s,_s===Ne&&(_s=0)),Kt(e)}function C0(e,t){t===0&&(t=wc()),e=Ss(e,t),e!==null&&(al(e,t),Kt(e))}function zf(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),C0(e,s)}function Rf(e,t){var s=0;switch(e.tag){case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(c(314))}l!==null&&l.delete(t),C0(e,s)}function Of(e,t){return Ge(e,t)}var ar=null,$s=null,wo=!1,sr=!1,So=!1,is=0;function Kt(e){e!==$s&&e.next===null&&($s===null?ar=$s=e:$s=$s.next=e),sr=!0,wo||(wo=!0,Hf())}function _l(e,t){if(!So&&sr){So=!0;do for(var s=!1,l=ar;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var i=0;else{var d=l.suspendedLanes,f=l.pingedLanes;i=(1<<31-ht(42|e)+1)-1,i&=n&~(d&~f),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(s=!0,T0(l,i))}else i=Ne,i=cn(l,l===Te?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||tl(l,i)||(s=!0,T0(l,i));l=l.next}while(s);So=!1}}function Bf(){M0()}function M0(){sr=wo=!1;var e=0;is!==0&&(Xf()&&(e=is),is=0);for(var t=Et(),s=null,l=ar;l!==null;){var n=l.next,i=A0(l,t);i===0?(l.next=null,s===null?ar=n:s.next=n,n===null&&($s=s)):(s=l,(e!==0||(i&3)!==0)&&(sr=!0)),l=n}_l(e)}function A0(e,t){for(var s=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var d=31-ht(i),f=1<<d,N=n[d];N===-1?((f&s)===0||(f&l)!==0)&&(n[d]=ix(f,t)):N<=t&&(e.expiredLanes|=f),i&=~f}if(t=Te,s=Ne,s=cn(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&St(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||tl(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(l!==null&&St(l),Ur(s)){case 2:case 8:s=vc;break;case 32:s=nn;break;case 268435456:s=jc;break;default:s=nn}return l=D0.bind(null,e),s=Ge(s,l),e.callbackPriority=t,e.callbackNode=s,t}return l!==null&&l!==null&&St(l),e.callbackPriority=2,e.callbackNode=null,2}function D0(e,t){if(Ie!==0&&Ie!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(tr()&&e.callbackNode!==s)return null;var l=Ne;return l=cn(e,e===Te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(m0(e,l,t),A0(e,Et()),e.callbackNode!=null&&e.callbackNode===s?D0.bind(null,e):null)}function T0(e,t){if(tr())return null;m0(e,t,!0)}function Hf(){Zf(function(){(Ee&6)!==0?Ge(bc,Bf):M0()})}function Eo(){return is===0&&(is=Nc()),is}function L0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fn(""+e)}function z0(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function Uf(e,t,s,l,n){if(t==="submit"&&s&&s.stateNode===n){var i=L0((n[ot]||null).action),d=l.submitter;d&&(t=(t=d[ot]||null)?L0(t.formAction):d.getAttribute("formAction"),t!==null&&(i=t,d=null));var f=new yn("action","action",null,l,n);e.push({event:f,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(is!==0){var N=d?z0(n,d):new FormData(n);$i(s,{pending:!0,data:N,method:n.method,action:i},null,N)}}else typeof i=="function"&&(f.preventDefault(),N=d?z0(n,d):new FormData(n),$i(s,{pending:!0,data:N,method:n.method,action:i},i,N))},currentTarget:n}]})}}for(var ko=0;ko<ci.length;ko++){var Co=ci[ko],_f=Co.toLowerCase(),qf=Co[0].toUpperCase()+Co.slice(1);Ut(_f,"on"+qf)}Ut(md,"onAnimationEnd"),Ut(xd,"onAnimationIteration"),Ut(fd,"onAnimationStart"),Ut("dblclick","onDoubleClick"),Ut("focusin","onFocus"),Ut("focusout","onBlur"),Ut(af,"onTransitionRun"),Ut(sf,"onTransitionStart"),Ut(lf,"onTransitionCancel"),Ut(hd,"onTransitionEnd"),fs("onMouseEnter",["mouseout","mouseover"]),fs("onMouseLeave",["mouseout","mouseover"]),fs("onPointerEnter",["pointerout","pointerover"]),fs("onPointerLeave",["pointerout","pointerover"]),Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function R0(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],n=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var d=l.length-1;0<=d;d--){var f=l[d],N=f.instance,O=f.currentTarget;if(f=f.listener,N!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=O;try{i(n)}catch(V){$n(V)}n.currentTarget=null,i=N}else for(d=0;d<l.length;d++){if(f=l[d],N=f.instance,O=f.currentTarget,f=f.listener,N!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=O;try{i(n)}catch(V){$n(V)}n.currentTarget=null,i=N}}}}function je(e,t){var s=t[_r];s===void 0&&(s=t[_r]=new Set);var l=e+"__bubble";s.has(l)||(O0(t,e,2,!1),s.add(l))}function Mo(e,t,s){var l=0;t&&(l|=4),O0(s,e,l,t)}var lr="_reactListening"+Math.random().toString(36).slice(2);function Ao(e){if(!e[lr]){e[lr]=!0,Mc.forEach(function(s){s!=="selectionchange"&&(Yf.has(s)||Mo(s,!1,e),Mo(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lr]||(t[lr]=!0,Mo("selectionchange",!1,t))}}function O0(e,t,s,l){switch(nm(t)){case 2:var n=fh;break;case 8:n=hh;break;default:n=Vo}s=n.bind(null,t,s,e),n=void 0,!Jr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):n!==void 0?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function Do(e,t,s,l,n){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var d=l.tag;if(d===3||d===4){var f=l.stateNode.containerInfo;if(f===n)break;if(d===4)for(d=l.return;d!==null;){var N=d.tag;if((N===3||N===4)&&d.stateNode.containerInfo===n)return;d=d.return}for(;f!==null;){if(d=us(f),d===null)return;if(N=d.tag,N===5||N===6||N===26||N===27){l=i=d;continue e}f=f.parentNode}}l=l.return}Gc(function(){var O=i,V=Kr(s),Q=[];e:{var U=pd.get(e);if(U!==void 0){var Y=yn,he=e;switch(e){case"keypress":if(pn(s)===0)break e;case"keydown":case"keyup":Y=Rx;break;case"focusin":he="focus",Y=ei;break;case"focusout":he="blur",Y=ei;break;case"beforeblur":case"afterblur":Y=ei;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Nx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Hx;break;case md:case xd:case fd:Y=Ex;break;case hd:Y=_x;break;case"scroll":case"scrollend":Y=vx;break;case"wheel":Y=Yx;break;case"copy":case"cut":case"paste":Y=Cx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Zc;break;case"toggle":case"beforetoggle":Y=Vx}var me=(t&4)!==0,Ae=!me&&(e==="scroll"||e==="scrollend"),A=me?U!==null?U+"Capture":null:U;me=[];for(var C=O,z;C!==null;){var $=C;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||A===null||($=nl(C,A),$!=null&&me.push(Yl(C,$,z))),Ae)break;C=C.return}0<me.length&&(U=new Y(U,he,null,s,V),Q.push({event:U,listeners:me}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",U&&s!==Zr&&(he=s.relatedTarget||s.fromElement)&&(us(he)||he[ds]))break e;if((Y||U)&&(U=V.window===V?V:(U=V.ownerDocument)?U.defaultView||U.parentWindow:window,Y?(he=s.relatedTarget||s.toElement,Y=O,he=he?us(he):null,he!==null&&(Ae=p(he),me=he.tag,he!==Ae||me!==5&&me!==27&&me!==6)&&(he=null)):(Y=null,he=O),Y!==he)){if(me=Xc,$="onMouseLeave",A="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(me=Zc,$="onPointerLeave",A="onPointerEnter",C="pointer"),Ae=Y==null?U:ll(Y),z=he==null?U:ll(he),U=new me($,C+"leave",Y,s,V),U.target=Ae,U.relatedTarget=z,$=null,us(V)===O&&(me=new me(A,C+"enter",he,s,V),me.target=z,me.relatedTarget=Ae,$=me),Ae=$,Y&&he)t:{for(me=Y,A=he,C=0,z=me;z;z=Xs(z))C++;for(z=0,$=A;$;$=Xs($))z++;for(;0<C-z;)me=Xs(me),C--;for(;0<z-C;)A=Xs(A),z--;for(;C--;){if(me===A||A!==null&&me===A.alternate)break t;me=Xs(me),A=Xs(A)}me=null}else me=null;Y!==null&&B0(Q,U,Y,me,!1),he!==null&&Ae!==null&&B0(Q,Ae,he,me,!0)}}e:{if(U=O?ll(O):window,Y=U.nodeName&&U.nodeName.toLowerCase(),Y==="select"||Y==="input"&&U.type==="file")var ie=td;else if(Ic(U))if(ad)ie=Ix;else{ie=Wx;var be=Jx}else Y=U.nodeName,!Y||Y.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?O&&Qr(O.elementType)&&(ie=td):ie=Fx;if(ie&&(ie=ie(e,O))){ed(Q,ie,s,V);break e}be&&be(e,U,O),e==="focusout"&&O&&U.type==="number"&&O.memoizedProps.value!=null&&Xr(U,"number",U.value)}switch(be=O?ll(O):window,e){case"focusin":(Ic(be)||be.contentEditable==="true")&&(js=be,ri=O,xl=null);break;case"focusout":xl=ri=js=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":ii=!1,dd(Q,s,V);break;case"selectionchange":if(tf)break;case"keydown":case"keyup":dd(Q,s,V)}var ce;if(ai)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else vs?Wc(e,s)&&(xe="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(xe="onCompositionStart");xe&&(Kc&&s.locale!=="ko"&&(vs||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&vs&&(ce=Vc()):(ya=V,Wr="value"in ya?ya.value:ya.textContent,vs=!0)),be=nr(O,xe),0<be.length&&(xe=new Qc(xe,e,null,s,V),Q.push({event:xe,listeners:be}),ce?xe.data=ce:(ce=Fc(s),ce!==null&&(xe.data=ce)))),(ce=Xx?Qx(e,s):Zx(e,s))&&(xe=nr(O,"onBeforeInput"),0<xe.length&&(be=new Qc("onBeforeInput","beforeinput",null,s,V),Q.push({event:be,listeners:xe}),be.data=ce)),Uf(Q,e,O,s,V)}R0(Q,t)})}function Yl(e,t,s){return{instance:e,listener:t,currentTarget:s}}function nr(e,t){for(var s=t+"Capture",l=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=nl(e,s),n!=null&&l.unshift(Yl(e,n,i)),n=nl(e,t),n!=null&&l.push(Yl(e,n,i))),e.tag===3)return l;e=e.return}return[]}function Xs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function B0(e,t,s,l,n){for(var i=t._reactName,d=[];s!==null&&s!==l;){var f=s,N=f.alternate,O=f.stateNode;if(f=f.tag,N!==null&&N===l)break;f!==5&&f!==26&&f!==27||O===null||(N=O,n?(O=nl(s,i),O!=null&&d.unshift(Yl(s,O,N))):n||(O=nl(s,i),O!=null&&d.push(Yl(s,O,N)))),s=s.return}d.length!==0&&e.push({event:t,listeners:d})}var Gf=/\r\n?/g,Vf=/\u0000|\uFFFD/g;function H0(e){return(typeof e=="string"?e:""+e).replace(Gf,`
`).replace(Vf,"")}function U0(e,t){return t=H0(t),H0(e)===t}function rr(){}function Me(e,t,s,l,n,i){switch(s){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||gs(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&gs(e,""+l);break;case"className":un(e,"class",l);break;case"tabIndex":un(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":un(e,s,l);break;case"style":qc(e,l,i);break;case"data":if(t!=="object"){un(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=fn(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(s==="formAction"?(t!=="input"&&Me(e,t,"name",n.name,n,null),Me(e,t,"formEncType",n.formEncType,n,null),Me(e,t,"formMethod",n.formMethod,n,null),Me(e,t,"formTarget",n.formTarget,n,null)):(Me(e,t,"encType",n.encType,n,null),Me(e,t,"method",n.method,n,null),Me(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=fn(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=rr);break;case"onScroll":l!=null&&je("scroll",e);break;case"onScrollEnd":l!=null&&je("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(s=l.__html,s!=null){if(n.children!=null)throw Error(c(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=fn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":je("beforetoggle",e),je("toggle",e),dn(e,"popover",l);break;case"xlinkActuate":Wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Wt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Wt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Wt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Wt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dn(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=yx.get(s)||s,dn(e,s,l))}}function To(e,t,s,l,n,i){switch(s){case"style":qc(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(s=l.__html,s!=null){if(n.children!=null)throw Error(c(60));e.innerHTML=s}}break;case"children":typeof l=="string"?gs(e,l):(typeof l=="number"||typeof l=="bigint")&&gs(e,""+l);break;case"onScroll":l!=null&&je("scroll",e);break;case"onScrollEnd":l!=null&&je("scrollend",e);break;case"onClick":l!=null&&(e.onclick=rr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ac.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(n=s.endsWith("Capture"),t=s.slice(2,n?s.length-7:void 0),i=e[ot]||null,i=i!=null?i[s]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof l=="function")){typeof i!="function"&&i!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,l,n);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):dn(e,s,l)}}}function et(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",e),je("load",e);var l=!1,n=!1,i;for(i in s)if(s.hasOwnProperty(i)){var d=s[i];if(d!=null)switch(i){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Me(e,t,i,d,s,null)}}n&&Me(e,t,"srcSet",s.srcSet,s,null),l&&Me(e,t,"src",s.src,s,null);return;case"input":je("invalid",e);var f=i=d=n=null,N=null,O=null;for(l in s)if(s.hasOwnProperty(l)){var V=s[l];if(V!=null)switch(l){case"name":n=V;break;case"type":d=V;break;case"checked":N=V;break;case"defaultChecked":O=V;break;case"value":i=V;break;case"defaultValue":f=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(c(137,t));break;default:Me(e,t,l,V,s,null)}}Bc(e,i,f,N,O,d,n,!1),mn(e);return;case"select":je("invalid",e),l=d=i=null;for(n in s)if(s.hasOwnProperty(n)&&(f=s[n],f!=null))switch(n){case"value":i=f;break;case"defaultValue":d=f;break;case"multiple":l=f;default:Me(e,t,n,f,s,null)}t=i,s=d,e.multiple=!!l,t!=null?ps(e,!!l,t,!1):s!=null&&ps(e,!!l,s,!0);return;case"textarea":je("invalid",e),i=n=l=null;for(d in s)if(s.hasOwnProperty(d)&&(f=s[d],f!=null))switch(d){case"value":l=f;break;case"defaultValue":n=f;break;case"children":i=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(c(91));break;default:Me(e,t,d,f,s,null)}Uc(e,l,n,i),mn(e);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Me(e,t,N,l,s,null)}return;case"dialog":je("beforetoggle",e),je("toggle",e),je("cancel",e),je("close",e);break;case"iframe":case"object":je("load",e);break;case"video":case"audio":for(l=0;l<ql.length;l++)je(ql[l],e);break;case"image":je("error",e),je("load",e);break;case"details":je("toggle",e);break;case"embed":case"source":case"link":je("error",e),je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in s)if(s.hasOwnProperty(O)&&(l=s[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Me(e,t,O,l,s,null)}return;default:if(Qr(t)){for(V in s)s.hasOwnProperty(V)&&(l=s[V],l!==void 0&&To(e,t,V,l,s,void 0));return}}for(f in s)s.hasOwnProperty(f)&&(l=s[f],l!=null&&Me(e,t,f,l,s,null))}function $f(e,t,s,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,d=null,f=null,N=null,O=null,V=null;for(Y in s){var Q=s[Y];if(s.hasOwnProperty(Y)&&Q!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=Q;default:l.hasOwnProperty(Y)||Me(e,t,Y,null,l,Q)}}for(var U in l){var Y=l[U];if(Q=s[U],l.hasOwnProperty(U)&&(Y!=null||Q!=null))switch(U){case"type":i=Y;break;case"name":n=Y;break;case"checked":O=Y;break;case"defaultChecked":V=Y;break;case"value":d=Y;break;case"defaultValue":f=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(c(137,t));break;default:Y!==Q&&Me(e,t,U,Y,l,Q)}}$r(e,d,f,N,O,V,i,n);return;case"select":Y=d=f=U=null;for(i in s)if(N=s[i],s.hasOwnProperty(i)&&N!=null)switch(i){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(i)||Me(e,t,i,null,l,N)}for(n in l)if(i=l[n],N=s[n],l.hasOwnProperty(n)&&(i!=null||N!=null))switch(n){case"value":U=i;break;case"defaultValue":f=i;break;case"multiple":d=i;default:i!==N&&Me(e,t,n,i,l,N)}t=f,s=d,l=Y,U!=null?ps(e,!!s,U,!1):!!l!=!!s&&(t!=null?ps(e,!!s,t,!0):ps(e,!!s,s?[]:"",!1));return;case"textarea":Y=U=null;for(f in s)if(n=s[f],s.hasOwnProperty(f)&&n!=null&&!l.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:Me(e,t,f,null,l,n)}for(d in l)if(n=l[d],i=s[d],l.hasOwnProperty(d)&&(n!=null||i!=null))switch(d){case"value":U=n;break;case"defaultValue":Y=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(c(91));break;default:n!==i&&Me(e,t,d,n,l,i)}Hc(e,U,Y);return;case"option":for(var he in s)if(U=s[he],s.hasOwnProperty(he)&&U!=null&&!l.hasOwnProperty(he))switch(he){case"selected":e.selected=!1;break;default:Me(e,t,he,null,l,U)}for(N in l)if(U=l[N],Y=s[N],l.hasOwnProperty(N)&&U!==Y&&(U!=null||Y!=null))switch(N){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Me(e,t,N,U,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in s)U=s[me],s.hasOwnProperty(me)&&U!=null&&!l.hasOwnProperty(me)&&Me(e,t,me,null,l,U);for(O in l)if(U=l[O],Y=s[O],l.hasOwnProperty(O)&&U!==Y&&(U!=null||Y!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(c(137,t));break;default:Me(e,t,O,U,l,Y)}return;default:if(Qr(t)){for(var Ae in s)U=s[Ae],s.hasOwnProperty(Ae)&&U!==void 0&&!l.hasOwnProperty(Ae)&&To(e,t,Ae,void 0,l,U);for(V in l)U=l[V],Y=s[V],!l.hasOwnProperty(V)||U===Y||U===void 0&&Y===void 0||To(e,t,V,U,l,Y);return}}for(var A in s)U=s[A],s.hasOwnProperty(A)&&U!=null&&!l.hasOwnProperty(A)&&Me(e,t,A,null,l,U);for(Q in l)U=l[Q],Y=s[Q],!l.hasOwnProperty(Q)||U===Y||U==null&&Y==null||Me(e,t,Q,U,l,Y)}var Lo=null,zo=null;function ir(e){return e.nodeType===9?e:e.ownerDocument}function _0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ro(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oo=null;function Xf(){var e=window.event;return e&&e.type==="popstate"?e===Oo?!1:(Oo=e,!0):(Oo=null,!1)}var Y0=typeof setTimeout=="function"?setTimeout:void 0,Qf=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,Zf=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(e){return G0.resolve(null).then(e).catch(Kf)}:Y0;function Kf(e){setTimeout(function(){throw e})}function Ra(e){return e==="head"}function V0(e,t){var s=t,l=0,n=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(0<l&&8>l){s=l;var d=e.ownerDocument;if(s&1&&Gl(d.documentElement),s&2&&Gl(d.body),s&4)for(s=d.head,Gl(s),d=s.firstChild;d;){var f=d.nextSibling,N=d.nodeName;d[sl]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=f}}if(n===0){e.removeChild(i),Jl(t);return}n--}else s==="$"||s==="$?"||s==="$!"?n++:l=s.charCodeAt(0)-48;else l=0;s=i}while(s);Jl(t)}function Bo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Bo(s),qr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Pf(e,t,s,l){for(;e.nodeType===1;){var n=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[sl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=qt(e.nextSibling),e===null)break}return null}function Jf(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=qt(e.nextSibling),e===null))return null;return e}function Ho(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Wf(e,t){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")t();else{var l=function(){t(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Uo=null;function $0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}function X0(e,t,s){switch(t=ir(s),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Gl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qr(e)}var Rt=new Map,Q0=new Set;function or(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ua=E.d;E.d={f:Ff,r:If,D:eh,C:th,L:ah,m:sh,X:nh,S:lh,M:rh};function Ff(){var e=ua.f(),t=In();return e||t}function If(e){var t=ms(e);t!==null&&t.tag===5&&t.type==="form"?mu(t):ua.r(e)}var Qs=typeof document>"u"?null:document;function Z0(e,t,s){var l=Qs;if(l&&typeof t=="string"&&t){var n=Ct(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof s=="string"&&(n+='[crossorigin="'+s+'"]'),Q0.has(n)||(Q0.add(n),e={rel:e,crossOrigin:s,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),et(t,"link",e),Ke(t),l.head.appendChild(t)))}}function eh(e){ua.D(e),Z0("dns-prefetch",e,null)}function th(e,t){ua.C(e,t),Z0("preconnect",e,t)}function ah(e,t,s){ua.L(e,t,s);var l=Qs;if(l&&e&&t){var n='link[rel="preload"][as="'+Ct(t)+'"]';t==="image"&&s&&s.imageSrcSet?(n+='[imagesrcset="'+Ct(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(n+='[imagesizes="'+Ct(s.imageSizes)+'"]')):n+='[href="'+Ct(e)+'"]';var i=n;switch(t){case"style":i=Zs(e);break;case"script":i=Ks(e)}Rt.has(i)||(e=v({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),Rt.set(i,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(Vl(i))||t==="script"&&l.querySelector($l(i))||(t=l.createElement("link"),et(t,"link",e),Ke(t),l.head.appendChild(t)))}}function sh(e,t){ua.m(e,t);var s=Qs;if(s&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Ct(l)+'"][href="'+Ct(e)+'"]',i=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ks(e)}if(!Rt.has(i)&&(e=v({rel:"modulepreload",href:e},t),Rt.set(i,e),s.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector($l(i)))return}l=s.createElement("link"),et(l,"link",e),Ke(l),s.head.appendChild(l)}}}function lh(e,t,s){ua.S(e,t,s);var l=Qs;if(l&&e){var n=xs(l).hoistableStyles,i=Zs(e);t=t||"default";var d=n.get(i);if(!d){var f={loading:0,preload:null};if(d=l.querySelector(Vl(i)))f.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},s),(s=Rt.get(i))&&_o(e,s);var N=d=l.createElement("link");Ke(N),et(N,"link",e),N._p=new Promise(function(O,V){N.onload=O,N.onerror=V}),N.addEventListener("load",function(){f.loading|=1}),N.addEventListener("error",function(){f.loading|=2}),f.loading|=4,cr(d,t,l)}d={type:"stylesheet",instance:d,count:1,state:f},n.set(i,d)}}}function nh(e,t){ua.X(e,t);var s=Qs;if(s&&e){var l=xs(s).hoistableScripts,n=Ks(e),i=l.get(n);i||(i=s.querySelector($l(n)),i||(e=v({src:e,async:!0},t),(t=Rt.get(n))&&qo(e,t),i=s.createElement("script"),Ke(i),et(i,"link",e),s.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function rh(e,t){ua.M(e,t);var s=Qs;if(s&&e){var l=xs(s).hoistableScripts,n=Ks(e),i=l.get(n);i||(i=s.querySelector($l(n)),i||(e=v({src:e,async:!0,type:"module"},t),(t=Rt.get(n))&&qo(e,t),i=s.createElement("script"),Ke(i),et(i,"link",e),s.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function K0(e,t,s,l){var n=(n=g.current)?or(n):null;if(!n)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Zs(s.href),s=xs(n).hoistableStyles,l=s.get(t),l||(l={type:"style",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Zs(s.href);var i=xs(n).hoistableStyles,d=i.get(e);if(d||(n=n.ownerDocument||n,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,d),(i=n.querySelector(Vl(e)))&&!i._p&&(d.instance=i,d.state.loading=5),Rt.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Rt.set(e,s),i||ih(n,e,s,d.state))),t&&l===null)throw Error(c(528,""));return d}if(t&&l!==null)throw Error(c(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ks(s),s=xs(n).hoistableScripts,l=s.get(t),l||(l={type:"script",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Zs(e){return'href="'+Ct(e)+'"'}function Vl(e){return'link[rel="stylesheet"]['+e+"]"}function P0(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function ih(e,t,s,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),et(t,"link",s),Ke(t),e.head.appendChild(t))}function Ks(e){return'[src="'+Ct(e)+'"]'}function $l(e){return"script[async]"+e}function J0(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Ct(s.href)+'"]');if(l)return t.instance=l,Ke(l),l;var n=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ke(l),et(l,"style",n),cr(l,s.precedence,e),t.instance=l;case"stylesheet":n=Zs(s.href);var i=e.querySelector(Vl(n));if(i)return t.state.loading|=4,t.instance=i,Ke(i),i;l=P0(s),(n=Rt.get(n))&&_o(l,n),i=(e.ownerDocument||e).createElement("link"),Ke(i);var d=i;return d._p=new Promise(function(f,N){d.onload=f,d.onerror=N}),et(i,"link",l),t.state.loading|=4,cr(i,s.precedence,e),t.instance=i;case"script":return i=Ks(s.src),(n=e.querySelector($l(i)))?(t.instance=n,Ke(n),n):(l=s,(n=Rt.get(i))&&(l=v({},s),qo(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ke(n),et(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,cr(l,s.precedence,e));return t.instance}function cr(e,t,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,i=n,d=0;d<l.length;d++){var f=l[d];if(f.dataset.precedence===t)i=f;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function _o(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var dr=null;function W0(e,t,s){if(dr===null){var l=new Map,n=dr=new Map;n.set(s,l)}else n=dr,l=n.get(s),l||(l=new Map,n.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),n=0;n<s.length;n++){var i=s[n];if(!(i[sl]||i[tt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var d=i.getAttribute(t)||"";d=e+d;var f=l.get(d);f?f.push(i):l.set(d,[i])}}return l}function F0(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function oh(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function I0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Xl=null;function ch(){}function dh(e,t,s){if(Xl===null)throw Error(c(475));var l=Xl;if(t.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=Zs(s.href),i=e.querySelector(Vl(n));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ur.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=i,Ke(i);return}i=e.ownerDocument||e,s=P0(s),(n=Rt.get(n))&&_o(s,n),i=i.createElement("link"),Ke(i);var d=i;d._p=new Promise(function(f,N){d.onload=f,d.onerror=N}),et(i,"link",s),t.instance=i}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=ur.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function uh(){if(Xl===null)throw Error(c(475));var e=Xl;return e.stylesheets&&e.count===0&&Yo(e,e.stylesheets),0<e.count?function(t){var s=setTimeout(function(){if(e.stylesheets&&Yo(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(s)}}:null}function ur(){if(this.count--,this.count===0){if(this.stylesheets)Yo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mr=null;function Yo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mr=new Map,t.forEach(mh,e),mr=null,ur.call(e))}function mh(e,t){if(!(t.state.loading&4)){var s=mr.get(e);if(s)var l=s.get(null);else{s=new Map,mr.set(e,s);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var d=n[i];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(s.set(d.dataset.precedence,d),l=d)}l&&s.set(null,l)}n=t.instance,d=n.getAttribute("data-precedence"),i=s.get(d)||l,i===l&&s.set(null,n),s.set(d,n),this.count++,l=ur.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Ql={$$typeof:_,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function xh(e,t,s,l,n,i,d,f){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Br(0),this.hiddenUpdates=Br(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=f,this.incompleteTransitions=new Map}function em(e,t,s,l,n,i,d,f,N,O,V,Q){return e=new xh(e,t,s,d,f,N,O,Q),t=1,i===!0&&(t|=24),i=gt(3,null,null,t),e.current=i,i.stateNode=e,t=ji(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:s,cache:t},Ei(i),e}function tm(e){return e?(e=Es,e):Es}function am(e,t,s,l,n,i){n=tm(n),l.context===null?l.context=n:l.pendingContext=n,l=ja(t),l.payload={element:s},i=i===void 0?null:i,i!==null&&(l.callback=i),s=Na(e,l,t),s!==null&&(Nt(s,e,t),Nl(s,e,t))}function sm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Go(e,t){sm(e,t),(e=e.alternate)&&sm(e,t)}function lm(e){if(e.tag===13){var t=Ss(e,67108864);t!==null&&Nt(t,e,67108864),Go(e,67108864)}}var xr=!0;function fh(e,t,s,l){var n=L.T;L.T=null;var i=E.p;try{E.p=2,Vo(e,t,s,l)}finally{E.p=i,L.T=n}}function hh(e,t,s,l){var n=L.T;L.T=null;var i=E.p;try{E.p=8,Vo(e,t,s,l)}finally{E.p=i,L.T=n}}function Vo(e,t,s,l){if(xr){var n=$o(l);if(n===null)Do(e,t,l,fr,s),rm(e,l);else if(gh(n,e,t,s,l))l.stopPropagation();else if(rm(e,l),t&4&&-1<ph.indexOf(e)){for(;n!==null;){var i=ms(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var d=$a(i.pendingLanes);if(d!==0){var f=i;for(f.pendingLanes|=2,f.entangledLanes|=2;d;){var N=1<<31-ht(d);f.entanglements[1]|=N,d&=~N}Kt(i),(Ee&6)===0&&(Wn=Et()+500,_l(0))}}break;case 13:f=Ss(i,2),f!==null&&Nt(f,i,2),In(),Go(i,2)}if(i=$o(l),i===null&&Do(e,t,l,fr,s),i===n)break;n=i}n!==null&&l.stopPropagation()}else Do(e,t,l,null,s)}}function $o(e){return e=Kr(e),Xo(e)}var fr=null;function Xo(e){if(fr=null,e=us(e),e!==null){var t=p(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=b(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fr=e,null}function nm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ex()){case bc:return 2;case vc:return 8;case nn:case tx:return 32;case jc:return 268435456;default:return 32}default:return 32}}var Qo=!1,Oa=null,Ba=null,Ha=null,Zl=new Map,Kl=new Map,Ua=[],ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rm(e,t){switch(e){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(t.pointerId)}}function Pl(e,t,s,l,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:l,nativeEvent:i,targetContainers:[n]},t!==null&&(t=ms(t),t!==null&&lm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function gh(e,t,s,l,n){switch(t){case"focusin":return Oa=Pl(Oa,e,t,s,l,n),!0;case"dragenter":return Ba=Pl(Ba,e,t,s,l,n),!0;case"mouseover":return Ha=Pl(Ha,e,t,s,l,n),!0;case"pointerover":var i=n.pointerId;return Zl.set(i,Pl(Zl.get(i)||null,e,t,s,l,n)),!0;case"gotpointercapture":return i=n.pointerId,Kl.set(i,Pl(Kl.get(i)||null,e,t,s,l,n)),!0}return!1}function im(e){var t=us(e.target);if(t!==null){var s=p(t);if(s!==null){if(t=s.tag,t===13){if(t=b(s),t!==null){e.blockedOn=t,cx(e.priority,function(){if(s.tag===13){var l=jt();l=Hr(l);var n=Ss(s,l);n!==null&&Nt(n,s,l),Go(s,l)}});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=$o(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Zr=l,s.target.dispatchEvent(l),Zr=null}else return t=ms(s),t!==null&&lm(t),e.blockedOn=s,!1;t.shift()}return!0}function om(e,t,s){hr(e)&&s.delete(t)}function yh(){Qo=!1,Oa!==null&&hr(Oa)&&(Oa=null),Ba!==null&&hr(Ba)&&(Ba=null),Ha!==null&&hr(Ha)&&(Ha=null),Zl.forEach(om),Kl.forEach(om)}function pr(e,t){e.blockedOn===t&&(e.blockedOn=null,Qo||(Qo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yh)))}var gr=null;function cm(e){gr!==e&&(gr=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gr===e&&(gr=null);for(var t=0;t<e.length;t+=3){var s=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(Xo(l||s)===null)continue;break}var i=ms(s);i!==null&&(e.splice(t,3),t-=3,$i(i,{pending:!0,data:n,method:s.method,action:l},l,n))}}))}function Jl(e){function t(N){return pr(N,e)}Oa!==null&&pr(Oa,e),Ba!==null&&pr(Ba,e),Ha!==null&&pr(Ha,e),Zl.forEach(t),Kl.forEach(t);for(var s=0;s<Ua.length;s++){var l=Ua[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ua.length&&(s=Ua[0],s.blockedOn===null);)im(s),s.blockedOn===null&&Ua.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var n=s[l],i=s[l+1],d=n[ot]||null;if(typeof i=="function")d||cm(s);else if(d){var f=null;if(i&&i.hasAttribute("formAction")){if(n=i,d=i[ot]||null)f=d.formAction;else if(Xo(n)!==null)continue}else f=d.action;typeof f=="function"?s[l+1]=f:(s.splice(l,3),l-=3),cm(s)}}}function Zo(e){this._internalRoot=e}yr.prototype.render=Zo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var s=t.current,l=jt();am(s,l,e,t,null,null)},yr.prototype.unmount=Zo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;am(e.current,2,null,e,null,null),In(),t[ds]=null}};function yr(e){this._internalRoot=e}yr.prototype.unstable_scheduleHydration=function(e){if(e){var t=kc();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Ua.length&&t!==0&&t<Ua[s].priority;s++);Ua.splice(s,0,e),s===0&&im(e)}};var dm=o.version;if(dm!=="19.1.0")throw Error(c(527,dm,"19.1.0"));E.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=j(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var bh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var br=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!br.isDisabled&&br.supportsFiber)try{el=br.inject(bh),ft=br}catch{}}return Fl.createRoot=function(e,t){if(!x(e))throw Error(c(299));var s=!1,l="",n=ku,i=Cu,d=Mu,f=null;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(f=t.unstable_transitionCallbacks)),t=em(e,1,!1,null,null,s,l,n,i,d,f,null),e[ds]=t.current,Ao(e),new Zo(t)},Fl.hydrateRoot=function(e,t,s){if(!x(e))throw Error(c(299));var l=!1,n="",i=ku,d=Cu,f=Mu,N=null,O=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onUncaughtError!==void 0&&(i=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(f=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks),s.formState!==void 0&&(O=s.formState)),t=em(e,1,!0,t,s??null,l,n,i,d,f,N,O),t.context=tm(null),s=t.current,l=jt(),l=Hr(l),n=ja(l),n.callback=null,Na(s,n,l),s=l,t.current.lanes=s,al(t,s),Kt(t),e[ds]=t.current,Ao(e),new yr(t)},Fl.version="19.1.0",Fl}var vm;function Dh(){if(vm)return Jo.exports;vm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),Jo.exports=Ah(),Jo.exports}var Th=Dh();const Lh=Dm(Th);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jm="popstate";function zh(r={}){function o(c,x){let{pathname:p,search:b,hash:w}=c.location;return sc("",{pathname:p,search:b,hash:w},x.state&&x.state.usr||null,x.state&&x.state.key||"default")}function u(c,x){return typeof x=="string"?x:tn(x)}return Oh(o,u,null,r)}function Re(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function wt(r,o){if(!r){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function Rh(){return Math.random().toString(36).substring(2,10)}function Nm(r,o){return{usr:r.state,key:r.key,idx:o}}function sc(r,o,u=null,c){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof o=="string"?Ps(o):o,state:u,key:o&&o.key||c||Rh()}}function tn({pathname:r="/",search:o="",hash:u=""}){return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),u&&u!=="#"&&(r+=u.charAt(0)==="#"?u:"#"+u),r}function Ps(r){let o={};if(r){let u=r.indexOf("#");u>=0&&(o.hash=r.substring(u),r=r.substring(0,u));let c=r.indexOf("?");c>=0&&(o.search=r.substring(c),r=r.substring(0,c)),r&&(o.pathname=r)}return o}function Oh(r,o,u,c={}){let{window:x=document.defaultView,v5Compat:p=!1}=c,b=x.history,w="POP",j=null,y=v();y==null&&(y=0,b.replaceState({...b.state,idx:y},""));function v(){return(b.state||{idx:null}).idx}function S(){w="POP";let B=v(),k=B==null?null:B-y;y=B,j&&j({action:w,location:D.location,delta:k})}function q(B,k){w="PUSH";let G=sc(D.location,B,k);y=v()+1;let _=Nm(G,y),I=D.createHref(G);try{b.pushState(_,"",I)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;x.location.assign(I)}p&&j&&j({action:w,location:D.location,delta:1})}function R(B,k){w="REPLACE";let G=sc(D.location,B,k);y=v();let _=Nm(G,y),I=D.createHref(G);b.replaceState(_,"",I),p&&j&&j({action:w,location:D.location,delta:0})}function Z(B){return Bh(B)}let D={get action(){return w},get location(){return r(x,b)},listen(B){if(j)throw new Error("A history only accepts one active listener");return x.addEventListener(jm,S),j=B,()=>{x.removeEventListener(jm,S),j=null}},createHref(B){return o(x,B)},createURL:Z,encodeLocation(B){let k=Z(B);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:q,replace:R,go(B){return b.go(B)}};return D}function Bh(r,o=!1){let u="http://localhost";typeof window<"u"&&(u=window.location.origin!=="null"?window.location.origin:window.location.href),Re(u,"No window.location.(origin|href) available to create URL");let c=typeof r=="string"?r:tn(r);return c=c.replace(/ $/,"%20"),!o&&c.startsWith("//")&&(c=u+c),new URL(c,u)}function Tm(r,o,u="/"){return Hh(r,o,u,!1)}function Hh(r,o,u,c){let x=typeof o=="string"?Ps(o):o,p=fa(x.pathname||"/",u);if(p==null)return null;let b=Lm(r);Uh(b);let w=null;for(let j=0;w==null&&j<b.length;++j){let y=Ph(p);w=Zh(b[j],y,c)}return w}function Lm(r,o=[],u=[],c="",x=!1){let p=(b,w,j=x,y)=>{let v={relativePath:y===void 0?b.path||"":y,caseSensitive:b.caseSensitive===!0,childrenIndex:w,route:b};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(c)&&j)return;Re(v.relativePath.startsWith(c),`Absolute route path "${v.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(c.length)}let S=xa([c,v.relativePath]),q=u.concat(v);b.children&&b.children.length>0&&(Re(b.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),Lm(b.children,o,q,S,j)),!(b.path==null&&!b.index)&&o.push({path:S,score:Xh(S,b.index),routesMeta:q})};return r.forEach((b,w)=>{if(b.path===""||!b.path?.includes("?"))p(b,w);else for(let j of zm(b.path))p(b,w,!0,j)}),o}function zm(r){let o=r.split("/");if(o.length===0)return[];let[u,...c]=o,x=u.endsWith("?"),p=u.replace(/\?$/,"");if(c.length===0)return x?[p,""]:[p];let b=zm(c.join("/")),w=[];return w.push(...b.map(j=>j===""?p:[p,j].join("/"))),x&&w.push(...b),w.map(j=>r.startsWith("/")&&j===""?"/":j)}function Uh(r){r.sort((o,u)=>o.score!==u.score?u.score-o.score:Qh(o.routesMeta.map(c=>c.childrenIndex),u.routesMeta.map(c=>c.childrenIndex)))}var _h=/^:[\w-]+$/,qh=3,Yh=2,Gh=1,Vh=10,$h=-2,wm=r=>r==="*";function Xh(r,o){let u=r.split("/"),c=u.length;return u.some(wm)&&(c+=$h),o&&(c+=Yh),u.filter(x=>!wm(x)).reduce((x,p)=>x+(_h.test(p)?qh:p===""?Gh:Vh),c)}function Qh(r,o){return r.length===o.length&&r.slice(0,-1).every((c,x)=>c===o[x])?r[r.length-1]-o[o.length-1]:0}function Zh(r,o,u=!1){let{routesMeta:c}=r,x={},p="/",b=[];for(let w=0;w<c.length;++w){let j=c[w],y=w===c.length-1,v=p==="/"?o:o.slice(p.length)||"/",S=Dr({path:j.relativePath,caseSensitive:j.caseSensitive,end:y},v),q=j.route;if(!S&&y&&u&&!c[c.length-1].route.index&&(S=Dr({path:j.relativePath,caseSensitive:j.caseSensitive,end:!1},v)),!S)return null;Object.assign(x,S.params),b.push({params:x,pathname:xa([p,S.pathname]),pathnameBase:ep(xa([p,S.pathnameBase])),route:q}),S.pathnameBase!=="/"&&(p=xa([p,S.pathnameBase]))}return b}function Dr(r,o){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[u,c]=Kh(r.path,r.caseSensitive,r.end),x=o.match(u);if(!x)return null;let p=x[0],b=p.replace(/(.)\/+$/,"$1"),w=x.slice(1);return{params:c.reduce((y,{paramName:v,isOptional:S},q)=>{if(v==="*"){let Z=w[q]||"";b=p.slice(0,p.length-Z.length).replace(/(.)\/+$/,"$1")}const R=w[q];return S&&!R?y[v]=void 0:y[v]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:p,pathnameBase:b,pattern:r}}function Kh(r,o=!1,u=!0){wt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let c=[],x="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,w,j)=>(c.push({paramName:w,isOptional:j!=null}),j?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(c.push({paramName:"*"}),x+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):u?x+="\\/*$":r!==""&&r!=="/"&&(x+="(?:(?=\\/|$))"),[new RegExp(x,o?void 0:"i"),c]}function Ph(r){try{return r.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return wt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${o}).`),r}}function fa(r,o){if(o==="/")return r;if(!r.toLowerCase().startsWith(o.toLowerCase()))return null;let u=o.endsWith("/")?o.length-1:o.length,c=r.charAt(u);return c&&c!=="/"?null:r.slice(u)||"/"}var Jh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wh=r=>Jh.test(r);function Fh(r,o="/"){let{pathname:u,search:c="",hash:x=""}=typeof r=="string"?Ps(r):r,p;if(u)if(Wh(u))p=u;else{if(u.includes("//")){let b=u;u=u.replace(/\/\/+/g,"/"),wt(!1,`Pathnames cannot have embedded double slashes - normalizing ${b} -> ${u}`)}u.startsWith("/")?p=Sm(u.substring(1),"/"):p=Sm(u,o)}else p=o;return{pathname:p,search:tp(c),hash:ap(x)}}function Sm(r,o){let u=o.replace(/\/+$/,"").split("/");return r.split("/").forEach(x=>{x===".."?u.length>1&&u.pop():x!=="."&&u.push(x)}),u.length>1?u.join("/"):"/"}function ec(r,o,u,c){return`Cannot include a '${r}' character in a manually specified \`to.${o}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${u}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ih(r){return r.filter((o,u)=>u===0||o.route.path&&o.route.path.length>0)}function uc(r){let o=Ih(r);return o.map((u,c)=>c===o.length-1?u.pathname:u.pathnameBase)}function mc(r,o,u,c=!1){let x;typeof r=="string"?x=Ps(r):(x={...r},Re(!x.pathname||!x.pathname.includes("?"),ec("?","pathname","search",x)),Re(!x.pathname||!x.pathname.includes("#"),ec("#","pathname","hash",x)),Re(!x.search||!x.search.includes("#"),ec("#","search","hash",x)));let p=r===""||x.pathname==="",b=p?"/":x.pathname,w;if(b==null)w=u;else{let S=o.length-1;if(!c&&b.startsWith("..")){let q=b.split("/");for(;q[0]==="..";)q.shift(),S-=1;x.pathname=q.join("/")}w=S>=0?o[S]:"/"}let j=Fh(x,w),y=b&&b!=="/"&&b.endsWith("/"),v=(p||b===".")&&u.endsWith("/");return!j.pathname.endsWith("/")&&(y||v)&&(j.pathname+="/"),j}var xa=r=>r.join("/").replace(/\/\/+/g,"/"),ep=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),tp=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ap=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function sp(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Rm=["POST","PUT","PATCH","DELETE"];new Set(Rm);var lp=["GET",...Rm];new Set(lp);var Js=h.createContext(null);Js.displayName="DataRouter";var Lr=h.createContext(null);Lr.displayName="DataRouterState";h.createContext(!1);var Om=h.createContext({isTransitioning:!1});Om.displayName="ViewTransition";var np=h.createContext(new Map);np.displayName="Fetchers";var rp=h.createContext(null);rp.displayName="Await";var Gt=h.createContext(null);Gt.displayName="Navigation";var an=h.createContext(null);an.displayName="Location";var Jt=h.createContext({outlet:null,matches:[],isDataRoute:!1});Jt.displayName="Route";var xc=h.createContext(null);xc.displayName="RouteError";function ip(r,{relative:o}={}){Re(Ws(),"useHref() may be used only in the context of a <Router> component.");let{basename:u,navigator:c}=h.useContext(Gt),{hash:x,pathname:p,search:b}=sn(r,{relative:o}),w=p;return u!=="/"&&(w=p==="/"?u:xa([u,p])),c.createHref({pathname:w,search:b,hash:x})}function Ws(){return h.useContext(an)!=null}function Bt(){return Re(Ws(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(an).location}var Bm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hm(r){h.useContext(Gt).static||h.useLayoutEffect(r)}function cs(){let{isDataRoute:r}=h.useContext(Jt);return r?vp():op()}function op(){Re(Ws(),"useNavigate() may be used only in the context of a <Router> component.");let r=h.useContext(Js),{basename:o,navigator:u}=h.useContext(Gt),{matches:c}=h.useContext(Jt),{pathname:x}=Bt(),p=JSON.stringify(uc(c)),b=h.useRef(!1);return Hm(()=>{b.current=!0}),h.useCallback((j,y={})=>{if(wt(b.current,Bm),!b.current)return;if(typeof j=="number"){u.go(j);return}let v=mc(j,JSON.parse(p),x,y.relative==="path");r==null&&o!=="/"&&(v.pathname=v.pathname==="/"?o:xa([o,v.pathname])),(y.replace?u.replace:u.push)(v,y.state,y)},[o,u,p,x,r])}h.createContext(null);function sn(r,{relative:o}={}){let{matches:u}=h.useContext(Jt),{pathname:c}=Bt(),x=JSON.stringify(uc(u));return h.useMemo(()=>mc(r,JSON.parse(x),c,o==="path"),[r,x,c,o])}function cp(r,o){return Um(r,o)}function Um(r,o,u,c,x){Re(Ws(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:p}=h.useContext(Gt),{matches:b}=h.useContext(Jt),w=b[b.length-1],j=w?w.params:{},y=w?w.pathname:"/",v=w?w.pathnameBase:"/",S=w&&w.route;{let G=S&&S.path||"";_m(y,!S||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let q=Bt(),R;if(o){let G=typeof o=="string"?Ps(o):o;Re(v==="/"||G.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${G.pathname}" was given in the \`location\` prop.`),R=G}else R=q;let Z=R.pathname||"/",D=Z;if(v!=="/"){let G=v.replace(/^\//,"").split("/");D="/"+Z.replace(/^\//,"").split("/").slice(G.length).join("/")}let B=Tm(r,{pathname:D});wt(S||B!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),wt(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=fp(B&&B.map(G=>Object.assign({},G,{params:Object.assign({},j,G.params),pathname:xa([v,p.encodeLocation?p.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:xa([v,p.encodeLocation?p.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),b,u,c,x);return o&&k?h.createElement(an.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},k):k}function dp(){let r=bp(),o=sp(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),u=r instanceof Error?r.stack:null,c="rgba(200,200,200, 0.5)",x={padding:"0.5rem",backgroundColor:c},p={padding:"2px 4px",backgroundColor:c},b=null;return console.error("Error handled by React Router default ErrorBoundary:",r),b=h.createElement(h.Fragment,null,h.createElement("p",null," Hey developer "),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:p},"ErrorBoundary")," or"," ",h.createElement("code",{style:p},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},o),u?h.createElement("pre",{style:x},u):null,b)}var up=h.createElement(dp,null),mp=class extends h.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){this.props.onError?this.props.onError(r,o):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?h.createElement(Jt.Provider,{value:this.props.routeContext},h.createElement(xc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xp({routeContext:r,match:o,children:u}){let c=h.useContext(Js);return c&&c.static&&c.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=o.route.id),h.createElement(Jt.Provider,{value:r},u)}function fp(r,o=[],u=null,c=null,x=null){if(r==null){if(!u)return null;if(u.errors)r=u.matches;else if(o.length===0&&!u.initialized&&u.matches.length>0)r=u.matches;else return null}let p=r,b=u?.errors;if(b!=null){let v=p.findIndex(S=>S.route.id&&b?.[S.route.id]!==void 0);Re(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(b).join(",")}`),p=p.slice(0,Math.min(p.length,v+1))}let w=!1,j=-1;if(u)for(let v=0;v<p.length;v++){let S=p[v];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(j=v),S.route.id){let{loaderData:q,errors:R}=u,Z=S.route.loader&&!q.hasOwnProperty(S.route.id)&&(!R||R[S.route.id]===void 0);if(S.route.lazy||Z){w=!0,j>=0?p=p.slice(0,j+1):p=[p[0]];break}}}let y=u&&c?(v,S)=>{c(v,{location:u.location,params:u.matches?.[0]?.params??{},errorInfo:S})}:void 0;return p.reduceRight((v,S,q)=>{let R,Z=!1,D=null,B=null;u&&(R=b&&S.route.id?b[S.route.id]:void 0,D=S.route.errorElement||up,w&&(j<0&&q===0?(_m("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Z=!0,B=null):j===q&&(Z=!0,B=S.route.hydrateFallbackElement||null)));let k=o.concat(p.slice(0,q+1)),G=()=>{let _;return R?_=D:Z?_=B:S.route.Component?_=h.createElement(S.route.Component,null):S.route.element?_=S.route.element:_=v,h.createElement(xp,{match:S,routeContext:{outlet:v,matches:k,isDataRoute:u!=null},children:_})};return u&&(S.route.ErrorBoundary||S.route.errorElement||q===0)?h.createElement(mp,{location:u.location,revalidation:u.revalidation,component:D,error:R,children:G(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:y}):G()},null)}function fc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hp(r){let o=h.useContext(Js);return Re(o,fc(r)),o}function pp(r){let o=h.useContext(Lr);return Re(o,fc(r)),o}function gp(r){let o=h.useContext(Jt);return Re(o,fc(r)),o}function hc(r){let o=gp(r),u=o.matches[o.matches.length-1];return Re(u.route.id,`${r} can only be used on routes that contain a unique "id"`),u.route.id}function yp(){return hc("useRouteId")}function bp(){let r=h.useContext(xc),o=pp("useRouteError"),u=hc("useRouteError");return r!==void 0?r:o.errors?.[u]}function vp(){let{router:r}=hp("useNavigate"),o=hc("useNavigate"),u=h.useRef(!1);return Hm(()=>{u.current=!0}),h.useCallback(async(x,p={})=>{wt(u.current,Bm),u.current&&(typeof x=="number"?r.navigate(x):await r.navigate(x,{fromRouteId:o,...p}))},[r,o])}var Em={};function _m(r,o,u){!o&&!Em[r]&&(Em[r]=!0,wt(!1,u))}h.memo(jp);function jp({routes:r,future:o,state:u,unstable_onError:c}){return Um(r,void 0,u,c,o)}function lc({to:r,replace:o,state:u,relative:c}){Re(Ws(),"<Navigate> may be used only in the context of a <Router> component.");let{static:x}=h.useContext(Gt);wt(!x,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:p}=h.useContext(Jt),{pathname:b}=Bt(),w=cs(),j=mc(r,uc(p),b,c==="path"),y=JSON.stringify(j);return h.useEffect(()=>{w(JSON.parse(y),{replace:o,state:u,relative:c})},[w,y,c,o,u]),null}function Ue(r){Re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Np({basename:r="/",children:o=null,location:u,navigationType:c="POP",navigator:x,static:p=!1}){Re(!Ws(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let b=r.replace(/^\/*/,"/"),w=h.useMemo(()=>({basename:b,navigator:x,static:p,future:{}}),[b,x,p]);typeof u=="string"&&(u=Ps(u));let{pathname:j="/",search:y="",hash:v="",state:S=null,key:q="default"}=u,R=h.useMemo(()=>{let Z=fa(j,b);return Z==null?null:{location:{pathname:Z,search:y,hash:v,state:S,key:q},navigationType:c}},[b,j,y,v,S,q,c]);return wt(R!=null,`<Router basename="${b}"> is not able to match the URL "${j}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:h.createElement(Gt.Provider,{value:w},h.createElement(an.Provider,{children:o,value:R}))}function wp({children:r,location:o}){return cp(nc(r),o)}function nc(r,o=[]){let u=[];return h.Children.forEach(r,(c,x)=>{if(!h.isValidElement(c))return;let p=[...o,x];if(c.type===h.Fragment){u.push.apply(u,nc(c.props.children,p));return}Re(c.type===Ue,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Re(!c.props.index||!c.props.children,"An index route cannot have child routes.");let b={id:c.props.id||p.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(b.children=nc(c.props.children,p)),u.push(b)}),u}var kr="get",Cr="application/x-www-form-urlencoded";function zr(r){return r!=null&&typeof r.tagName=="string"}function Sp(r){return zr(r)&&r.tagName.toLowerCase()==="button"}function Ep(r){return zr(r)&&r.tagName.toLowerCase()==="form"}function kp(r){return zr(r)&&r.tagName.toLowerCase()==="input"}function Cp(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Mp(r,o){return r.button===0&&(!o||o==="_self")&&!Cp(r)}function rc(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((o,u)=>{let c=r[u];return o.concat(Array.isArray(c)?c.map(x=>[u,x]):[[u,c]])},[]))}function Ap(r,o){let u=rc(r);return o&&o.forEach((c,x)=>{u.has(x)||o.getAll(x).forEach(p=>{u.append(x,p)})}),u}var vr=null;function Dp(){if(vr===null)try{new FormData(document.createElement("form"),0),vr=!1}catch{vr=!0}return vr}var Tp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tc(r){return r!=null&&!Tp.has(r)?(wt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cr}"`),null):r}function Lp(r,o){let u,c,x,p,b;if(Ep(r)){let w=r.getAttribute("action");c=w?fa(w,o):null,u=r.getAttribute("method")||kr,x=tc(r.getAttribute("enctype"))||Cr,p=new FormData(r)}else if(Sp(r)||kp(r)&&(r.type==="submit"||r.type==="image")){let w=r.form;if(w==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let j=r.getAttribute("formaction")||w.getAttribute("action");if(c=j?fa(j,o):null,u=r.getAttribute("formmethod")||w.getAttribute("method")||kr,x=tc(r.getAttribute("formenctype"))||tc(w.getAttribute("enctype"))||Cr,p=new FormData(w,r),!Dp()){let{name:y,type:v,value:S}=r;if(v==="image"){let q=y?`${y}.`:"";p.append(`${q}x`,"0"),p.append(`${q}y`,"0")}else y&&p.append(y,S)}}else{if(zr(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');u=kr,c=null,x=Cr,b=r}return p&&x==="text/plain"&&(b=p,p=void 0),{action:c,method:u.toLowerCase(),encType:x,formData:p,body:b}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pc(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function zp(r,o,u){let c=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return c.pathname==="/"?c.pathname=`_root.${u}`:o&&fa(c.pathname,o)==="/"?c.pathname=`${o.replace(/\/$/,"")}/_root.${u}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${u}`,c}async function Rp(r,o){if(r.id in o)return o[r.id];try{let u=await import(r.module);return o[r.id]=u,u}catch(u){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(u),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Op(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Bp(r,o,u){let c=await Promise.all(r.map(async x=>{let p=o.routes[x.route.id];if(p){let b=await Rp(p,u);return b.links?b.links():[]}return[]}));return qp(c.flat(1).filter(Op).filter(x=>x.rel==="stylesheet"||x.rel==="preload").map(x=>x.rel==="stylesheet"?{...x,rel:"prefetch",as:"style"}:{...x,rel:"prefetch"}))}function km(r,o,u,c,x,p){let b=(j,y)=>u[y]?j.route.id!==u[y].route.id:!0,w=(j,y)=>u[y].pathname!==j.pathname||u[y].route.path?.endsWith("*")&&u[y].params["*"]!==j.params["*"];return p==="assets"?o.filter((j,y)=>b(j,y)||w(j,y)):p==="data"?o.filter((j,y)=>{let v=c.routes[j.route.id];if(!v||!v.hasLoader)return!1;if(b(j,y)||w(j,y))return!0;if(j.route.shouldRevalidate){let S=j.route.shouldRevalidate({currentUrl:new URL(x.pathname+x.search+x.hash,window.origin),currentParams:u[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:j.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Hp(r,o,{includeHydrateFallback:u}={}){return Up(r.map(c=>{let x=o.routes[c.route.id];if(!x)return[];let p=[x.module];return x.clientActionModule&&(p=p.concat(x.clientActionModule)),x.clientLoaderModule&&(p=p.concat(x.clientLoaderModule)),u&&x.hydrateFallbackModule&&(p=p.concat(x.hydrateFallbackModule)),x.imports&&(p=p.concat(x.imports)),p}).flat(1))}function Up(r){return[...new Set(r)]}function _p(r){let o={},u=Object.keys(r).sort();for(let c of u)o[c]=r[c];return o}function qp(r,o){let u=new Set;return new Set(o),r.reduce((c,x)=>{let p=JSON.stringify(_p(x));return u.has(p)||(u.add(p),c.push({key:p,link:x})),c},[])}function qm(){let r=h.useContext(Js);return pc(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Yp(){let r=h.useContext(Lr);return pc(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var gc=h.createContext(void 0);gc.displayName="FrameworkContext";function Ym(){let r=h.useContext(gc);return pc(r,"You must render this element inside a <HydratedRouter> element"),r}function Gp(r,o){let u=h.useContext(gc),[c,x]=h.useState(!1),[p,b]=h.useState(!1),{onFocus:w,onBlur:j,onMouseEnter:y,onMouseLeave:v,onTouchStart:S}=o,q=h.useRef(null);h.useEffect(()=>{if(r==="render"&&b(!0),r==="viewport"){let D=k=>{k.forEach(G=>{b(G.isIntersecting)})},B=new IntersectionObserver(D,{threshold:.5});return q.current&&B.observe(q.current),()=>{B.disconnect()}}},[r]),h.useEffect(()=>{if(c){let D=setTimeout(()=>{b(!0)},100);return()=>{clearTimeout(D)}}},[c]);let R=()=>{x(!0)},Z=()=>{x(!1),b(!1)};return u?r!=="intent"?[p,q,{}]:[p,q,{onFocus:Il(w,R),onBlur:Il(j,Z),onMouseEnter:Il(y,R),onMouseLeave:Il(v,Z),onTouchStart:Il(S,R)}]:[!1,q,{}]}function Il(r,o){return u=>{r&&r(u),u.defaultPrevented||o(u)}}function Vp({page:r,...o}){let{router:u}=qm(),c=h.useMemo(()=>Tm(u.routes,r,u.basename),[u.routes,r,u.basename]);return c?h.createElement(Xp,{page:r,matches:c,...o}):null}function $p(r){let{manifest:o,routeModules:u}=Ym(),[c,x]=h.useState([]);return h.useEffect(()=>{let p=!1;return Bp(r,o,u).then(b=>{p||x(b)}),()=>{p=!0}},[r,o,u]),c}function Xp({page:r,matches:o,...u}){let c=Bt(),{manifest:x,routeModules:p}=Ym(),{basename:b}=qm(),{loaderData:w,matches:j}=Yp(),y=h.useMemo(()=>km(r,o,j,x,c,"data"),[r,o,j,x,c]),v=h.useMemo(()=>km(r,o,j,x,c,"assets"),[r,o,j,x,c]),S=h.useMemo(()=>{if(r===c.pathname+c.search+c.hash)return[];let Z=new Set,D=!1;if(o.forEach(k=>{let G=x.routes[k.route.id];!G||!G.hasLoader||(!y.some(_=>_.route.id===k.route.id)&&k.route.id in w&&p[k.route.id]?.shouldRevalidate||G.hasClientLoader?D=!0:Z.add(k.route.id))}),Z.size===0)return[];let B=zp(r,b,"data");return D&&Z.size>0&&B.searchParams.set("_routes",o.filter(k=>Z.has(k.route.id)).map(k=>k.route.id).join(",")),[B.pathname+B.search]},[b,w,c,x,y,o,r,p]),q=h.useMemo(()=>Hp(v,x),[v,x]),R=$p(v);return h.createElement(h.Fragment,null,S.map(Z=>h.createElement("link",{key:Z,rel:"prefetch",as:"fetch",href:Z,...u})),q.map(Z=>h.createElement("link",{key:Z,rel:"modulepreload",href:Z,...u})),R.map(({key:Z,link:D})=>h.createElement("link",{key:Z,nonce:u.nonce,...D})))}function Qp(...r){return o=>{r.forEach(u=>{typeof u=="function"?u(o):u!=null&&(u.current=o)})}}var Gm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gm&&(window.__reactRouterVersion="7.9.6")}catch{}function Zp({basename:r,children:o,window:u}){let c=h.useRef();c.current==null&&(c.current=zh({window:u,v5Compat:!0}));let x=c.current,[p,b]=h.useState({action:x.action,location:x.location}),w=h.useCallback(j=>{h.startTransition(()=>b(j))},[b]);return h.useLayoutEffect(()=>x.listen(w),[x,w]),h.createElement(Np,{basename:r,children:o,location:p.location,navigationType:p.action,navigator:x})}var Vm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ya=h.forwardRef(function({onClick:o,discover:u="render",prefetch:c="none",relative:x,reloadDocument:p,replace:b,state:w,target:j,to:y,preventScrollReset:v,viewTransition:S,...q},R){let{basename:Z}=h.useContext(Gt),D=typeof y=="string"&&Vm.test(y),B,k=!1;if(typeof y=="string"&&D&&(B=y,Gm))try{let W=new URL(window.location.href),re=y.startsWith("//")?new URL(W.protocol+y):new URL(y),J=fa(re.pathname,Z);re.origin===W.origin&&J!=null?y=J+re.search+re.hash:k=!0}catch{wt(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=ip(y,{relative:x}),[_,I,K]=Gp(c,q),P=Jp(y,{replace:b,state:w,target:j,preventScrollReset:v,relative:x,viewTransition:S});function X(W){o&&o(W),W.defaultPrevented||P(W)}let ne=h.createElement("a",{...q,...K,href:B||G,onClick:k||p?o:X,ref:Qp(R,I),target:j,"data-discover":!D&&u==="render"?"true":void 0});return _&&!D?h.createElement(h.Fragment,null,ne,h.createElement(Vp,{page:G})):ne});Ya.displayName="Link";var Yt=h.forwardRef(function({"aria-current":o="page",caseSensitive:u=!1,className:c="",end:x=!1,style:p,to:b,viewTransition:w,children:j,...y},v){let S=sn(b,{relative:y.relative}),q=Bt(),R=h.useContext(Lr),{navigator:Z,basename:D}=h.useContext(Gt),B=R!=null&&ag(S)&&w===!0,k=Z.encodeLocation?Z.encodeLocation(S).pathname:S.pathname,G=q.pathname,_=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;u||(G=G.toLowerCase(),_=_?_.toLowerCase():null,k=k.toLowerCase()),_&&D&&(_=fa(_,D)||_);const I=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let K=G===k||!x&&G.startsWith(k)&&G.charAt(I)==="/",P=_!=null&&(_===k||!x&&_.startsWith(k)&&_.charAt(k.length)==="/"),X={isActive:K,isPending:P,isTransitioning:B},ne=K?o:void 0,W;typeof c=="function"?W=c(X):W=[c,K?"active":null,P?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let re=typeof p=="function"?p(X):p;return h.createElement(Ya,{...y,"aria-current":ne,className:W,ref:v,style:re,to:b,viewTransition:w},typeof j=="function"?j(X):j)});Yt.displayName="NavLink";var Kp=h.forwardRef(({discover:r="render",fetcherKey:o,navigate:u,reloadDocument:c,replace:x,state:p,method:b=kr,action:w,onSubmit:j,relative:y,preventScrollReset:v,viewTransition:S,...q},R)=>{let Z=eg(),D=tg(w,{relative:y}),B=b.toLowerCase()==="get"?"get":"post",k=typeof w=="string"&&Vm.test(w),G=_=>{if(j&&j(_),_.defaultPrevented)return;_.preventDefault();let I=_.nativeEvent.submitter,K=I?.getAttribute("formmethod")||b;Z(I||_.currentTarget,{fetcherKey:o,method:K,navigate:u,replace:x,state:p,relative:y,preventScrollReset:v,viewTransition:S})};return h.createElement("form",{ref:R,method:B,action:D,onSubmit:c?j:G,...q,"data-discover":!k&&r==="render"?"true":void 0})});Kp.displayName="Form";function Pp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $m(r){let o=h.useContext(Js);return Re(o,Pp(r)),o}function Jp(r,{target:o,replace:u,state:c,preventScrollReset:x,relative:p,viewTransition:b}={}){let w=cs(),j=Bt(),y=sn(r,{relative:p});return h.useCallback(v=>{if(Mp(v,o)){v.preventDefault();let S=u!==void 0?u:tn(j)===tn(y);w(r,{replace:S,state:c,preventScrollReset:x,relative:p,viewTransition:b})}},[j,w,y,u,c,o,r,x,p,b])}function Wp(r){wt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let o=h.useRef(rc(r)),u=h.useRef(!1),c=Bt(),x=h.useMemo(()=>Ap(c.search,u.current?null:o.current),[c.search]),p=cs(),b=h.useCallback((w,j)=>{const y=rc(typeof w=="function"?w(new URLSearchParams(x)):w);u.current=!0,p("?"+y,j)},[p,x]);return[x,b]}var Fp=0,Ip=()=>`__${String(++Fp)}__`;function eg(){let{router:r}=$m("useSubmit"),{basename:o}=h.useContext(Gt),u=yp();return h.useCallback(async(c,x={})=>{let{action:p,method:b,encType:w,formData:j,body:y}=Lp(c,o);if(x.navigate===!1){let v=x.fetcherKey||Ip();await r.fetch(v,u,x.action||p,{preventScrollReset:x.preventScrollReset,formData:j,body:y,formMethod:x.method||b,formEncType:x.encType||w,flushSync:x.flushSync})}else await r.navigate(x.action||p,{preventScrollReset:x.preventScrollReset,formData:j,body:y,formMethod:x.method||b,formEncType:x.encType||w,replace:x.replace,state:x.state,fromRouteId:u,flushSync:x.flushSync,viewTransition:x.viewTransition})},[r,o,u])}function tg(r,{relative:o}={}){let{basename:u}=h.useContext(Gt),c=h.useContext(Jt);Re(c,"useFormAction must be used inside a RouteContext");let[x]=c.matches.slice(-1),p={...sn(r||".",{relative:o})},b=Bt();if(r==null){p.search=b.search;let w=new URLSearchParams(p.search),j=w.getAll("index");if(j.some(v=>v==="")){w.delete("index"),j.filter(S=>S).forEach(S=>w.append("index",S));let v=w.toString();p.search=v?`?${v}`:""}}return(!r||r===".")&&x.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),u!=="/"&&(p.pathname=p.pathname==="/"?u:xa([u,p.pathname])),tn(p)}function ag(r,{relative:o}={}){let u=h.useContext(Om);Re(u!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=$m("useViewTransitionState"),x=sn(r,{relative:o});if(!u.isTransitioning)return!1;let p=fa(u.currentLocation.pathname,c)||u.currentLocation.pathname,b=fa(u.nextLocation.pathname,c)||u.nextLocation.pathname;return Dr(x.pathname,b)!=null||Dr(x.pathname,p)!=null}let sg={data:""},lg=r=>{if(typeof window=="object"){let o=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return o.nonce=window.__nonce__,o.parentNode||(r||document.head).appendChild(o),o.firstChild}return r||sg},ng=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rg=/\/\*[^]*?\*\/|  +/g,Cm=/\n+/g,qa=(r,o)=>{let u="",c="",x="";for(let p in r){let b=r[p];p[0]=="@"?p[1]=="i"?u=p+" "+b+";":c+=p[1]=="f"?qa(b,p):p+"{"+qa(b,p[1]=="k"?"":o)+"}":typeof b=="object"?c+=qa(b,o?o.replace(/([^,])+/g,w=>p.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,j=>/&/.test(j)?j.replace(/&/g,w):w?w+" "+j:j)):p):b!=null&&(p=/^--/.test(p)?p:p.replace(/[A-Z]/g,"-$&").toLowerCase(),x+=qa.p?qa.p(p,b):p+":"+b+";")}return u+(o&&x?o+"{"+x+"}":x)+c},ma={},Xm=r=>{if(typeof r=="object"){let o="";for(let u in r)o+=u+Xm(r[u]);return o}return r},ig=(r,o,u,c,x)=>{let p=Xm(r),b=ma[p]||(ma[p]=(j=>{let y=0,v=11;for(;y<j.length;)v=101*v+j.charCodeAt(y++)>>>0;return"go"+v})(p));if(!ma[b]){let j=p!==r?r:(y=>{let v,S,q=[{}];for(;v=ng.exec(y.replace(rg,""));)v[4]?q.shift():v[3]?(S=v[3].replace(Cm," ").trim(),q.unshift(q[0][S]=q[0][S]||{})):q[0][v[1]]=v[2].replace(Cm," ").trim();return q[0]})(r);ma[b]=qa(x?{["@keyframes "+b]:j}:j,u?"":"."+b)}let w=u&&ma.g?ma.g:null;return u&&(ma.g=ma[b]),((j,y,v,S)=>{S?y.data=y.data.replace(S,j):y.data.indexOf(j)===-1&&(y.data=v?j+y.data:y.data+j)})(ma[b],o,c,w),b},og=(r,o,u)=>r.reduce((c,x,p)=>{let b=o[p];if(b&&b.call){let w=b(u),j=w&&w.props&&w.props.className||/^go/.test(w)&&w;b=j?"."+j:w&&typeof w=="object"?w.props?"":qa(w,""):w===!1?"":w}return c+x+(b??"")},"");function Rr(r){let o=this||{},u=r.call?r(o.p):r;return ig(u.unshift?u.raw?og(u,[].slice.call(arguments,1),o.p):u.reduce((c,x)=>Object.assign(c,x&&x.call?x(o.p):x),{}):u,lg(o.target),o.g,o.o,o.k)}let Qm,ic,oc;Rr.bind({g:1});let ha=Rr.bind({k:1});function cg(r,o,u,c){qa.p=o,Qm=r,ic=u,oc=c}function Ga(r,o){let u=this||{};return function(){let c=arguments;function x(p,b){let w=Object.assign({},p),j=w.className||x.className;u.p=Object.assign({theme:ic&&ic()},w),u.o=/ *go\d+/.test(j),w.className=Rr.apply(u,c)+(j?" "+j:"");let y=r;return r[0]&&(y=w.as||r,delete w.as),oc&&y[0]&&oc(w),Qm(y,w)}return x}}var dg=r=>typeof r=="function",Tr=(r,o)=>dg(r)?r(o):r,ug=(()=>{let r=0;return()=>(++r).toString()})(),Zm=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let o=matchMedia("(prefers-reduced-motion: reduce)");r=!o||o.matches}return r}})(),mg=20,yc="default",Km=(r,o)=>{let{toastLimit:u}=r.settings;switch(o.type){case 0:return{...r,toasts:[o.toast,...r.toasts].slice(0,u)};case 1:return{...r,toasts:r.toasts.map(b=>b.id===o.toast.id?{...b,...o.toast}:b)};case 2:let{toast:c}=o;return Km(r,{type:r.toasts.find(b=>b.id===c.id)?1:0,toast:c});case 3:let{toastId:x}=o;return{...r,toasts:r.toasts.map(b=>b.id===x||x===void 0?{...b,dismissed:!0,visible:!1}:b)};case 4:return o.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(b=>b.id!==o.toastId)};case 5:return{...r,pausedAt:o.time};case 6:let p=o.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(b=>({...b,pauseDuration:b.pauseDuration+p}))}}},Mr=[],Pm={toasts:[],pausedAt:void 0,settings:{toastLimit:mg}},Pt={},Jm=(r,o=yc)=>{Pt[o]=Km(Pt[o]||Pm,r),Mr.forEach(([u,c])=>{u===o&&c(Pt[o])})},Wm=r=>Object.keys(Pt).forEach(o=>Jm(r,o)),xg=r=>Object.keys(Pt).find(o=>Pt[o].toasts.some(u=>u.id===r)),Or=(r=yc)=>o=>{Jm(o,r)},fg={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},hg=(r={},o=yc)=>{let[u,c]=h.useState(Pt[o]||Pm),x=h.useRef(Pt[o]);h.useEffect(()=>(x.current!==Pt[o]&&c(Pt[o]),Mr.push([o,c]),()=>{let b=Mr.findIndex(([w])=>w===o);b>-1&&Mr.splice(b,1)}),[o]);let p=u.toasts.map(b=>{var w,j,y;return{...r,...r[b.type],...b,removeDelay:b.removeDelay||((w=r[b.type])==null?void 0:w.removeDelay)||r?.removeDelay,duration:b.duration||((j=r[b.type])==null?void 0:j.duration)||r?.duration||fg[b.type],style:{...r.style,...(y=r[b.type])==null?void 0:y.style,...b.style}}});return{...u,toasts:p}},pg=(r,o="blank",u)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:o,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...u,id:u?.id||ug()}),ln=r=>(o,u)=>{let c=pg(o,r,u);return Or(c.toasterId||xg(c.id))({type:2,toast:c}),c.id},Ze=(r,o)=>ln("blank")(r,o);Ze.error=ln("error");Ze.success=ln("success");Ze.loading=ln("loading");Ze.custom=ln("custom");Ze.dismiss=(r,o)=>{let u={type:3,toastId:r};o?Or(o)(u):Wm(u)};Ze.dismissAll=r=>Ze.dismiss(void 0,r);Ze.remove=(r,o)=>{let u={type:4,toastId:r};o?Or(o)(u):Wm(u)};Ze.removeAll=r=>Ze.remove(void 0,r);Ze.promise=(r,o,u)=>{let c=Ze.loading(o.loading,{...u,...u?.loading});return typeof r=="function"&&(r=r()),r.then(x=>{let p=o.success?Tr(o.success,x):void 0;return p?Ze.success(p,{id:c,...u,...u?.success}):Ze.dismiss(c),x}).catch(x=>{let p=o.error?Tr(o.error,x):void 0;p?Ze.error(p,{id:c,...u,...u?.error}):Ze.dismiss(c)}),r};var gg=1e3,yg=(r,o="default")=>{let{toasts:u,pausedAt:c}=hg(r,o),x=h.useRef(new Map).current,p=h.useCallback((S,q=gg)=>{if(x.has(S))return;let R=setTimeout(()=>{x.delete(S),b({type:4,toastId:S})},q);x.set(S,R)},[]);h.useEffect(()=>{if(c)return;let S=Date.now(),q=u.map(R=>{if(R.duration===1/0)return;let Z=(R.duration||0)+R.pauseDuration-(S-R.createdAt);if(Z<0){R.visible&&Ze.dismiss(R.id);return}return setTimeout(()=>Ze.dismiss(R.id,o),Z)});return()=>{q.forEach(R=>R&&clearTimeout(R))}},[u,c,o]);let b=h.useCallback(Or(o),[o]),w=h.useCallback(()=>{b({type:5,time:Date.now()})},[b]),j=h.useCallback((S,q)=>{b({type:1,toast:{id:S,height:q}})},[b]),y=h.useCallback(()=>{c&&b({type:6,time:Date.now()})},[c,b]),v=h.useCallback((S,q)=>{let{reverseOrder:R=!1,gutter:Z=8,defaultPosition:D}=q||{},B=u.filter(_=>(_.position||D)===(S.position||D)&&_.height),k=B.findIndex(_=>_.id===S.id),G=B.filter((_,I)=>I<k&&_.visible).length;return B.filter(_=>_.visible).slice(...R?[G+1]:[0,G]).reduce((_,I)=>_+(I.height||0)+Z,0)},[u]);return h.useEffect(()=>{u.forEach(S=>{if(S.dismissed)p(S.id,S.removeDelay);else{let q=x.get(S.id);q&&(clearTimeout(q),x.delete(S.id))}})},[u,p]),{toasts:u,handlers:{updateHeight:j,startPause:w,endPause:y,calculateOffset:v}}},bg=ha`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vg=ha`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jg=ha`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ng=Ga("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vg} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jg} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wg=ha`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Sg=Ga("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${wg} 1s linear infinite;
`,Eg=ha`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,kg=ha`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Cg=Ga("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Eg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${kg} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Mg=Ga("div")`
  position: absolute;
`,Ag=Ga("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Dg=ha`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Tg=Ga("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Dg} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Lg=({toast:r})=>{let{icon:o,type:u,iconTheme:c}=r;return o!==void 0?typeof o=="string"?h.createElement(Tg,null,o):o:u==="blank"?null:h.createElement(Ag,null,h.createElement(Sg,{...c}),u!=="loading"&&h.createElement(Mg,null,u==="error"?h.createElement(Ng,{...c}):h.createElement(Cg,{...c})))},zg=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Rg=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,Og="0%{opacity:0;} 100%{opacity:1;}",Bg="0%{opacity:1;} 100%{opacity:0;}",Hg=Ga("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ug=Ga("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,_g=(r,o)=>{let u=r.includes("top")?1:-1,[c,x]=Zm()?[Og,Bg]:[zg(u),Rg(u)];return{animation:o?`${ha(c)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ha(x)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},qg=h.memo(({toast:r,position:o,style:u,children:c})=>{let x=r.height?_g(r.position||o||"top-center",r.visible):{opacity:0},p=h.createElement(Lg,{toast:r}),b=h.createElement(Ug,{...r.ariaProps},Tr(r.message,r));return h.createElement(Hg,{className:r.className,style:{...x,...u,...r.style}},typeof c=="function"?c({icon:p,message:b}):h.createElement(h.Fragment,null,p,b))});cg(h.createElement);var Yg=({id:r,className:o,style:u,onHeightUpdate:c,children:x})=>{let p=h.useCallback(b=>{if(b){let w=()=>{let j=b.getBoundingClientRect().height;c(r,j)};w(),new MutationObserver(w).observe(b,{subtree:!0,childList:!0,characterData:!0})}},[r,c]);return h.createElement("div",{ref:p,className:o,style:u},x)},Gg=(r,o)=>{let u=r.includes("top"),c=u?{top:0}:{bottom:0},x=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Zm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${o*(u?1:-1)}px)`,...c,...x}},Vg=Rr`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,jr=16,$g=({reverseOrder:r,position:o="top-center",toastOptions:u,gutter:c,children:x,toasterId:p,containerStyle:b,containerClassName:w})=>{let{toasts:j,handlers:y}=yg(u,p);return h.createElement("div",{"data-rht-toaster":p||"",style:{position:"fixed",zIndex:9999,top:jr,left:jr,right:jr,bottom:jr,pointerEvents:"none",...b},className:w,onMouseEnter:y.startPause,onMouseLeave:y.endPause},j.map(v=>{let S=v.position||o,q=y.calculateOffset(v,{reverseOrder:r,gutter:c,defaultPosition:o}),R=Gg(S,q);return h.createElement(Yg,{id:v.id,key:v.id,onHeightUpdate:y.updateHeight,className:v.visible?Vg:"",style:R},v.type==="custom"?Tr(v.message,v):x?x(v):h.createElement(qg,{toast:v,position:S}))}))},Le=Ze;const en="http://localhost:5000";class cc extends Error{constructor(o,u){super(u),this.statusCode=o,this.name="ApiException"}}async function Nr(r){if(r.status===401)throw localStorage.removeItem("auth_token"),window.location.href="/login",new cc(401,"Sesin expirada. Por favor inicia sesin nuevamente.");let o;const u=r.headers.get("content-type");if(u&&u.includes("application/json")?o=await r.json():o={message:await r.text()||"Error en la solicitud"},!r.ok){const c=o?.message||o?.error||o?.title||"Error en la solicitud";throw new cc(r.status,c)}return o}function wr(){const r=localStorage.getItem("auth_token"),o={"Content-Type":"application/json"};return r&&(o.Authorization=`Bearer ${r}`),o}const Ot={async get(r){const o=await fetch(`${en}${r}`,{method:"GET",headers:wr()});return Nr(o)},async post(r,o){const u=await fetch(`${en}${r}`,{method:"POST",headers:wr(),body:o?JSON.stringify(o):void 0});return Nr(u)},async put(r,o){const u=await fetch(`${en}${r}`,{method:"PUT",headers:wr(),body:o?JSON.stringify(o):void 0});return Nr(u)},async delete(r){const o=await fetch(`${en}${r}`,{method:"DELETE",headers:wr()});return Nr(o)},async download(r,o){const u=localStorage.getItem("auth_token"),c={};u&&(c.Authorization=`Bearer ${u}`);const x=await fetch(`${en}${r}`,{method:"GET",headers:c});if(!x.ok)throw new cc(x.status,"Error al descargar archivo");const p=await x.blob(),b=window.URL.createObjectURL(p),w=document.createElement("a");w.href=b,w.download=o,document.body.appendChild(w),w.click(),window.URL.revokeObjectURL(b),w.remove()}},Sr={async register(r){return Ot.post("/api/auth/register",r)},async login(r){return Ot.post("/api/auth/login",r)},async me(){return Ot.get("/api/auth/me")},async acceptInvite(r){return Ot.post("/api/auth/accept-invite",r)},async refreshToken(){return Ot.post("/api/auth/refresh")}};function Xg(r){try{const u=r.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),c=decodeURIComponent(atob(u).split("").map(x=>"%"+("00"+x.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(c)}catch(o){return console.error("Error parsing JWT:",o),null}}function Qg(r){const o=Xg(r);if(!o)return!0;const u=Date.now()/1e3;return o.exp<u}const Fm=h.createContext(null);function Zg({children:r}){const[o,u]=h.useState(null),[c,x]=h.useState(null),[p,b]=h.useState(null),[w,j]=h.useState(!0);h.useEffect(()=>{const k=localStorage.getItem("auth_token");k&&!Qg(k)?y():(j(!1),k&&localStorage.removeItem("auth_token"))},[]);const y=async k=>{try{const G=await Sr.me();u(G.user),x(G.tenant),b(G.subscription)}catch(G){console.error("Auth validation failed:",G),localStorage.removeItem("auth_token")}finally{j(!1)}},B={user:o,tenant:c,subscription:p,isAuthenticated:!!o,isLoading:w,login:async(k,G)=>{const _=await Sr.login({email:k,password:G});localStorage.setItem("auth_token",_.token),u(_.user),x(_.tenant),b(_.subscription)},register:async k=>{const G=await Sr.register(k);localStorage.setItem("auth_token",G.token),u(G.user),x(G.tenant),b(G.subscription)},logout:()=>{localStorage.removeItem("auth_token"),u(null),x(null),b(null)},acceptInvite:async(k,G,_)=>{const I=await Sr.acceptInvite({token:k,password:G,confirmPassword:_});localStorage.setItem("auth_token",I.token),u(I.user),x(I.tenant),b(I.subscription)},canAccessFeature:k=>{if(!p)return!1;const G=p[k];return typeof G=="boolean"?G:!1},hasRole:(...k)=>o?k.includes(o.role):!1};return a.jsx(Fm.Provider,{value:B,children:r})}function Va(){const r=h.useContext(Fm);if(!r)throw new Error("useAuth must be used within AuthProvider");return r}function lt({children:r}){const{isAuthenticated:o,isLoading:u}=Va(),c=Bt();return u?a.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):o?a.jsx(a.Fragment,{children:r}):a.jsx(lc,{to:"/login",state:{from:c},replace:!0})}function ac({allowedRoles:r,children:o}){const{hasRole:u}=Va();return u(...r)?a.jsx(a.Fragment,{children:o}):a.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-md p-8 bg-white rounded-xl shadow-lg text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acceso Denegado"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"No tienes los permisos necesarios para acceder a este recurso."}),a.jsx("a",{href:"/",className:"inline-block px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Volver al Dashboard"})]})})}var _e=(r=>(r[r.Owner=0]="Owner",r[r.Admin=1]="Admin",r[r.Manager=2]="Manager",r[r.Accountant=3]="Accountant",r[r.Employee=4]="Employee",r))(_e||{});function nt({children:r}){const{user:o,tenant:u,logout:c,hasRole:x}=Va(),p=Bt(),b=cs(),[w,j]=h.useState(!0),[y,v]=h.useState(!0),[S,q]=h.useState(!0),[R,Z]=h.useState(!0),D=()=>{c(),b("/login")},B=()=>({"/dashboard":"Dashboard","/empleados":"Gestin de Empleados","/departamentos":"Gestin de Departamentos","/posiciones":"Gestin de Posiciones","/prestamos":"Gestin de Prstamos","/deducciones":"Gestin de Deducciones","/anticipos":"Gestin de Anticipos","/horas-extra":"Gestin de Horas Extra","/ausencias":"Gestin de Ausencias","/vacaciones":"Gestin de Vacaciones","/planillas":"Gestin de Planillas","/reportes":"Reportes de Planilla","/configuracion":"Configuracin del Sistema","/users":"Gestin de Usuarios","/audit":"Registro de Auditora","/billing":"Facturacin y Suscripcin"})[p.pathname]||"Dashboard",k=["/empleados","/departamentos","/posiciones"].includes(p.pathname);["/prestamos","/deducciones","/anticipos"].includes(p.pathname),["/horas-extra","/ausencias","/vacaciones"].includes(p.pathname);const G=["/users","/audit","/billing"].includes(p.pathname),_=x(_e.Owner,_e.Admin,_e.Manager,_e.Accountant);return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsxs("aside",{className:"w-64 bg-gradient-to-b from-slate-900 to-slate-800 shadow-2xl flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Planilla"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Sistema de Nmina"})]})]})}),a.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[a.jsxs(Yt,{to:"/dashboard",className:({isActive:I})=>`flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all duration-200 ${I?"bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-lg shadow-blue-500/50":"text-slate-300 hover:bg-slate-700/50 hover:text-white"}`,children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),a.jsx("span",{children:"Dashboard"})]}),_&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs("button",{onClick:()=>Z(!R),className:`w-full flex items-center justify-between gap-3 px-4 py-3 rounded-lg font-medium transition-all duration-200 ${G?"bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-lg shadow-blue-500/50":"text-slate-300 hover:bg-slate-700/50 hover:text-white"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),a.jsx("span",{children:"Administracin"})]}),a.jsx("svg",{className:`w-5 h-5 transition-transform duration-200 ${R?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),R&&a.jsxs("div",{className:"ml-4 space-y-1 border-l-2 border-slate-700 pl-2",children:[x(_e.Owner,_e.Admin)&&a.jsxs(Yt,{to:"/users",className:({isActive:I})=>`flex items-center gap-3 px-4 py-2 rounded-lg font-medium transition-all duration-200 text-sm ${I?"bg-slate-700 text-white":"text-slate-400 hover:bg-slate-700/50 hover:text-white"}`,children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),a.jsx("span",{children:"Usuarios"})]}),a.jsxs(Yt,{to:"/audit",className:({isActive:I})=>`flex items-center gap-3 px-4 py-2 rounded-lg font-medium transition-all duration-200 text-sm ${I?"bg-slate-700 text-white":"text-slate-400 hover:bg-slate-700/50 hover:text-white"}`,children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{children:"Audit Log"})]}),x(_e.Owner)&&a.jsxs(Yt,{to:"/billing",className:({isActive:I})=>`flex items-center gap-3 px-4 py-2 rounded-lg font-medium transition-all duration-200 text-sm ${I?"bg-slate-700 text-white":"text-slate-400 hover:bg-slate-700/50 hover:text-white"}`,children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),a.jsx("span",{children:"Facturacin"})]})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("button",{onClick:()=>j(!w),className:`w-full flex items-center justify-between gap-3 px-4 py-3 rounded-lg font-medium transition-all duration-200 ${k?"bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-lg shadow-blue-500/50":"text-slate-300 hover:bg-slate-700/50 hover:text-white"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),a.jsx("span",{children:"Organizacin"})]}),a.jsx("svg",{className:`w-5 h-5 transition-transform duration-200 ${w?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),w&&a.jsxs("div",{className:"ml-4 space-y-1 border-l-2 border-slate-700 pl-2",children:[a.jsxs(Yt,{to:"/empleados",className:({isActive:I})=>`flex items-center gap-3 px-4 py-2 rounded-lg font-medium transition-all duration-200 text-sm ${I?"bg-slate-700 text-white":"text-slate-400 hover:bg-slate-700/50 hover:text-white"}`,children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsx("span",{children:"Empleados"})]}),a.jsxs(Yt,{to:"/departamentos",className:({isActive:I})=>`flex items-center gap-3 px-4 py-2 rounded-lg font-medium transition-all duration-200 text-sm ${I?"bg-slate-700 text-white":"text-slate-400 hover:bg-slate-700/50 hover:text-white"}`,children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),a.jsx("span",{children:"Departamentos"})]}),a.jsxs(Yt,{to:"/posiciones",className:({isActive:I})=>`flex items-center gap-3 px-4 py-2 rounded-lg font-medium transition-all duration-200 text-sm ${I?"bg-slate-700 text-white":"text-slate-400 hover:bg-slate-700/50 hover:text-white"}`,children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),a.jsx("span",{children:"Posiciones"})]})]})]}),a.jsxs(Yt,{to:"/planillas",className:({isActive:I})=>`flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all duration-200 ${I?"bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-lg shadow-blue-500/50":"text-slate-300 hover:bg-slate-700/50 hover:text-white"}`,children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),a.jsx("span",{children:"Planillas"})]}),a.jsxs(Yt,{to:"/reportes",className:({isActive:I})=>`flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all duration-200 ${I?"bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-lg shadow-blue-500/50":"text-slate-300 hover:bg-slate-700/50 hover:text-white"}`,children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{children:"Reportes"})]}),a.jsxs(Yt,{to:"/configuracion",className:({isActive:I})=>`flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all duration-200 ${I?"bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-lg shadow-blue-500/50":"text-slate-300 hover:bg-slate-700/50 hover:text-white"}`,children:[a.jsxs("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),a.jsx("span",{children:"Configuracin"})]})]}),a.jsxs("div",{className:"p-4 border-t border-slate-700",children:[a.jsxs("div",{className:"text-xs text-slate-400 mb-2",children:[a.jsx("p",{className:"font-semibold truncate",children:u?.name}),a.jsxs("p",{className:"truncate",children:[u?.ruc,"-",u?.dv]})]}),a.jsxs("div",{className:"text-center text-xs text-slate-400",children:[a.jsx("p",{className:"font-semibold mb-1",children:"v1.0.0"}),a.jsxs("p",{children:[" ",new Date().getFullYear()," Planilla"]})]})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"h-16 bg-white shadow-sm border-b border-gray-200 flex items-center justify-between px-8",children:[a.jsx("div",{children:a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:B()})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg",children:[a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:new Date().toLocaleDateString("es-PA",{day:"2-digit",month:"short",year:"numeric"})})]}),a.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:o?.email}),a.jsx("p",{className:"text-xs text-gray-500",children:o?.roleName})]}),a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-500 rounded-full flex items-center justify-center shadow-md",children:a.jsx("span",{className:"text-white text-sm font-bold",children:o?.email.substring(0,2).toUpperCase()})}),a.jsx("button",{onClick:D,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition",title:"Cerrar sesin",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]}),a.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-6",children:r})]})]})}function Kg(){const[r,o]=h.useState(""),[u,c]=h.useState(""),[x,p]=h.useState(!1),{login:b}=Va(),w=cs(),y=Bt().state?.from?.pathname||"/dashboard",v=async S=>{if(S.preventDefault(),!r||!u){Le.error("Por favor completa todos los campos");return}p(!0);try{await b(r,u),Le.success("Inicio de sesin exitoso"),w(y,{replace:!0})}catch(q){Le.error(q.message||"Error al iniciar sesin")}finally{p(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-xl shadow-lg mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Planilla"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Sistema de Gestin de Nmina"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Iniciar Sesin"}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),a.jsx("input",{id:"email",type:"email",value:r,onChange:S=>o(S.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"usuario@empresa.com",disabled:x})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),a.jsx("input",{id:"password",type:"password",value:u,onChange:S=>c(S.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"",disabled:x})]}),a.jsx("button",{type:"submit",disabled:x,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Iniciando sesin..."]}):"Iniciar Sesin"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-gray-600",children:["No tienes una cuenta?"," ",a.jsx(Ya,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Regstrate"})]})})]}),a.jsxs("p",{className:"text-center text-gray-500 text-sm mt-8",children:[" ",new Date().getFullYear()," Planilla. Todos los derechos reservados."]})]})})}function Pg(){const[r,o]=h.useState(""),[u,c]=h.useState(""),[x,p]=h.useState(""),[b,w]=h.useState(""),[j,y]=h.useState(""),[v,S]=h.useState(!1),{register:q}=Va(),R=cs(),Z=async D=>{if(D.preventDefault(),!r||!u||!x||!b||!j){Le.error("Por favor completa todos los campos");return}if(u.length<8){Le.error("La contrasea debe tener al menos 8 caracteres");return}if(!/^\d+$/.test(b)){Le.error("El RUC debe contener solo nmeros");return}if(!/^\d+$/.test(j)){Le.error("El DV debe contener solo nmeros");return}S(!0);try{await q({email:r,password:u,companyName:x,ruc:b,dv:j}),Le.success("Registro exitoso. Bienvenido a Planilla"),R("/dashboard",{replace:!0})}catch(B){Le.error(B.message||"Error al registrarse")}finally{S(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-xl shadow-lg mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Planilla"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Sistema de Gestin de Nmina"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Crear Cuenta"}),a.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),a.jsx("input",{id:"email",type:"email",value:r,onChange:D=>o(D.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"usuario@empresa.com",disabled:v})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),a.jsx("input",{id:"password",type:"password",value:u,onChange:D=>c(D.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"Mnimo 8 caracteres",disabled:v})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Empresa"}),a.jsx("input",{id:"companyName",type:"text",value:x,onChange:D=>p(D.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"Mi Empresa S.A.",disabled:v})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"ruc",className:"block text-sm font-medium text-gray-700 mb-2",children:"RUC"}),a.jsx("input",{id:"ruc",type:"text",value:b,onChange:D=>w(D.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"12345678",disabled:v})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dv",className:"block text-sm font-medium text-gray-700 mb-2",children:"DV"}),a.jsx("input",{id:"dv",type:"text",value:j,onChange:D=>y(D.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"12",maxLength:2,disabled:v})]})]}),a.jsx("button",{type:"submit",disabled:v,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:v?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Creando cuenta..."]}):"Crear Cuenta"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-gray-600",children:["Ya tienes una cuenta?"," ",a.jsx(Ya,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Inicia sesin"})]})})]}),a.jsxs("p",{className:"text-center text-gray-500 text-sm mt-8",children:[" ",new Date().getFullYear()," Planilla. Todos los derechos reservados."]})]})})}function Jg(){const[r,o]=h.useState(""),[u,c]=h.useState(""),[x,p]=h.useState(!1),[b]=Wp(),{acceptInvite:w}=Va(),j=cs(),y=b.get("token");h.useEffect(()=>{y||(Le.error("Token de invitacin invlido"),j("/login"))},[y,j]);const v=async S=>{if(S.preventDefault(),!r||!u){Le.error("Por favor completa todos los campos");return}if(r.length<8){Le.error("La contrasea debe tener al menos 8 caracteres");return}if(r!==u){Le.error("Las contraseas no coinciden");return}if(!y){Le.error("Token de invitacin invlido");return}p(!0);try{await w(y,r,u),Le.success("Invitacin aceptada. Bienvenido a Planilla"),j("/dashboard",{replace:!0})}catch(q){Le.error(q.message||"Error al aceptar la invitacin")}finally{p(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-xl shadow-lg mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Planilla"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Sistema de Gestin de Nmina"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-green-100 rounded-full mb-4",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Aceptar Invitacin"}),a.jsx("p",{className:"text-gray-600",children:"Has sido invitado a unirte a un equipo. Crea tu contrasea para continuar."})]}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),a.jsx("input",{id:"password",type:"password",value:r,onChange:S=>o(S.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"Mnimo 8 caracteres",disabled:x})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Contrasea"}),a.jsx("input",{id:"confirmPassword",type:"password",value:u,onChange:S=>c(S.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"Repite tu contrasea",disabled:x})]}),a.jsx("button",{type:"submit",disabled:x,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Aceptando invitacin..."]}):"Aceptar Invitacin"})]})]}),a.jsxs("p",{className:"text-center text-gray-500 text-sm mt-8",children:[" ",new Date().getFullYear()," Planilla. Todos los derechos reservados."]})]})})}const Ar={async getTenant(){return Ot.get("/api/tenant")},async getUsers(){return Ot.get("/api/tenant/users")},async inviteUser(r){return Ot.post("/api/tenant/invite",r)},async removeUser(r){return Ot.delete(`/api/tenant/users/${r}`)},async getUsage(){return Ot.get("/api/tenant/usage")}};function Wg(){const{user:r,tenant:o,subscription:u,hasRole:c}=Va(),[x,p]=h.useState(null),[b,w]=h.useState(!0);h.useEffect(()=>{j()},[]);const j=async()=>{try{const q=await Ar.getUsage();p(q)}catch{Le.error("Error al cargar estadsticas")}finally{w(!1)}},y=()=>{if(!u)return null;const q={Active:"bg-green-100 text-green-800",Trialing:"bg-blue-100 text-blue-800",PastDue:"bg-red-100 text-red-800",Canceled:"bg-gray-100 text-gray-800",Incomplete:"bg-yellow-100 text-yellow-800"};return a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${q[u.statusName]}`,children:u.statusName})},v=(q,R)=>R===2147483647?0:Math.round(q/R*100),S=q=>q>=90?"bg-red-500":q>=75?"bg-yellow-500":"bg-blue-500";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),a.jsxs("p",{className:"text-gray-600 mt-2",children:["Bienvenido, ",r?.email,"  ",r?.roleName]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:o?.name}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"RUC:"})," ",o?.ruc,"-",o?.dv]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Subdominio:"})," ",o?.subdomain,".planilla.cloud"]})]})]}),a.jsx("div",{children:y()})]})}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Plan Actual"}),a.jsx("p",{className:"text-3xl font-bold",children:u?.planName})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm opacity-90",children:"Precio Mensual"}),a.jsxs("p",{className:"text-2xl font-bold",children:["$",u?.monthlyPrice.toFixed(2)]})]})]}),u?.status===1&&u.trialEndsAt&&a.jsx("div",{className:"bg-white/20 rounded-lg p-3 mb-4",children:a.jsxs("p",{className:"text-sm font-medium",children:["Perodo de prueba termina:"," ",new Date(u.trialEndsAt).toLocaleDateString("es-PA")]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"opacity-80",children:"Exportar Excel"}),a.jsx("p",{className:"font-medium",children:u?.canExportExcel?"S":"No"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"opacity-80",children:"Exportar PDF"}),a.jsx("p",{className:"font-medium",children:u?.canExportPdf?"S":"No"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"opacity-80",children:"Acceso API"}),a.jsx("p",{className:"font-medium",children:u?.canUseApi?"S":"No"})]})]}),c(_e.Owner)&&a.jsx(Ya,{to:"/billing",className:"mt-4 block text-center bg-white text-blue-600 px-4 py-2 rounded-lg font-medium hover:bg-blue-50 transition-colors",children:"Gestionar Suscripcin"})]}),x&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Empleados"}),a.jsx("svg",{className:"w-8 h-8 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})]}),a.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:[x.employeesCount,a.jsxs("span",{className:"text-gray-400 text-lg",children:[" ","/ ",x.maxEmployees===2147483647?"":x.maxEmployees]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${S(v(x.employeesCount,x.maxEmployees))}`,style:{width:`${Math.min(100,v(x.employeesCount,x.maxEmployees))}%`}})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Usuarios"}),a.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})]}),a.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:[x.usersCount,a.jsxs("span",{className:"text-gray-400 text-lg",children:[" ","/ ",x.maxUsers===2147483647?"":x.maxUsers]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${S(v(x.usersCount,x.maxUsers))}`,style:{width:`${Math.min(100,v(x.usersCount,x.maxUsers))}%`}})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Empresas"}),a.jsx("svg",{className:"w-8 h-8 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})]}),a.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:[x.companiesCount,a.jsxs("span",{className:"text-gray-400 text-lg",children:[" ","/ ",x.maxCompanies===2147483647?"":x.maxCompanies]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${S(v(x.companiesCount,x.maxCompanies))}`,style:{width:`${Math.min(100,v(x.companiesCount,x.maxCompanies))}%`}})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[c(_e.Owner,_e.Admin)&&a.jsx(Ya,{to:"/users",className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Gestionar Usuarios"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Invitar y administrar"})]})]})}),c(_e.Owner,_e.Admin,_e.Manager,_e.Accountant)&&a.jsx(Ya,{to:"/audit",className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Audit Log"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Ver registro de actividades"})]})]})}),a.jsx(Ya,{to:"/empleados",className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Empleados"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Gestionar empleados"})]})]})})]})]})}function Fg(){const[r,o]=h.useState([]),[u,c]=h.useState(!0),[x,p]=h.useState(!1),[b,w]=h.useState(""),[j,y]=h.useState(2),[v,S]=h.useState(!1);h.useEffect(()=>{q()},[]);const q=async()=>{try{const B=await Ar.getUsers();o(B)}catch{Le.error("Error al cargar usuarios")}finally{c(!1)}},R=async B=>{if(B.preventDefault(),!b){Le.error("Por favor ingresa un correo electrnico");return}S(!0);try{await Ar.inviteUser({email:b,role:j}),Le.success(`Invitacin enviada a ${b}`),w(""),y(2),p(!1),q()}catch(k){Le.error(k.message||"Error al enviar invitacin")}finally{S(!1)}},Z=async(B,k)=>{if(confirm(`Ests seguro de que deseas remover a ${k}?`))try{await Ar.removeUser(B),Le.success("Usuario removido exitosamente"),q()}catch(G){Le.error(G.message||"Error al remover usuario")}},D=B=>{const k={Owner:"bg-purple-100 text-purple-800",Admin:"bg-blue-100 text-blue-800",Manager:"bg-green-100 text-green-800",Accountant:"bg-yellow-100 text-yellow-800",Employee:"bg-gray-100 text-gray-800"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k[B]||"bg-gray-100 text-gray-800"}`,children:B})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestin de Usuarios"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Administra los usuarios de tu equipo"})]}),a.jsxs("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Invitar Usuario"]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Email"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Rol"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Fecha de Ingreso"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"ltimo Acceso"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-900",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:u?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),"Cargando usuarios..."]})})}):r.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No hay usuarios"})}):r.map(B=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:B.email}),a.jsx("td",{className:"px-6 py-4",children:D(B.roleName)}),a.jsx("td",{className:"px-6 py-4",children:B.isActive?a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Activo"}):a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Inactivo"})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(B.joinedAt).toLocaleDateString("es-PA")}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:B.lastLoginAt?new Date(B.lastLoginAt).toLocaleDateString("es-PA"):"Nunca"}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{onClick:()=>Z(B.id,B.email),className:"text-red-600 hover:text-red-700 font-medium text-sm",children:"Remover"})})]},B.id))})]})})}),x&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Invitar Usuario"}),a.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:R,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),a.jsx("input",{id:"email",type:"email",value:b,onChange:B=>w(B.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"usuario@empresa.com",disabled:v})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol"}),a.jsxs("select",{id:"role",value:j,onChange:B=>y(Number(B.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:v,children:[a.jsx("option",{value:1,children:"Admin"}),a.jsx("option",{value:2,children:"Manager"}),a.jsx("option",{value:3,children:"Accountant"}),a.jsx("option",{value:4,children:"Employee"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:v,children:"Cancelar"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Enviando..."]}):"Enviar Invitacin"})]})]})]})})]})}const Ig={async getAuditLogs(r={}){const o=new URLSearchParams;r.page&&o.append("page",r.page.toString()),r.pageSize&&o.append("pageSize",r.pageSize.toString()),r.action&&o.append("action",r.action),r.entityType&&o.append("entityType",r.entityType),r.actorUserId&&o.append("actorUserId",r.actorUserId),r.startDate&&o.append("startDate",r.startDate),r.endDate&&o.append("endDate",r.endDate);const u=o.toString(),c=u?`/api/tenant/audit?${u}`:"/api/tenant/audit";return Ot.get(c)}};function e2(){const[r,o]=h.useState(null),[u,c]=h.useState(!0),[x,p]=h.useState(1),b=20;h.useEffect(()=>{w()},[x]);const w=async()=>{c(!0);try{const v=await Ig.getAuditLogs({page:x,pageSize:b});o(v)}catch{Le.error("Error al cargar el registro de auditora")}finally{c(!1)}},j=v=>new Date(v).toLocaleString("es-PA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=v=>{const S={Created:"bg-green-100 text-green-800",Updated:"bg-blue-100 text-blue-800",Deleted:"bg-red-100 text-red-800",Login:"bg-purple-100 text-purple-800",Logout:"bg-gray-100 text-gray-800",InviteSent:"bg-yellow-100 text-yellow-800",UserRemoved:"bg-red-100 text-red-800"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S[v]||"bg-gray-100 text-gray-800"}`,children:v})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Registro de Auditora"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Historial de actividades y cambios en el sistema"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Fecha/Hora"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Usuario"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Accin"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Entidad"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Detalles"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"IP"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:u?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),"Cargando registros..."]})})}):!r||r.items.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No hay registros de auditora"})}):r.items.map(v=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 whitespace-nowrap",children:j(v.timestamp)}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:v.actorEmail||"Sistema"}),a.jsx("td",{className:"px-6 py-4",children:y(v.action)}),a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[v.entityType||"-",v.entityId&&a.jsxs("span",{className:"text-gray-400",children:[" #",v.entityId]})]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-xs truncate",children:v.details||"-"}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 font-mono",children:v.ipAddress||"-"})]},v.id))})]})}),r&&r.totalPages>1&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando pgina ",r.page," de ",r.totalPages," (",r.totalCount," registros totales)"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>p(x-1),disabled:x===1,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Anterior"}),a.jsx("button",{onClick:()=>p(x+1),disabled:x===r.totalPages,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Siguiente"})]})]})]})]})}const t2={async getBillingPortalUrl(){return(await Ot.post("/api/subscription/portal")).url}};function a2(){const{subscription:r}=Va(),[o,u]=h.useState(!1),c=async()=>{u(!0);try{const b=await t2.getBillingPortalUrl();window.location.href=b}catch(b){Le.error(b.message||"Error al redirigir al portal de facturacin"),u(!1)}},p=r?{Free:["5 empleados","1 usuario","1 empresa","Reportes bsicos","Retencin de 90 das"],Starter:["25 empleados","3 usuarios","1 empresa","Exportar a Excel","Notificaciones por email","Retencin de 1 ao"],Professional:["100 empleados","10 usuarios","3 empresas","Exportar a Excel y PDF","Acceso API","Notificaciones por email","Registro de auditora","Retencin de 2 aos"],Enterprise:["Empleados ilimitados","Usuarios ilimitados","Empresas ilimitadas","Exportar a Excel y PDF","Acceso API completo","Notificaciones por email","Registro de auditora","Retencin ilimitada","Soporte prioritario","Personalizacin"]}[r.planName]||[]:[];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Facturacin y Suscripcin"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Administra tu plan y mtodos de pago"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-8 text-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Plan Actual"}),a.jsx("h2",{className:"text-4xl font-bold",children:r?.planName})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Precio Mensual"}),a.jsxs("p",{className:"text-3xl font-bold",children:["$",r?.monthlyPrice.toFixed(2)]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r?.status===0?"bg-green-500/30 text-white":r?.status===1?"bg-blue-500/30 text-white":"bg-red-500/30 text-white"}`,children:r?.statusName}),r?.status===1&&r.trialEndsAt&&a.jsxs("p",{className:"text-sm",children:["Prueba termina: ",new Date(r.trialEndsAt).toLocaleDateString("es-PA")]})]}),a.jsx("button",{onClick:c,disabled:o,className:"w-full bg-white text-blue-600 px-6 py-3 rounded-lg font-medium hover:bg-blue-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),"Redirigiendo..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Gestionar Suscripcin en Stripe"]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Caractersticas de tu Plan"}),a.jsx("ul",{className:"space-y-3",children:p.map((b,w)=>a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx("svg",{className:"w-5 h-5 text-green-500 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{className:"text-gray-700",children:b})]},w))})]}),a.jsx("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-6",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Portal de Facturacin de Stripe"}),a.jsx("p",{className:"text-sm text-gray-600",children:'Al hacer clic en "Gestionar Suscripcin", sers redirigido al portal seguro de Stripe donde podrs:'}),a.jsxs("ul",{className:"text-sm text-gray-600 mt-2 space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Actualizar tu plan"}),a.jsx("li",{children:"Cambiar mtodo de pago"}),a.jsx("li",{children:"Ver historial de facturas"}),a.jsx("li",{children:"Cancelar tu suscripcin"})]})]})]})})]})}const s2=h.createContext(null),Ht=()=>{const r=h.useContext(s2);if(!r)throw new Error("useToast must be used within ToastProvider");return r},l2=()=>{const{showToast:r}=Ht(),[o,u]=h.useState([]),[c,x]=h.useState([]),[p,b]=h.useState([]),[w,j]=h.useState(!0),[y,v]=h.useState(""),[S,q]=h.useState(!1),[R,Z]=h.useState(!1),[D,B]=h.useState(null),[k,G]=h.useState(null),[_,I]=h.useState({nombre:"",apellido:"",numeroIdentificacion:"",salarioBase:"",fechaContratacion:"",departamentoId:"",posicionId:""});h.useEffect(()=>{K(),P()},[]),h.useEffect(()=>{_.departamentoId?X(_.departamentoId):b([])},[_.departamentoId]);const K=async()=>{try{j(!0);const m=await fetch("/api/empleados");if(!m.ok)throw new Error(`Error ${m.status}: ${m.statusText}`);const H=await m.json();u(H)}catch(m){r({type:"error",message:`Error al cargar empleados: ${m.message}`})}finally{j(!1)}},P=async()=>{try{const m=await fetch("/api/departamentos");if(!m.ok)throw new Error(`Error ${m.status}: ${m.statusText}`);const H=await m.json();x(H.filter(te=>te.estaActivo))}catch(m){r({type:"error",message:`Error al cargar departamentos: ${m.message}`})}},X=async m=>{try{const H=await fetch(`/api/posiciones?departamentoId=${m}`);if(!H.ok)throw new Error(`Error ${H.status}: ${H.statusText}`);const te=await H.json();b(te.filter(ae=>ae.estaActivo))}catch(H){r({type:"error",message:`Error al cargar posiciones: ${H.message}`})}},ne=o.filter(m=>m.nombre.toLowerCase().includes(y.toLowerCase())||m.apellido.toLowerCase().includes(y.toLowerCase())||m.numeroIdentificacion.includes(y)),W=o.filter(m=>m.estaActivo),re=W.reduce((m,H)=>m+H.salarioBase,0),J=m=>new Intl.NumberFormat("es-PA",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(m||0),de=async m=>{m.preventDefault();try{const H=k?`/api/empleados/${k}`:"/api/empleados",te=k?"PUT":"POST",ae={nombre:_.nombre,apellido:_.apellido,salarioBase:parseFloat(_.salarioBase),departamentoId:_.departamentoId?parseInt(_.departamentoId):null,posicionId:_.posicionId?parseInt(_.posicionId):null,...k?{estaActivo:!0}:{numeroIdentificacion:_.numeroIdentificacion,fechaContratacion:_.fechaContratacion||new Date().toISOString().split("T")[0]}},oe=await fetch(H,{method:te,headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});if(!oe.ok){const pe=await oe.text();throw new Error(`Error ${oe.status}: ${pe}`)}await K(),r({type:"success",message:k?"Empleado actualizado exitosamente":"Empleado creado exitosamente"}),L()}catch(H){r({type:"error",message:`Error al guardar empleado: ${H.message}`})}},M=m=>{I({nombre:m.nombre,apellido:m.apellido,numeroIdentificacion:m.numeroIdentificacion,salarioBase:m.salarioBase.toString(),fechaContratacion:m.fechaContratacion?new Date(m.fechaContratacion).toISOString().split("T")[0]:"",departamentoId:m.departamentoId?m.departamentoId.toString():"",posicionId:m.posicionId?m.posicionId.toString():""}),G(m.id),q(!0)},T=m=>{B(m),Z(!0)},se=async()=>{if(D)try{const m=await fetch(`/api/empleados/${D.id}`,{method:"DELETE"});if(!m.ok)throw new Error(`Error ${m.status}: ${m.statusText}`);await K(),r({type:"success",message:"Empleado desactivado exitosamente"}),Z(!1),B(null)}catch(m){r({type:"error",message:`Error al desactivar empleado: ${m.message}`})}},L=()=>{q(!1),G(null),I({nombre:"",apellido:"",numeroIdentificacion:"",salarioBase:"",fechaContratacion:"",departamentoId:"",posicionId:""})},E=()=>{L(),q(!0)},ee=m=>{I({..._,departamentoId:m.target.value,posicionId:""})},ue=()=>{if(!_.posicionId)return null;const m=p.find(H=>H.id===parseInt(_.posicionId));return m?{min:m.salarioMinimo,max:m.salarioMaximo}:null};return w?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Cargando empleados..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Empleados"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:o.length})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),a.jsx("div",{className:"mt-4 flex items-center text-sm",children:a.jsx("span",{className:"text-gray-500",children:"Registrados en el sistema"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Empleados Activos"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:W.length})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[a.jsxs("span",{className:"text-green-600 font-medium",children:[o.length>0?(W.length/o.length*100).toFixed(1):0,"%"]}),a.jsx("span",{className:"text-gray-500 ml-2",children:"del total"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nmina Mensual Est."}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:J(re)})]}),a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.jsx("div",{className:"mt-4 flex items-center text-sm",children:a.jsx("span",{className:"text-gray-500",children:"Solo salarios base"})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("button",{onClick:E,className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg font-medium transition-colors shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Agregar Empleado"]}),a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsx("input",{type:"text",placeholder:"Buscar por nombre, apellido o cdula...",value:y,onChange:m=>v(m.target.value),className:"w-full sm:w-80 pl-10 pr-4 py-2.5 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Lista de Empleados",a.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",ne.length," ",ne.length===1?"empleado":"empleados",")"]})]})}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Identificacin"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Salario Base"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Contratacin"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Departamento"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Posicin"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ne.map(m=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold text-sm mr-3",children:[m.nombre.charAt(0),m.apellido.charAt(0)]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[m.nombre," ",m.apellido]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",m.id]})]})]})}),a.jsx("td",{className:"py-4 px-6 text-sm text-gray-900",children:m.numeroIdentificacion}),a.jsx("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:J(m.salarioBase)}),a.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:new Date(m.fechaContratacion).toLocaleDateString("es-PA",{day:"2-digit",month:"short",year:"numeric"})}),a.jsx("td",{className:"py-4 px-6 text-sm text-gray-900",children:m.departamentoNombre||a.jsx("span",{className:"text-gray-400",children:"-"})}),a.jsx("td",{className:"py-4 px-6 text-sm text-gray-900",children:m.posicionNombre||a.jsx("span",{className:"text-gray-400",children:"-"})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.estaActivo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${m.estaActivo?"bg-green-600":"bg-red-600"}`}),m.estaActivo?"Activo":"Inactivo"]})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>M(m),className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]}),m.estaActivo&&a.jsxs("button",{onClick:()=>T(m),className:"inline-flex items-center gap-1 text-red-600 hover:text-red-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Desactivar"]})]})})]},m.id))})]}),ne.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:y?"No se encontraron empleados":"No hay empleados registrados"}),a.jsx("p",{className:"text-gray-500",children:y?`No hay resultados para "${y}"`:"Comienza agregando tu primer empleado"}),!y&&a.jsxs("button",{onClick:E,className:"mt-4 inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Agregar Empleado"]})]})]})]}),S&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:k?"Editar Empleado":"Nuevo Empleado"}),a.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:de,className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nombre ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,value:_.nombre,onChange:m=>I({..._,nombre:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Juan"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Apellido ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,value:_.apellido,onChange:m=>I({..._,apellido:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Prez"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nmero de Identificacin ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!k,disabled:k,value:_.numeroIdentificacion,onChange:m=>I({..._,numeroIdentificacion:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Ej: 8-123-4567"}),k&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No se puede editar la identificacin"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Salario Base ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),a.jsx("input",{type:"number",step:"0.01",min:"0.01",required:!0,value:_.salarioBase,onChange:m=>I({..._,salarioBase:m.target.value}),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1500.00"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departamento"}),a.jsxs("select",{value:_.departamentoId,onChange:ee,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Seleccionar departamento..."}),c.map(m=>a.jsx("option",{value:m.id,children:m.nombre},m.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Posicin"}),a.jsxs("select",{value:_.posicionId,onChange:m=>I({..._,posicionId:m.target.value}),disabled:!_.departamentoId,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",children:[a.jsx("option",{value:"",children:"Seleccionar posicin..."}),p.map(m=>a.jsx("option",{value:m.id,children:m.nombre},m.id))]}),!_.departamentoId&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Seleccione primero un departamento"}),_.posicionId&&ue()&&a.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Rango salarial: ",J(ue().min)," - ",J(ue().max)]})]}),!k&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fecha de Contratacin ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",required:!k,value:_.fechaContratacion,onChange:m=>I({..._,fechaContratacion:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors shadow-sm",children:k?"Actualizar Empleado":"Crear Empleado"})]})]})]})}),R&&D&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Desactivar Empleado"}),a.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["Est seguro de que desea desactivar a ",a.jsxs("strong",{children:[D.nombre," ",D.apellido]}),"? Esta accin marcar al empleado como inactivo."]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{Z(!1),B(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:se,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors",children:"Desactivar"})]})]})})})]})},Im=({isOpen:r,onClose:o,onConfirm:u,title:c,message:x,confirmText:p="Confirmar",cancelText:b="Cancelar",variant:w="danger"})=>{if(!r)return null;const j={danger:{bgIcon:"bg-red-100",iconColor:"text-red-600",btnBg:"bg-red-600 hover:bg-red-700",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})},warning:{bgIcon:"bg-yellow-100",iconColor:"text-yellow-600",btnBg:"bg-yellow-600 hover:bg-yellow-700",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})},info:{bgIcon:"bg-blue-100",iconColor:"text-blue-600",btnBg:"bg-blue-600 hover:bg-blue-700",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},y=j[w]||j.danger;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:`w-12 h-12 ${y.bgIcon} rounded-full flex items-center justify-center mx-auto mb-4`,children:a.jsx("div",{className:y.iconColor,children:y.icon})}),c&&a.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:c}),x&&a.jsx("p",{className:"text-gray-600 text-center mb-6",children:x}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:o,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:b}),a.jsx("button",{onClick:()=>{u(),o()},className:`flex-1 px-4 py-2 ${y.btnBg} text-white rounded-lg font-medium transition-colors`,children:p})]})]})})})},n2=()=>{const[r,o]=h.useState([]),[u,c]=h.useState([]),[x,p]=h.useState(!0),[b,w]=h.useState(""),[j,y]=h.useState(!1),[v,S]=h.useState(null),[q,R]=h.useState(!1),[Z,D]=h.useState(null),{showToast:B}=Ht(),[k,G]=h.useState({codigo:"",nombre:"",descripcion:"",managerId:""});h.useEffect(()=>{_(),I()},[]);const _=async()=>{try{p(!0);const J=await fetch("/api/departamentos");if(!J.ok)throw new Error("Error al cargar departamentos");const de=await J.json();o(de)}catch{B("Error al cargar departamentos","error")}finally{p(!1)}},I=async()=>{try{const J=await fetch("/api/empleados");if(!J.ok)throw new Error("Error al cargar empleados");const de=await J.json();c(de.filter(M=>M.estaActivo))}catch(J){console.error("Error al cargar empleados:",J)}},K=(J=null)=>{J?(S(J),G({codigo:J.codigo,nombre:J.nombre,descripcion:J.descripcion||"",managerId:J.managerId||""})):(S(null),G({codigo:"",nombre:"",descripcion:"",managerId:""})),y(!0)},P=()=>{y(!1),S(null),G({codigo:"",nombre:"",descripcion:"",managerId:""})},X=async J=>{J.preventDefault();const de={codigo:k.codigo.trim(),nombre:k.nombre.trim(),descripcion:k.descripcion.trim()||null,managerId:k.managerId?parseInt(k.managerId):null};v&&(de.estaActivo=v.estaActivo);try{const M=v?`/api/departamentos/${v.id}`:"/api/departamentos",se=await fetch(M,{method:v?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(de)});if(!se.ok){const L=await se.json();throw new Error(L.message||"Error al guardar")}B(v?"Departamento actualizado exitosamente":"Departamento creado exitosamente","success"),P(),_()}catch(M){B(M.message,"error")}},ne=async()=>{try{const J=await fetch(`/api/departamentos/${Z.id}`,{method:"DELETE"});if(!J.ok){const de=await J.json();throw new Error(de.message||"Error al desactivar")}B("Departamento desactivado exitosamente","success"),R(!1),D(null),_()}catch(J){B(J.message,"error")}},W=r.filter(J=>J.nombre.toLowerCase().includes(b.toLowerCase())||J.codigo.toLowerCase().includes(b.toLowerCase())),re={total:r.length,conEmpleados:r.filter(J=>J.cantidadEmpleados>0).length,sinEmpleados:r.filter(J=>J.cantidadEmpleados===0).length};return x?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Departamentos"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:re.total})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Con Empleados"}),a.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:re.conEmpleados})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sin Empleados"}),a.jsx("p",{className:"text-3xl font-bold text-gray-500 mt-2",children:re.sinEmpleados})]}),a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})})]})})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre o cdigo...",value:b,onChange:J=>w(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsxs("button",{onClick:()=>K(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nuevo Departamento"]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cdigo"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripcin"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empleados"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jefe"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:W.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-500",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),a.jsx("p",{className:"text-sm",children:"No hay departamentos para mostrar"})]})}):W.map(J=>a.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:J.codigo})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900",children:J.nombre})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm text-gray-500",children:J.descripcion||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:J.cantidadEmpleados})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:J.managerNombre?a.jsx("span",{className:"text-sm text-gray-900",children:J.managerNombre}):a.jsx("span",{className:"text-sm text-gray-400",children:"Sin asignar"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J.estaActivo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:J.estaActivo?"Activo":"Inactivo"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>K(J),className:"text-blue-600 hover:text-blue-800 transition",title:"Editar",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),J.estaActivo&&a.jsx("button",{onClick:()=>{D(J),R(!0)},className:"text-red-600 hover:text-red-800 transition",title:"Desactivar",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]},J.id))})]})})}),j&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:v?"Editar Departamento":"Nuevo Departamento"}),a.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-600 transition",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:X,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Cdigo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,maxLength:20,value:k.codigo,onChange:J=>G({...k,codigo:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: ADM"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,maxLength:100,value:k.nombre,onChange:J=>G({...k,nombre:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Administracin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),a.jsx("textarea",{rows:3,maxLength:500,value:k.descripcion,onChange:J=>G({...k,descripcion:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descripcin opcional del departamento..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jefe de Departamento"}),a.jsxs("select",{value:k.managerId,onChange:J=>G({...k,managerId:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Sin asignar"}),u.map(J=>a.jsxs("option",{value:J.id,children:[J.nombre," ",J.apellido]},J.id))]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:v?"Actualizar":"Crear"})]})]})]})}),a.jsx(Im,{isOpen:q,onClose:()=>{R(!1),D(null)},onConfirm:ne,title:"Desactivar Departamento",message:`Est seguro que desea desactivar el departamento "${Z?.nombre}"?`,confirmText:"Desactivar",confirmColor:"red"})]})},r2=()=>{const[r,o]=h.useState([]),[u,c]=h.useState([]),[x,p]=h.useState(!0),[b,w]=h.useState(""),[j,y]=h.useState(!1),[v,S]=h.useState(null),[q,R]=h.useState(!1),[Z,D]=h.useState(null),{showToast:B}=Ht(),[k,G]=h.useState({codigo:"",nombre:"",descripcion:"",departamentoId:"",salarioMinimo:"",salarioMaximo:"",nivelRiesgo:0});h.useEffect(()=>{I()},[]),h.useEffect(()=>{_()},[b]);const _=async()=>{try{p(!0);const M=b?`/api/posiciones?departamentoId=${b}`:"/api/posiciones",T=await fetch(M);if(!T.ok)throw new Error("Error al cargar posiciones");const se=await T.json();o(se)}catch{B("Error al cargar posiciones","error")}finally{p(!1)}},I=async()=>{try{const M=await fetch("/api/departamentos");if(!M.ok)throw new Error("Error al cargar departamentos");const T=await M.json();c(T.filter(se=>se.estaActivo))}catch{B("Error al cargar departamentos","error")}},K=(M=null)=>{M?(S(M),G({codigo:M.codigo,nombre:M.nombre,descripcion:M.descripcion||"",departamentoId:M.departamentoId.toString(),salarioMinimo:M.salarioMinimo.toString(),salarioMaximo:M.salarioMaximo.toString(),nivelRiesgo:M.nivelRiesgo})):(S(null),G({codigo:"",nombre:"",descripcion:"",departamentoId:b||"",salarioMinimo:"",salarioMaximo:"",nivelRiesgo:0})),y(!0)},P=()=>{y(!1),S(null),G({codigo:"",nombre:"",descripcion:"",departamentoId:"",salarioMinimo:"",salarioMaximo:"",nivelRiesgo:0})},X=async M=>{M.preventDefault();const T=parseFloat(k.salarioMinimo),se=parseFloat(k.salarioMaximo);if(se<T){B("El salario mximo no puede ser menor que el mnimo","error");return}const L={codigo:k.codigo.trim(),nombre:k.nombre.trim(),descripcion:k.descripcion.trim()||null,departamentoId:parseInt(k.departamentoId),salarioMinimo:T,salarioMaximo:se,nivelRiesgo:parseInt(k.nivelRiesgo)};v&&(L.estaActivo=v.estaActivo);try{const E=v?`/api/posiciones/${v.id}`:"/api/posiciones",ue=await fetch(E,{method:v?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!ue.ok){const m=await ue.json();throw new Error(m.message||"Error al guardar")}B(v?"Posicin actualizada exitosamente":"Posicin creada exitosamente","success"),P(),_()}catch(E){B(E.message,"error")}},ne=async()=>{try{const M=await fetch(`/api/posiciones/${Z.id}`,{method:"DELETE"});if(!M.ok){const T=await M.json();throw new Error(T.message||"Error al desactivar")}B("Posicin desactivada exitosamente","success"),R(!1),D(null),_()}catch(M){B(M.message,"error")}},W=M=>{const T={0:{text:"Bajo (0.56%)",className:"bg-green-100 text-green-800"},1:{text:"Medio (2.50%)",className:"bg-yellow-100 text-yellow-800"},2:{text:"Alto (5.39%)",className:"bg-red-100 text-red-800"}};return T[M]||T[0]},re=M=>new Intl.NumberFormat("es-PA",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(M),J=b?r.filter(M=>M.departamentoId===parseInt(b)):r,de={total:r.length,enDept:b?J.length:0,avgSalario:r.length>0?r.reduce((M,T)=>M+(T.salarioMinimo+T.salarioMaximo)/2,0)/r.length:0,porRiesgo:{bajo:r.filter(M=>M.nivelRiesgo===0).length,medio:r.filter(M=>M.nivelRiesgo===1).length,alto:r.filter(M=>M.nivelRiesgo===2).length}};return x?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filtrar por Departamento:"}),a.jsxs("select",{value:b,onChange:M=>w(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Todos los Departamentos"}),u.map(M=>a.jsx("option",{value:M.id,children:M.nombre},M.id))]})]})}),a.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Posiciones"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:de.total})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),b&&a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En Departamento"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:de.enDept})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Salario Promedio"}),a.jsx("p",{className:"text-lg font-bold text-green-600 mt-2",children:re(de.avgSalario)})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-3",children:"Por Nivel de Riesgo"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Bajo"}),a.jsx("span",{className:"text-sm font-semibold",children:de.porRiesgo.bajo})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Medio"}),a.jsx("span",{className:"text-sm font-semibold",children:de.porRiesgo.medio})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Alto"}),a.jsx("span",{className:"text-sm font-semibold",children:de.porRiesgo.alto})]})]})]})})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsx("div",{className:"flex items-center justify-end",children:a.jsxs("button",{onClick:()=>K(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nueva Posicin"]})})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cdigo"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Departamento"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Salario Mn"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Salario Mx"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nivel Riesgo"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:J.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:"8",className:"px-6 py-12 text-center text-gray-500",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),a.jsx("p",{className:"text-sm",children:"No hay posiciones para mostrar"})]})}):J.map(M=>{const T=W(M.nivelRiesgo);return a.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:M.codigo})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900",children:M.nombre})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-600",children:M.departamentoNombre})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:re(M.salarioMinimo)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:re(M.salarioMaximo)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.className}`,children:T.text})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.estaActivo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:M.estaActivo?"Activo":"Inactivo"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>K(M),className:"text-blue-600 hover:text-blue-800 transition",title:"Editar",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),M.estaActivo&&a.jsx("button",{onClick:()=>{D(M),R(!0)},className:"text-red-600 hover:text-red-800 transition",title:"Desactivar",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]},M.id)})})]})})}),j&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:v?"Editar Posicin":"Nueva Posicin"}),a.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-600 transition",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:X,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Cdigo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,maxLength:20,value:k.codigo,onChange:M=>G({...k,codigo:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: GER-VEN"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,maxLength:100,value:k.nombre,onChange:M=>G({...k,nombre:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Gerente de Ventas"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Departamento ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{required:!0,value:k.departamentoId,onChange:M=>G({...k,departamentoId:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Seleccione un departamento"}),u.map(M=>a.jsx("option",{value:M.id,children:M.nombre},M.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Salario Mnimo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:k.salarioMinimo,onChange:M=>G({...k,salarioMinimo:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Salario Mximo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:k.salarioMaximo,onChange:M=>G({...k,salarioMaximo:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nivel de Riesgo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{required:!0,value:k.nivelRiesgo,onChange:M=>G({...k,nivelRiesgo:parseInt(M.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:0,children:"Bajo (0.56%)"}),a.jsx("option",{value:1,children:"Medio (2.50%)"}),a.jsx("option",{value:2,children:"Alto (5.39%)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),a.jsx("textarea",{rows:3,maxLength:500,value:k.descripcion,onChange:M=>G({...k,descripcion:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descripcin opcional de la posicin..."})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:v?"Actualizar":"Crear"})]})]})]})}),a.jsx(Im,{isOpen:q,onClose:()=>{R(!1),D(null)},onConfirm:ne,title:"Desactivar Posicin",message:`Est seguro que desea desactivar la posicin "${Z?.nombre}"?`,confirmText:"Desactivar",confirmColor:"red"})]})},i2=()=>{const{showToast:r}=Ht(),[o,u]=h.useState([]),[c,x]=h.useState([]),[p,b]=h.useState(!0),[w,j]=h.useState(!1),[y,v]=h.useState(!1),[S,q]=h.useState(!1),[R,Z]=h.useState(null),[D,B]=h.useState(null),[k,G]=h.useState(""),[_,I]=h.useState(""),[K,P]=h.useState(""),[X,ne]=h.useState(null),[W,re]=h.useState({empleadoId:"",descripcion:"",montoOriginal:"",cuotaMensual:"",numeroCuotas:"",tasaInteres:"0",fechaInicio:new Date().toISOString().split("T")[0],referencia:"",observaciones:""});h.useEffect(()=>{J(),de()},[]);const J=async()=>{try{b(!0);const g=new URLSearchParams;_&&g.append("empleadoId",_),K&&g.append("estado",K);const le=await fetch(`/api/prestamos?${g.toString()}`);if(!le.ok)throw new Error(`Error ${le.status}: ${le.statusText}`);const fe=await le.json();u(fe)}catch(g){r({type:"error",message:`Error al cargar prstamos: ${g.message}`})}finally{b(!1)}},de=async()=>{try{const g=await fetch("/api/empleados");if(!g.ok)throw new Error(`Error ${g.status}: ${g.statusText}`);const le=await g.json();x(le.filter(fe=>fe.estaActivo))}catch(g){r({type:"error",message:`Error al cargar empleados: ${g.message}`})}},M=async g=>{try{const le=await fetch(`/api/prestamos/${g}`);if(!le.ok)throw new Error(`Error ${le.status}: ${le.statusText}`);const fe=await le.json();Z(fe),v(!0)}catch(le){r({type:"error",message:`Error al cargar detalle: ${le.message}`})}};h.useEffect(()=>{(_||K)&&J()},[_,K]);const T=g=>new Intl.NumberFormat("es-PA",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(g||0),se=o.filter(g=>g.descripcion.toLowerCase().includes(k.toLowerCase())||g.empleadoNombre?.toLowerCase().includes(k.toLowerCase())),L=o.filter(g=>g.estado==="Activo"),E=L.reduce((g,le)=>g+le.montoPendiente,0),ee=L.reduce((g,le)=>g+le.cuotaMensual,0),ue=o.filter(g=>g.estado==="Pagado").length,m=g=>({Activo:"bg-green-100 text-green-800",Pagado:"bg-blue-100 text-blue-800",Cancelado:"bg-red-100 text-red-800",Suspendido:"bg-yellow-100 text-yellow-800"})[g]||"bg-gray-100 text-gray-800",H=async g=>{if(g.preventDefault(),parseFloat(W.cuotaMensual)<=0){r({type:"error",message:"La cuota mensual debe ser mayor a 0"});return}if(parseInt(W.numeroCuotas)<=0){r({type:"error",message:"El nmero de cuotas debe ser mayor a 0"});return}try{const le=X?`/api/prestamos/${X}`:"/api/prestamos",fe=X?"PUT":"POST",it={empleadoId:parseInt(W.empleadoId),descripcion:W.descripcion,montoOriginal:parseFloat(W.montoOriginal),cuotaMensual:parseFloat(W.cuotaMensual),numeroCuotas:parseInt(W.numeroCuotas),tasaInteres:parseFloat(W.tasaInteres),fechaInicio:W.fechaInicio,referencia:W.referencia||null,observaciones:W.observaciones||null},xt=await fetch(le,{method:fe,headers:{"Content-Type":"application/json"},body:JSON.stringify(it)});if(!xt.ok){const Vt=await xt.text();throw new Error(`Error ${xt.status}: ${Vt}`)}await J(),r({type:"success",message:X?"Prstamo actualizado exitosamente":"Prstamo creado exitosamente"}),pe()}catch(le){r({type:"error",message:`Error al guardar prstamo: ${le.message}`})}},te=g=>{re({empleadoId:g.empleadoId.toString(),descripcion:g.descripcion,montoOriginal:g.montoOriginal.toString(),cuotaMensual:g.cuotaMensual.toString(),numeroCuotas:g.numeroCuotas.toString(),tasaInteres:g.tasaInteres.toString(),fechaInicio:new Date(g.fechaInicio).toISOString().split("T")[0],referencia:g.referencia||"",observaciones:g.observaciones||""}),ne(g.id),j(!0)},ae=(g,le)=>{B(g),Z(le),q(!0)},oe=async()=>{if(!(!R||!D))try{let g,le="POST";switch(D){case"suspender":g=`/api/prestamos/${R.id}/suspender`;break;case"reactivar":g=`/api/prestamos/${R.id}/reactivar`;break;case"cancelar":g=`/api/prestamos/${R.id}/cancelar`,le="DELETE";break;default:return}const fe=await fetch(g,{method:le});if(!fe.ok)throw new Error(`Error ${fe.status}: ${fe.statusText}`);await J(),r({type:"success",message:`Prstamo ${D} exitosamente`}),q(!1),Z(null),B(null)}catch(g){r({type:"error",message:`Error: ${g.message}`})}},pe=()=>{j(!1),ne(null),re({empleadoId:"",descripcion:"",montoOriginal:"",cuotaMensual:"",numeroCuotas:"",tasaInteres:"0",fechaInicio:new Date().toISOString().split("T")[0],referencia:"",observaciones:""})};return p?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Cargando prstamos..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prstamos Activos"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:L.length})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),a.jsx("div",{className:"mt-4 flex items-center text-sm",children:a.jsx("span",{className:"text-gray-500",children:"En proceso de pago"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monto Pendiente"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:T(E)})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.jsx("div",{className:"mt-4 flex items-center text-sm",children:a.jsx("span",{className:"text-gray-500",children:"Total a cobrar"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cuotas este Mes"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:T(ee)})]}),a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 8h6m-5 0a3 3 0 110 6H9l3 3m-3-6h6m6 1a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.jsx("div",{className:"mt-4 flex items-center text-sm",children:a.jsx("span",{className:"text-gray-500",children:"Descuento mensual"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prstamos Pagados"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:ue})]}),a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.jsx("div",{className:"mt-4 flex items-center text-sm",children:a.jsx("span",{className:"text-gray-500",children:"Completados"})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("button",{onClick:()=>j(!0),className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg font-medium transition-colors shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Agregar Prstamo"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[a.jsxs("select",{value:_,onChange:g=>I(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos los empleados"}),c.map(g=>a.jsxs("option",{value:g.id,children:[g.nombre," ",g.apellido]},g.id))]}),a.jsxs("select",{value:K,onChange:g=>P(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos los estados"}),a.jsx("option",{value:"Activo",children:"Activo"}),a.jsx("option",{value:"Pagado",children:"Pagado"}),a.jsx("option",{value:"Cancelado",children:"Cancelado"}),a.jsx("option",{value:"Suspendido",children:"Suspendido"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Buscar por descripcin...",value:k,onChange:g=>G(g.target.value),className:"w-full sm:w-64 pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Lista de Prstamos",a.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",se.length," ",se.length===1?"prstamo":"prstamos",")"]})]})}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empleado"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripcin"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto Original"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pendiente"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cuota Mensual"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progreso"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:se.map(g=>{const le=g.numeroCuotas-Math.ceil(g.montoPendiente/g.cuotaMensual),fe=le/g.numeroCuotas*100;return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:g.empleadoNombre||"N/A"}),a.jsx("td",{className:"py-4 px-6 text-sm text-gray-900",children:g.descripcion}),a.jsx("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:T(g.montoOriginal)}),a.jsx("td",{className:"py-4 px-6 text-sm font-medium text-green-600",children:T(g.montoPendiente)}),a.jsx("td",{className:"py-4 px-6 text-sm text-gray-900",children:T(g.cuotaMensual)}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(fe,100)}%`}})})}),a.jsxs("p",{className:"text-xs text-gray-600",children:[le,"/",g.numeroCuotas," cuotas"]})]})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(g.estado)}`,children:g.estado})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("button",{onClick:()=>M(g.id),className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 font-medium text-sm",children:[a.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Ver"]}),g.estado!=="Pagado"&&g.estado!=="Cancelado"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>te(g),className:"inline-flex items-center gap-1 text-green-600 hover:text-green-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]}),g.estado==="Activo"&&a.jsxs("button",{onClick:()=>ae("suspender",g),className:"inline-flex items-center gap-1 text-yellow-600 hover:text-yellow-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Suspender"]}),g.estado==="Suspendido"&&a.jsxs("button",{onClick:()=>ae("reactivar",g),className:"inline-flex items-center gap-1 text-green-600 hover:text-green-800 font-medium text-sm",children:[a.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Reactivar"]}),a.jsxs("button",{onClick:()=>ae("cancelar",g),className:"inline-flex items-center gap-1 text-red-600 hover:text-red-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancelar"]})]})]})})]},g.id)})})]}),se.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No hay prstamos registrados"}),a.jsx("p",{className:"text-gray-500",children:"Comienza agregando el primer prstamo"})]})]})]}),w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:X?"Editar Prstamo":"Nuevo Prstamo"}),a.jsx("button",{onClick:pe,className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:H,className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Empleado ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{required:!0,value:W.empleadoId,onChange:g=>re({...W,empleadoId:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Seleccionar empleado..."}),c.map(g=>a.jsxs("option",{value:g.id,children:[g.nombre," ",g.apellido," - ",T(g.salarioBase)]},g.id))]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Descripcin ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,value:W.descripcion,onChange:g=>re({...W,descripcion:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Prstamo personal"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Monto Original ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),a.jsx("input",{type:"number",step:"0.01",min:"0.01",required:!0,value:W.montoOriginal,onChange:g=>re({...W,montoOriginal:g.target.value}),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1000.00"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Cuota Mensual ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),a.jsx("input",{type:"number",step:"0.01",min:"0.01",required:!0,value:W.cuotaMensual,onChange:g=>re({...W,cuotaMensual:g.target.value}),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"100.00"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nmero de Cuotas ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",min:"1",required:!0,value:W.numeroCuotas,onChange:g=>re({...W,numeroCuotas:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"12"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tasa de Inters (%)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:W.tasaInteres,onChange:g=>re({...W,tasaInteres:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fecha de Inicio ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",required:!0,value:W.fechaInicio,onChange:g=>re({...W,fechaInicio:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referencia"}),a.jsx("input",{type:"text",value:W.referencia,onChange:g=>re({...W,referencia:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nmero de referencia"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaciones"}),a.jsx("textarea",{rows:"3",value:W.observaciones,onChange:g=>re({...W,observaciones:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Notas adicionales..."})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:pe,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:X?"Actualizar Prstamo":"Crear Prstamo"})]})]})]})}),y&&R&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Detalle del Prstamo"}),a.jsx("button",{onClick:()=>{v(!1),Z(null)},className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Empleado"}),a.jsx("p",{className:"font-medium",children:R.empleadoNombre})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Descripcin"}),a.jsx("p",{className:"font-medium",children:R.descripcion})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Monto Original"}),a.jsx("p",{className:"font-medium",children:T(R.montoOriginal)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Monto Pendiente"}),a.jsx("p",{className:"font-medium text-green-600",children:T(R.montoPendiente)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Cuota Mensual"}),a.jsx("p",{className:"font-medium",children:T(R.cuotaMensual)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Nmero de Cuotas"}),a.jsx("p",{className:"font-medium",children:R.numeroCuotas})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Tasa de Inters"}),a.jsxs("p",{className:"font-medium",children:[R.tasaInteres,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Fecha de Inicio"}),a.jsx("p",{className:"font-medium",children:new Date(R.fechaInicio).toLocaleDateString("es-PA")})]}),R.referencia&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Referencia"}),a.jsx("p",{className:"font-medium",children:R.referencia})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Estado"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(R.estado)}`,children:R.estado})]})]}),R.observaciones&&a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Observaciones"}),a.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:R.observaciones})]}),R.historialPagos&&R.historialPagos.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Historial de Pagos"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-2 px-3",children:"Fecha"}),a.jsx("th",{className:"text-left py-2 px-3",children:"Cuota #"}),a.jsx("th",{className:"text-left py-2 px-3",children:"Monto"}),a.jsx("th",{className:"text-left py-2 px-3",children:"Saldo Anterior"}),a.jsx("th",{className:"text-left py-2 px-3",children:"Saldo Nuevo"})]})}),a.jsx("tbody",{className:"divide-y",children:R.historialPagos.map((g,le)=>a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 px-3",children:new Date(g.fecha).toLocaleDateString("es-PA")}),a.jsx("td",{className:"py-2 px-3",children:g.numeroCuota}),a.jsx("td",{className:"py-2 px-3 font-medium",children:T(g.monto)}),a.jsx("td",{className:"py-2 px-3",children:T(g.saldoAnterior)}),a.jsx("td",{className:"py-2 px-3 text-green-600 font-medium",children:T(g.saldoNuevo)})]},le))})]})})]})]})]})}),S&&R&&D&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:[D==="suspender"&&"Suspender Prstamo",D==="reactivar"&&"Reactivar Prstamo",D==="cancelar"&&"Cancelar Prstamo"]}),a.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["Est seguro de que desea ",D," este prstamo?"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{q(!1),Z(null),B(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Cancelar"}),a.jsx("button",{onClick:oe,className:`flex-1 px-4 py-2 rounded-lg font-medium text-white ${D==="cancelar"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:"Confirmar"})]})]})})})]})},o2=()=>{const{showToast:r}=Ht(),[o,u]=h.useState([]),[c,x]=h.useState([]),[p,b]=h.useState([]),[w,j]=h.useState(!0),[y,v]=h.useState(!1),[S,q]=h.useState(!1),[R,Z]=h.useState(null),[D,B]=h.useState(""),[k,G]=h.useState(""),[_,I]=h.useState(!0),[K,P]=h.useState(null),[X,ne]=h.useState({empleadoId:"",tipoDeduccion:"",descripcion:"",esPorcentaje:!1,monto:"",porcentaje:"",fechaInicio:new Date().toISOString().split("T")[0],fechaFin:"",prioridad:"10",referencia:"",observaciones:""});h.useEffect(()=>{W(),re(),J()},[]);const W=async()=>{try{j(!0);const g=new URLSearchParams;D&&g.append("empleadoId",D),k&&g.append("tipo",k),_&&g.append("activas","true");const le=await fetch(`/api/deducciones?${g.toString()}`);if(!le.ok)throw new Error(`Error ${le.status}: ${le.statusText}`);const fe=await le.json();u(fe)}catch(g){r({type:"error",message:`Error al cargar deducciones: ${g.message}`})}finally{j(!1)}},re=async()=>{try{const g=await fetch("/api/empleados");if(!g.ok)throw new Error(`Error ${g.status}: ${g.statusText}`);const le=await g.json();x(le.filter(fe=>fe.estaActivo))}catch(g){r({type:"error",message:`Error al cargar empleados: ${g.message}`})}},J=async()=>{try{const g=await fetch("/api/deducciones/tipos");if(!g.ok)throw new Error(`Error ${g.status}: ${g.statusText}`);const le=await g.json();b(le)}catch(g){r({type:"error",message:`Error al cargar tipos de deducciones: ${g.message}`})}};h.useEffect(()=>{W()},[D,k,_]);const de=g=>new Intl.NumberFormat("es-PA",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(g||0),M=o.filter(g=>g.estaActivo),T=c.length>0?c.reduce((g,le)=>g+le.salarioBase,0)/c.length:1500,se=M.reduce((g,le)=>le.esPorcentaje?g+T*le.porcentaje/100:g+le.monto,0),L=new Set(o.map(g=>g.empleadoId)).size,ee=(()=>{const g={};return o.forEach(le=>{g[le.tipoDeduccion]=(g[le.tipoDeduccion]||0)+1}),g})(),ue=g=>({SeguridadSocial:"bg-blue-100 text-blue-800",SeguroEducativo:"bg-green-100 text-green-800",ImpuestoRenta:"bg-purple-100 text-purple-800",Prestamo:"bg-yellow-100 text-yellow-800",Embargo:"bg-red-100 text-red-800",Descuento:"bg-gray-100 text-gray-800",Otro:"bg-gray-100 text-gray-800"})[g]||"bg-gray-100 text-gray-800",m=g=>({SeguridadSocial:"Seguridad Social",SeguroEducativo:"Seguro Educativo",ImpuestoRenta:"Impuesto sobre la Renta",Prestamo:"Prstamo",Embargo:"Embargo",Descuento:"Descuento",Otro:"Otro"})[g]||g,H=async g=>{if(g.preventDefault(),X.esPorcentaje){if(parseFloat(X.porcentaje)<=0||parseFloat(X.porcentaje)>100){r({type:"error",message:"El porcentaje debe estar entre 0.01 y 100"});return}}else if(parseFloat(X.monto)<=0){r({type:"error",message:"El monto debe ser mayor a 0"});return}try{const le=K?`/api/deducciones/${K}`:"/api/deducciones",fe=K?"PUT":"POST",it={empleadoId:parseInt(X.empleadoId),tipoDeduccion:parseInt(X.tipoDeduccion),descripcion:X.descripcion,esPorcentaje:X.esPorcentaje,monto:X.esPorcentaje?0:parseFloat(X.monto),porcentaje:X.esPorcentaje?parseFloat(X.porcentaje):0,fechaInicio:X.fechaInicio,fechaFin:X.fechaFin||null,prioridad:parseInt(X.prioridad),referencia:X.referencia||null,observaciones:X.observaciones||null},xt=await fetch(le,{method:fe,headers:{"Content-Type":"application/json"},body:JSON.stringify(it)});if(!xt.ok){const Vt=await xt.text();throw new Error(`Error ${xt.status}: ${Vt}`)}await W(),r({type:"success",message:K?"Deduccin actualizada exitosamente":"Deduccin creada exitosamente"}),pe()}catch(le){r({type:"error",message:`Error al guardar deduccin: ${le.message}`})}},te=g=>{ne({empleadoId:g.empleadoId.toString(),tipoDeduccion:g.tipoDeduccion,descripcion:g.descripcion,esPorcentaje:g.esPorcentaje,monto:g.monto.toString(),porcentaje:g.porcentaje.toString(),fechaInicio:new Date(g.fechaInicio).toISOString().split("T")[0],fechaFin:g.fechaFin?new Date(g.fechaFin).toISOString().split("T")[0]:"",prioridad:g.prioridad.toString(),referencia:g.referencia||"",observaciones:g.observaciones||""}),P(g.id),v(!0)},ae=g=>{Z(g),q(!0)},oe=async()=>{if(R)try{const g=await fetch(`/api/deducciones/${R.id}`,{method:"DELETE"});if(!g.ok)throw new Error(`Error ${g.status}: ${g.statusText}`);await W(),r({type:"success",message:"Deduccin desactivada exitosamente"}),q(!1),Z(null)}catch(g){r({type:"error",message:`Error al desactivar deduccin: ${g.message}`})}},pe=()=>{v(!1),P(null),ne({empleadoId:"",tipoDeduccion:"",descripcion:"",esPorcentaje:!1,monto:"",porcentaje:"",fechaInicio:new Date().toISOString().split("T")[0],fechaFin:"",prioridad:"10",referencia:"",observaciones:""})};return w?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Cargando deducciones..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Deducciones Activas"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:M.length})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.jsx("div",{className:"mt-4 flex items-center text-sm",children:a.jsx("span",{className:"text-gray-500",children:"Vigentes actualmente"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Mensual Est."}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:de(se)})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.jsx("div",{className:"mt-4 flex items-center text-sm",children:a.jsx("span",{className:"text-gray-500",children:"Estimacin mensual"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Por Tipo"}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Object.entries(ee).slice(0,3).map(([g,le])=>a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${ue(g)}`,children:le},g))})]}),a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})})]}),a.jsx("div",{className:"mt-4 flex items-center text-sm",children:a.jsx("span",{className:"text-gray-500",children:"Clasificadas"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Empleados Afectados"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:L})]}),a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),a.jsx("div",{className:"mt-4 flex items-center text-sm",children:a.jsx("span",{className:"text-gray-500",children:"Con deducciones"})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg font-medium transition-colors shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Agregar Deduccin"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[a.jsxs("select",{value:D,onChange:g=>B(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos los empleados"}),c.map(g=>a.jsxs("option",{value:g.id,children:[g.nombre," ",g.apellido]},g.id))]}),a.jsxs("select",{value:k,onChange:g=>G(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos los tipos"}),p.map(g=>a.jsx("option",{value:g.id||g,children:g.nombre||m(g)},g.id||g))]}),a.jsxs("label",{className:"inline-flex items-center px-3 py-2 bg-white border border-gray-300 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:_,onChange:g=>I(g.target.checked),className:"mr-2"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Solo activas"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Lista de Deducciones",a.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",o.length," ",o.length===1?"deduccin":"deducciones",")"]})]})}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empleado"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripcin"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto/%"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vigencia"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prioridad"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(g=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:g.empleadoNombre||"N/A"}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ue(g.tipoDeduccion)}`,children:m(g.tipoDeduccion)})}),a.jsx("td",{className:"py-4 px-6 text-sm text-gray-900",children:g.descripcion}),a.jsx("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:g.esPorcentaje?`${g.porcentaje}%`:de(g.monto)}),a.jsxs("td",{className:"py-4 px-6 text-sm text-gray-600",children:[new Date(g.fechaInicio).toLocaleDateString("es-PA")," - ",g.fechaFin?new Date(g.fechaFin).toLocaleDateString("es-PA"):"Indefinida"]}),a.jsx("td",{className:"py-4 px-6 text-sm text-gray-900",children:g.prioridad}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g.estaActivo?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${g.estaActivo?"bg-green-600":"bg-gray-600"}`}),g.estaActivo?"Activo":"Inactivo"]})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>te(g),className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]}),g.estaActivo&&a.jsxs("button",{onClick:()=>ae(g),className:"inline-flex items-center gap-1 text-red-600 hover:text-red-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Desactivar"]})]})})]},g.id))})]}),o.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No hay deducciones registradas"}),a.jsx("p",{className:"text-gray-500",children:"Comienza agregando la primera deduccin"})]})]})]}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:K?"Editar Deduccin":"Nueva Deduccin"}),a.jsx("button",{onClick:pe,className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:H,className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Empleado ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{required:!0,value:X.empleadoId,onChange:g=>ne({...X,empleadoId:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Seleccionar empleado..."}),c.map(g=>a.jsxs("option",{value:g.id,children:[g.nombre," ",g.apellido," - ",de(g.salarioBase)]},g.id))]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tipo de Deduccin ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{required:!0,value:X.tipoDeduccion,onChange:g=>ne({...X,tipoDeduccion:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Seleccionar tipo..."}),p.map(g=>a.jsx("option",{value:g.id||g,children:g.nombre||m(g)},g.id||g))]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Descripcin ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,value:X.descripcion,onChange:g=>ne({...X,descripcion:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descripcin de la deduccin"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tipo de Clculo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",checked:!X.esPorcentaje,onChange:()=>ne({...X,esPorcentaje:!1}),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Monto Fijo"})]}),a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",checked:X.esPorcentaje,onChange:()=>ne({...X,esPorcentaje:!0}),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Porcentaje sobre salario"})]})]})]}),!X.esPorcentaje&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Monto ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),a.jsx("input",{type:"number",step:"0.01",min:"0.01",required:!X.esPorcentaje,value:X.monto,onChange:g=>ne({...X,monto:g.target.value}),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"150.00"})]})]}),X.esPorcentaje&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Porcentaje ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",step:"0.01",min:"0.01",max:"100",required:X.esPorcentaje,value:X.porcentaje,onChange:g=>ne({...X,porcentaje:g.target.value}),className:"w-full pr-10 pl-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"5.00"}),a.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"%"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fecha de Inicio ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",required:!0,value:X.fechaInicio,onChange:g=>ne({...X,fechaInicio:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Fin"}),a.jsx("input",{type:"date",value:X.fechaFin,onChange:g=>ne({...X,fechaFin:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dejar vaco para deduccin indefinida"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridad"}),a.jsx("input",{type:"number",min:"1",max:"99",value:X.prioridad,onChange:g=>ne({...X,prioridad:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Orden de aplicacin (menor = mayor prioridad)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referencia"}),a.jsx("input",{type:"text",value:X.referencia,onChange:g=>ne({...X,referencia:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nmero de referencia"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaciones"}),a.jsx("textarea",{rows:"3",value:X.observaciones,onChange:g=>ne({...X,observaciones:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Notas adicionales..."})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:pe,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:K?"Actualizar Deduccin":"Crear Deduccin"})]})]})]})}),S&&R&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Desactivar Deduccin"}),a.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Est seguro de que desea desactivar esta deduccin? Esta accin marcar la deduccin como inactiva."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{q(!1),Z(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Cancelar"}),a.jsx("button",{onClick:oe,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium",children:"Desactivar"})]})]})})})]})},c2=()=>{const{showToast:r}=Ht(),[o,u]=h.useState([]),[c,x]=h.useState([]),[p,b]=h.useState(!0),[w,j]=h.useState(!1),[y,v]=h.useState(!1),[S,q]=h.useState(!1),[R,Z]=h.useState(!1),[D,B]=h.useState(null),[k,G]=h.useState(""),[_,I]=h.useState(""),[K,P]=h.useState("pendientes"),[X,ne]=h.useState(""),[W,re]=h.useState({empleadoId:"",monto:"",fechaDescuento:"",motivo:""});h.useEffect(()=>{J(),de()},[]);const J=async()=>{try{b(!0);const F=new URLSearchParams;k&&F.append("empleadoId",k),_&&F.append("estado",_);const Ge=await fetch(`/api/anticipos?${F.toString()}`);if(!Ge.ok)throw new Error(`Error ${Ge.status}: ${Ge.statusText}`);const St=await Ge.json();u(St)}catch(F){r({type:"error",message:`Error al cargar anticipos: ${F.message}`})}finally{b(!1)}},de=async()=>{try{const F=await fetch("/api/empleados");if(!F.ok)throw new Error(`Error ${F.status}: ${F.statusText}`);const Ge=await F.json();x(Ge.filter(St=>St.estaActivo))}catch(F){r({type:"error",message:`Error al cargar empleados: ${F.message}`})}};h.useEffect(()=>{J()},[k,_]);const M=F=>new Intl.NumberFormat("es-PA",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(F||0),T=F=>{const Ge=c.find(St=>St.id===parseInt(F));return Ge?Ge.salarioBase:0},se=o.filter(F=>F.estado==="Pendiente"),L=K==="pendientes"?se:o,E=se.length,ee=new Date().getMonth(),ue=new Date().getFullYear(),m=o.filter(F=>{if(F.estado!=="Aprobado")return!1;const Ge=new Date(F.fechaSolicitud);return Ge.getMonth()===ee&&Ge.getFullYear()===ue}).length,H=o.filter(F=>F.estado==="Aprobado"&&new Date(F.fechaSolicitud).getMonth()===ee).reduce((F,Ge)=>F+Ge.monto,0),te=o.filter(F=>F.estado==="Descontado").length,ae=F=>({Pendiente:"bg-yellow-100 text-yellow-800",Aprobado:"bg-green-100 text-green-800",Descontado:"bg-blue-100 text-blue-800",Rechazado:"bg-red-100 text-red-800",Cancelado:"bg-gray-100 text-gray-800"})[F]||"bg-gray-100 text-gray-800",oe=async F=>{F.preventDefault();const St=T(W.empleadoId)*.5;if(parseFloat(W.monto)>St){r({type:"error",message:`El anticipo no puede exceder el 50% del salario (${M(St)})`});return}if(W.motivo.length<10){r({type:"error",message:"El motivo debe tener al menos 10 caracteres"});return}try{const Fs={empleadoId:parseInt(W.empleadoId),monto:parseFloat(W.monto),fechaDescuento:W.fechaDescuento,motivo:W.motivo},Is=await fetch("/api/anticipos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Fs)});if(!Is.ok){const Et=await Is.text();throw new Error(`Error ${Is.status}: ${Et}`)}await J(),r({type:"success",message:"Anticipo creado exitosamente"}),fe()}catch(Fs){r({type:"error",message:`Error al guardar anticipo: ${Fs.message}`})}},pe=async()=>{if(D)try{const F=await fetch(`/api/anticipos/${D.id}/aprobar`,{method:"POST"});if(!F.ok)throw new Error(`Error ${F.status}: ${F.statusText}`);await J(),r({type:"success",message:"Anticipo aprobado exitosamente"}),v(!1),B(null)}catch(F){r({type:"error",message:`Error al aprobar anticipo: ${F.message}`})}},g=async()=>{if(!D||!X.trim()){r({type:"error",message:"Debe proporcionar un motivo para el rechazo"});return}try{const F=await fetch(`/api/anticipos/${D.id}/rechazar`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({motivo:X})});if(!F.ok)throw new Error(`Error ${F.status}: ${F.statusText}`);await J(),r({type:"success",message:"Anticipo rechazado"}),q(!1),B(null),ne("")}catch(F){r({type:"error",message:`Error al rechazar anticipo: ${F.message}`})}},le=async()=>{if(D)try{const F=await fetch(`/api/anticipos/${D.id}/cancelar`,{method:"DELETE"});if(!F.ok)throw new Error(`Error ${F.status}: ${F.statusText}`);await J(),r({type:"success",message:"Anticipo cancelado exitosamente"}),Z(!1),B(null)}catch(F){r({type:"error",message:`Error al cancelar anticipo: ${F.message}`})}},fe=()=>{j(!1),re({empleadoId:"",monto:"",fechaDescuento:"",motivo:""})},it=F=>{B(F),v(!0)},xt=F=>{B(F),q(!0)},Vt=F=>{B(F),Z(!0)};return p?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Cargando anticipos..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendientes de Aprobar"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:E})]}),a.jsxs("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center relative",children:[a.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),E>0&&a.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:E})]})]}),a.jsx("div",{className:"mt-4 flex items-center text-sm",children:a.jsx("span",{className:"text-yellow-600 font-medium",children:"Requieren accin"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Aprobados este Mes"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:m})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.jsx("div",{className:"mt-4 flex items-center text-sm",children:a.jsx("span",{className:"text-gray-500",children:"Autorizados"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Anticipado"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:M(H)})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.jsx("div",{className:"mt-4 flex items-center text-sm",children:a.jsx("span",{className:"text-gray-500",children:"Este mes"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Descontados"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:te})]}),a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),a.jsx("div",{className:"mt-4 flex items-center text-sm",children:a.jsx("span",{className:"text-gray-500",children:"Procesados"})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("button",{onClick:()=>j(!0),className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg font-medium transition-colors shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Solicitar Anticipo"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[a.jsxs("select",{value:k,onChange:F=>G(F.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos los empleados"}),c.map(F=>a.jsxs("option",{value:F.id,children:[F.nombre," ",F.apellido]},F.id))]}),a.jsxs("select",{value:_,onChange:F=>I(F.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos los estados"}),a.jsx("option",{value:"Pendiente",children:"Pendiente"}),a.jsx("option",{value:"Aprobado",children:"Aprobado"}),a.jsx("option",{value:"Descontado",children:"Descontado"}),a.jsx("option",{value:"Rechazado",children:"Rechazado"}),a.jsx("option",{value:"Cancelado",children:"Cancelado"})]})]})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>P("pendientes"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${K==="pendientes"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Pendientes",E>0&&a.jsx("span",{className:"ml-2 bg-yellow-100 text-yellow-800 py-0.5 px-2 rounded-full text-xs font-semibold",children:E})]}),a.jsx("button",{onClick:()=>P("todos"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${K==="todos"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Todos"})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[K==="pendientes"?"Anticipos Pendientes":"Historial de Anticipos",a.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",L.length," ",L.length===1?"anticipo":"anticipos",")"]})]})}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empleado"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Solicitud"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Descuento"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Motivo"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(F=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:F.empleadoNombre||"N/A"}),a.jsx("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:M(F.monto)}),a.jsx("td",{className:"py-4 px-6 text-sm text-gray-600",children:new Date(F.fechaSolicitud).toLocaleDateString("es-PA",{day:"2-digit",month:"short",year:"numeric"})}),a.jsx("td",{className:"py-4 px-6 text-sm text-gray-600",children:F.fechaDescuento?new Date(F.fechaDescuento).toLocaleDateString("es-PA",{day:"2-digit",month:"short",year:"numeric"}):"-"}),a.jsx("td",{className:"py-4 px-6 text-sm text-gray-900 max-w-xs truncate",title:F.motivo,children:F.motivo}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ae(F.estado)}`,children:F.estado})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[F.estado==="Pendiente"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>it(F),className:"inline-flex items-center gap-1 text-green-600 hover:text-green-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Aprobar"]}),a.jsxs("button",{onClick:()=>xt(F),className:"inline-flex items-center gap-1 text-red-600 hover:text-red-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Rechazar"]})]}),F.estado==="Aprobado"&&a.jsxs("button",{onClick:()=>Vt(F),className:"inline-flex items-center gap-1 text-yellow-600 hover:text-yellow-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancelar"]}),(F.estado==="Rechazado"||F.estado==="Descontado"||F.estado==="Cancelado")&&a.jsx("span",{className:"text-sm text-gray-500",children:"-"})]})})]},F.id))})]}),L.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:K==="pendientes"?"No hay anticipos pendientes":"No hay anticipos registrados"}),a.jsx("p",{className:"text-gray-500",children:K==="pendientes"?"Todos los anticipos han sido procesados":"Comienza solicitando el primer anticipo"})]})]})]}),w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Solicitar Anticipo"}),a.jsx("button",{onClick:fe,className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:oe,className:"p-6",children:[a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Empleado ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{required:!0,value:W.empleadoId,onChange:F=>re({...W,empleadoId:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Seleccionar empleado..."}),c.map(F=>a.jsxs("option",{value:F.id,children:[F.nombre," ",F.apellido," - Salario: ",M(F.salarioBase)]},F.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Monto ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),a.jsx("input",{type:"number",step:"0.01",min:"0.01",required:!0,value:W.monto,onChange:F=>re({...W,monto:F.target.value}),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"500.00"})]}),W.empleadoId&&a.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Salario del empleado: ",M(T(W.empleadoId))," - ","Mximo permitido (50%): ",M(T(W.empleadoId)*.5)]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fecha de Descuento ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",required:!0,value:W.fechaDescuento,onChange:F=>re({...W,fechaDescuento:F.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fecha en que se descontar de la planilla"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Motivo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{rows:"4",required:!0,minLength:"10",value:W.motivo,onChange:F=>re({...W,motivo:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Explique detalladamente el motivo del anticipo (mnimo 10 caracteres)..."}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[W.motivo.length,"/10 caracteres mnimos"]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:fe,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:"Solicitar Anticipo"})]})]})]})}),y&&D&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Aprobar Anticipo"}),a.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["Est seguro de que desea aprobar este anticipo de"," ",a.jsx("strong",{children:M(D.monto)})," para"," ",a.jsx("strong",{children:D.empleadoNombre}),"?"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{v(!1),B(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Cancelar"}),a.jsx("button",{onClick:pe,className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium",children:"Aprobar"})]})]})})}),S&&D&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Rechazar Anticipo"}),a.jsxs("p",{className:"text-gray-600 text-center mb-4",children:["Anticipo de ",a.jsx("strong",{children:M(D.monto)})," para"," ",a.jsx("strong",{children:D.empleadoNombre})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Motivo del Rechazo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{rows:"3",required:!0,value:X,onChange:F=>ne(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Explique el motivo del rechazo..."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{q(!1),B(null),ne("")},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Cancelar"}),a.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium",children:"Rechazar"})]})]})})}),R&&D&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Cancelar Anticipo"}),a.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["Est seguro de que desea cancelar este anticipo de"," ",a.jsx("strong",{children:M(D.monto)}),"?"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{Z(!1),B(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"No, volver"}),a.jsx("button",{onClick:le,className:"flex-1 px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg font-medium",children:"S, cancelar"})]})]})})})]})},d2=()=>{const{showToast:r}=Ht(),[o,u]=h.useState([]),[c,x]=h.useState([]),[p,b]=h.useState([]),[w,j]=h.useState(!0),[y,v]=h.useState(!1),[S,q]=h.useState(null),[R,Z]=h.useState({empleadoId:"",tipo:"",soloPendientes:!1}),[D,B]=h.useState({empleadoId:"",fecha:new Date().toISOString().split("T")[0],tipoHoraExtra:"1",horaInicio:"09:00",horaFin:"10:00",motivo:""});h.useEffect(()=>{k(),G(),_()},[]);const k=async()=>{try{j(!0);const E=await fetch("/api/horasextra");if(!E.ok)throw new Error(`Error ${E.status}`);const ee=await E.json();u(ee)}catch(E){r({type:"error",message:`Error al cargar horas extra: ${E.message}`})}finally{j(!1)}},G=async()=>{try{const E=await fetch("/api/empleados");if(!E.ok)throw new Error(`Error ${E.status}`);const ee=await E.json();x(ee.filter(ue=>ue.estaActivo))}catch(E){r({type:"error",message:`Error al cargar empleados: ${E.message}`})}},_=async()=>{try{const E=await fetch("/api/horasextra/tipos");if(!E.ok)throw new Error(`Error ${E.status}`);const ee=await E.json();b(ee)}catch(E){r({type:"error",message:`Error al cargar tipos: ${E.message}`})}},I=o.filter(E=>!(R.empleadoId&&E.empleadoId!==parseInt(R.empleadoId)||R.tipo&&E.tipoHoraExtra!==parseInt(R.tipo)||R.soloPendientes&&E.estaAprobada)),K=o.filter(E=>!E.estaAprobada).length,P=new Date,X=o.filter(E=>{const ee=new Date(E.fecha);return ee.getMonth()===P.getMonth()&&ee.getFullYear()===P.getFullYear()}).reduce((E,ee)=>E+ee.cantidadHoras,0),ne=o.filter(E=>!E.estaAprobada).reduce((E,ee)=>E+(ee.montoCalculado||0),0),W=p.map(E=>({...E,cantidad:o.filter(ee=>ee.tipoHoraExtra===E.valor).length})),re=E=>new Intl.NumberFormat("es-PA",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(E||0),J=E=>E.substring(0,5),de=async E=>{E.preventDefault();try{const ee=S?`/api/horasextra/${S}`:"/api/horasextra",ue=S?"PUT":"POST",m={empleadoId:parseInt(D.empleadoId),fecha:D.fecha,tipoHoraExtra:parseInt(D.tipoHoraExtra),horaInicio:D.horaInicio+":00",horaFin:D.horaFin+":00",motivo:D.motivo},H=await fetch(ee,{method:ue,headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!H.ok){const te=await H.text();throw new Error(te)}await k(),r({type:"success",message:S?"Hora extra actualizada":"Hora extra registrada"}),L()}catch(ee){r({type:"error",message:`Error: ${ee.message}`})}},M=async E=>{try{if(!(await fetch(`/api/horasextra/${E}/aprobar`,{method:"POST"})).ok)throw new Error("Error al aprobar");await k(),r({type:"success",message:"Hora extra aprobada"})}catch(ee){r({type:"error",message:ee.message})}},T=async E=>{if(window.confirm("Est seguro de rechazar esta hora extra?"))try{if(!(await fetch(`/api/horasextra/${E}/rechazar`,{method:"POST"})).ok)throw new Error("Error al rechazar");await k(),r({type:"success",message:"Hora extra rechazada"})}catch(ee){r({type:"error",message:ee.message})}},se=E=>{B({empleadoId:E.empleadoId.toString(),fecha:new Date(E.fecha).toISOString().split("T")[0],tipoHoraExtra:E.tipoHoraExtra.toString(),horaInicio:J(E.horaInicio),horaFin:J(E.horaFin),motivo:E.motivo}),q(E.id),v(!0)},L=()=>{v(!1),q(null),B({empleadoId:"",fecha:new Date().toISOString().split("T")[0],tipoHoraExtra:"1",horaInicio:"09:00",horaFin:"10:00",motivo:""})};return w?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Cargando horas extra..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendientes de Aprobar"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:K})]}),a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Horas este Mes"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:X.toFixed(1)})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monto Estimado"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:re(ne)})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-3",children:"Por Tipo"}),a.jsx("div",{className:"space-y-2",children:W.map(E=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-600",children:E.nombre.split(" ")[0]}),a.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:E.cantidad})]},E.valor))})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[a.jsxs("select",{value:R.empleadoId,onChange:E=>Z({...R,empleadoId:E.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos los empleados"}),c.map(E=>a.jsxs("option",{value:E.id,children:[E.nombre," ",E.apellido]},E.id))]}),a.jsxs("select",{value:R.tipo,onChange:E=>Z({...R,tipo:E.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos los tipos"}),p.map(E=>a.jsx("option",{value:E.valor,children:E.nombre},E.valor))]}),a.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-gray-50 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:R.soloPendientes,onChange:E=>Z({...R,soloPendientes:E.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Solo pendientes"})]})]}),a.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg font-medium transition-colors shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Registrar Horas Extra"]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Horas Extra Registradas",a.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",I.length," registros)"]})]})}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Empleado"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Tipo"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Horario"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Horas"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Monto"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Estado"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(E=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-4 px-6 text-sm text-gray-900",children:E.empleadoNombre}),a.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:new Date(E.fecha).toLocaleDateString("es-PA",{day:"2-digit",month:"short",year:"numeric"})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:E.tipoNombre})}),a.jsxs("td",{className:"py-4 px-6 text-sm text-gray-900",children:[J(E.horaInicio)," - ",J(E.horaFin)]}),a.jsxs("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:[E.cantidadHoras.toFixed(2),"h"]}),a.jsx("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:re(E.montoCalculado)}),a.jsx("td",{className:"py-4 px-6",children:E.estaAprobada?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-green-600 rounded-full mr-1.5"}),"Aprobada"]}):a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-yellow-600 rounded-full mr-1.5"}),"Pendiente"]})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[!E.estaAprobada&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>M(E.id),className:"inline-flex items-center gap-1 text-green-600 hover:text-green-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Aprobar"]}),a.jsxs("button",{onClick:()=>se(E),className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]}),a.jsxs("button",{onClick:()=>T(E.id),className:"inline-flex items-center gap-1 text-red-600 hover:text-red-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Rechazar"]})]}),E.estaAprobada&&E.aprobadoPor&&a.jsxs("span",{className:"text-xs text-gray-500",children:["Aprobado por ",E.aprobadoPor]})]})})]},E.id))})]}),I.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No hay horas extra registradas"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Comienza registrando la primera hora extra"}),a.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Registrar Horas Extra"]})]})]})]}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:S?"Editar Hora Extra":"Registrar Hora Extra"}),a.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:de,className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Empleado ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{required:!0,value:D.empleadoId,onChange:E=>B({...D,empleadoId:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Seleccionar empleado..."}),c.map(E=>a.jsxs("option",{value:E.id,children:[E.nombre," ",E.apellido," - ",E.posicionNombre||"Sin posicin"]},E.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fecha ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",required:!0,value:D.fecha,onChange:E=>B({...D,fecha:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tipo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("select",{required:!0,value:D.tipoHoraExtra,onChange:E=>B({...D,tipoHoraExtra:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:p.map(E=>a.jsx("option",{value:E.valor,children:E.nombre},E.valor))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hora Inicio ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"time",required:!0,value:D.horaInicio,onChange:E=>B({...D,horaInicio:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hora Fin ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"time",required:!0,value:D.horaFin,onChange:E=>B({...D,horaFin:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Motivo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{required:!0,value:D.motivo,onChange:E=>B({...D,motivo:E.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describir el motivo de las horas extra..."})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors shadow-sm",children:S?"Actualizar":"Registrar"})]})]})]})})]})},u2=()=>{const{showToast:r}=Ht(),[o,u]=h.useState([]),[c,x]=h.useState([]),[p,b]=h.useState([]),[w,j]=h.useState(!0),[y,v]=h.useState(!1),[S,q]=h.useState(null),[R,Z]=h.useState({empleadoId:"",tipo:""}),[D,B]=h.useState({empleadoId:"",tipoAusencia:"1",fechaInicio:new Date().toISOString().split("T")[0],fechaFin:new Date().toISOString().split("T")[0],motivo:"",tieneJustificacion:!1,documentoReferencia:""});h.useEffect(()=>{k(),G(),_()},[]);const k=async()=>{try{j(!0);const T=await fetch("/api/ausencias");if(!T.ok)throw new Error(`Error ${T.status}`);const se=await T.json();u(se)}catch(T){r({type:"error",message:`Error al cargar ausencias: ${T.message}`})}finally{j(!1)}},G=async()=>{try{const T=await fetch("/api/empleados");if(!T.ok)throw new Error(`Error ${T.status}`);const se=await T.json();x(se.filter(L=>L.estaActivo))}catch(T){r({type:"error",message:`Error al cargar empleados: ${T.message}`})}},_=async()=>{try{const T=await fetch("/api/ausencias/tipos");if(!T.ok)throw new Error(`Error ${T.status}`);const se=await T.json();b(se)}catch(T){r({type:"error",message:`Error al cargar tipos: ${T.message}`})}},I=o.filter(T=>!(R.empleadoId&&T.empleadoId!==parseInt(R.empleadoId)||R.tipo&&T.tipoAusencia!==parseInt(R.tipo))),K=o.length,P=o.reduce((T,se)=>T+se.diasAusencia,0),X=o.filter(T=>T.tipoAusencia===1).length,ne=o.filter(T=>T.tieneJustificacion).length,W=T=>new Intl.NumberFormat("es-PA",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(T||0),re=async T=>{T.preventDefault();try{const se=S?`/api/ausencias/${S}`:"/api/ausencias",L=S?"PUT":"POST",E={empleadoId:parseInt(D.empleadoId),tipoAusencia:parseInt(D.tipoAusencia),fechaInicio:D.fechaInicio,fechaFin:D.fechaFin,motivo:D.motivo,tieneJustificacion:D.tieneJustificacion,documentoReferencia:D.documentoReferencia||null},ee=await fetch(se,{method:L,headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(!ee.ok){const ue=await ee.text();throw new Error(ue)}await k(),r({type:"success",message:S?"Ausencia actualizada":"Ausencia registrada"}),M()}catch(se){r({type:"error",message:`Error: ${se.message}`})}},J=T=>{B({empleadoId:T.empleadoId.toString(),tipoAusencia:T.tipoAusencia.toString(),fechaInicio:new Date(T.fechaInicio).toISOString().split("T")[0],fechaFin:new Date(T.fechaFin).toISOString().split("T")[0],motivo:T.motivo||"",tieneJustificacion:T.tieneJustificacion,documentoReferencia:T.documentoReferencia||""}),q(T.id),v(!0)},de=async T=>{if(window.confirm("Est seguro de eliminar esta ausencia?"))try{if(!(await fetch(`/api/ausencias/${T}`,{method:"DELETE"})).ok)throw new Error("Error al eliminar");await k(),r({type:"success",message:"Ausencia eliminada"})}catch(se){r({type:"error",message:se.message})}},M=()=>{v(!1),q(null),B({empleadoId:"",tipoAusencia:"1",fechaInicio:new Date().toISOString().split("T")[0],fechaFin:new Date().toISOString().split("T")[0],motivo:"",tieneJustificacion:!1,documentoReferencia:""})};return w?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Cargando ausencias..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Ausencias"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:K})]}),a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Das Perdidos"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:P})]}),a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Injustificadas"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:X})]}),a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Con Justificacin"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:ne})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[a.jsxs("select",{value:R.empleadoId,onChange:T=>Z({...R,empleadoId:T.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos los empleados"}),c.map(T=>a.jsxs("option",{value:T.id,children:[T.nombre," ",T.apellido]},T.id))]}),a.jsxs("select",{value:R.tipo,onChange:T=>Z({...R,tipo:T.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Todos los tipos"}),p.map(T=>a.jsx("option",{value:T.Id,children:T.Nombre},T.Id))]})]}),a.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg font-medium transition-colors shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Registrar Ausencia"]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Ausencias Registradas",a.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",I.length," registros)"]})]})}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Empleado"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Tipo"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Perodo"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Das"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Justificacin"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Afecta Salario"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Monto"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(T=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-4 px-6 text-sm text-gray-900",children:T.empleadoNombre}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.afectaSalario?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:T.tipoNombre})}),a.jsxs("td",{className:"py-4 px-6 text-sm text-gray-500",children:[new Date(T.fechaInicio).toLocaleDateString("es-PA",{day:"2-digit",month:"short"})," - ",new Date(T.fechaFin).toLocaleDateString("es-PA",{day:"2-digit",month:"short",year:"numeric"})]}),a.jsx("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:T.diasAusencia}),a.jsx("td",{className:"py-4 px-6",children:T.tieneJustificacion?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Con justificacin"]}),T.documentoReferencia&&a.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})]}):a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Sin justificacin"})}),a.jsx("td",{className:"py-4 px-6",children:T.afectaSalario?a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"S"}):a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"No"})}),a.jsx("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:T.montoDescontado?W(T.montoDescontado):"-"}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>J(T),className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]}),a.jsxs("button",{onClick:()=>de(T.id),className:"inline-flex items-center gap-1 text-red-600 hover:text-red-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Eliminar"]})]})})]},T.id))})]}),I.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No hay ausencias registradas"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Comienza registrando la primera ausencia"}),a.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Registrar Ausencia"]})]})]})]}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:S?"Editar Ausencia":"Registrar Ausencia"}),a.jsx("button",{onClick:M,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:re,className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Empleado ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{required:!0,value:D.empleadoId,onChange:T=>B({...D,empleadoId:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Seleccionar empleado..."}),c.map(T=>a.jsxs("option",{value:T.id,children:[T.nombre," ",T.apellido," - ",T.posicionNombre||"Sin posicin"]},T.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tipo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("select",{required:!0,value:D.tipoAusencia,onChange:T=>B({...D,tipoAusencia:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:p.map(T=>a.jsx("option",{value:T.Id,children:T.Nombre},T.Id))})]}),a.jsx("div",{className:"flex items-center pt-6",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:D.tieneJustificacion,onChange:T=>B({...D,tieneJustificacion:T.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tiene justificacin"})]})}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fecha Inicio ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",required:!0,value:D.fechaInicio,onChange:T=>B({...D,fechaInicio:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fecha Fin ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",required:!0,value:D.fechaFin,onChange:T=>B({...D,fechaFin:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),D.tieneJustificacion&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Documento de Referencia"}),a.jsx("input",{type:"text",value:D.documentoReferencia,onChange:T=>B({...D,documentoReferencia:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Certificado mdico #12345"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nmero de certificado mdico, carta, u otro documento de justificacin"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Motivo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{required:!0,value:D.motivo,onChange:T=>B({...D,motivo:T.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describir el motivo de la ausencia..."})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:M,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors shadow-sm",children:S?"Actualizar":"Registrar"})]})]})]})})]})},m2=()=>{const{showToast:r}=Ht(),[o,u]=h.useState([]),[c,x]=h.useState([]),[p,b]=h.useState([]),[w,j]=h.useState(!0),[y,v]=h.useState(!1),[S,q]=h.useState(!1),[R,Z]=h.useState("solicitudes"),[D,B]=h.useState(null),[k,G]=h.useState(""),[_,I]=h.useState({empleadoId:"",fechaInicio:new Date().toISOString().split("T")[0],fechaFin:new Date().toISOString().split("T")[0],observaciones:""});h.useEffect(()=>{K(),X()},[]),h.useEffect(()=>{R==="saldos"&&P()},[R]);const K=async()=>{try{j(!0);const m=await fetch("/api/vacaciones");if(!m.ok)throw new Error(`Error ${m.status}`);const H=await m.json();u(H)}catch(m){r({type:"error",message:`Error al cargar vacaciones: ${m.message}`})}finally{j(!1)}},P=async()=>{try{const m=p.map(te=>fetch(`/api/vacaciones/saldo/${te.id}`).then(ae=>ae.ok?ae.json():null)),H=await Promise.all(m);x(H.filter(te=>te!==null))}catch(m){r({type:"error",message:`Error al cargar saldos: ${m.message}`})}},X=async()=>{try{const m=await fetch("/api/empleados");if(!m.ok)throw new Error(`Error ${m.status}`);const H=await m.json();b(H.filter(te=>te.estaActivo))}catch(m){r({type:"error",message:`Error al cargar empleados: ${m.message}`})}},ne=o.filter(m=>m.estado===1).length,W=o.filter(m=>m.estado===3).length,re=o.filter(m=>m.estado===2||m.estado===3||m.estado===4).reduce((m,H)=>m+H.diasVacaciones,0),J=new Date,de=o.filter(m=>{if(m.estado!==2)return!1;const H=new Date(m.fechaInicio),te=Math.ceil((H-J)/(1e3*60*60*24));return te>=0&&te<=30}).length,M=m=>({1:"bg-yellow-100 text-yellow-800",2:"bg-green-100 text-green-800",3:"bg-blue-100 text-blue-800",4:"bg-gray-100 text-gray-800",5:"bg-gray-100 text-gray-600",6:"bg-red-100 text-red-800"})[m]||"bg-gray-100 text-gray-800",T=async m=>{m.preventDefault();try{const H={empleadoId:parseInt(_.empleadoId),fechaInicio:_.fechaInicio,fechaFin:_.fechaFin,observaciones:_.observaciones||null},te=await fetch("/api/vacaciones",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(!te.ok){const ae=await te.json();throw new Error(ae.message||"Error al crear solicitud")}await K(),r({type:"success",message:"Solicitud de vacaciones creada"}),ue()}catch(H){r({type:"error",message:`Error: ${H.message}`})}},se=async m=>{try{if(!(await fetch(`/api/vacaciones/${m}/aprobar`,{method:"POST"})).ok)throw new Error("Error al aprobar");await K(),r({type:"success",message:"Solicitud aprobada"})}catch(H){r({type:"error",message:H.message})}},L=m=>{B(m),G(""),q(!0)},E=async()=>{if(!k.trim()){r({type:"error",message:"Debe especificar el motivo del rechazo"});return}try{if(!(await fetch(`/api/vacaciones/${D.id}/rechazar`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({motivo:k})})).ok)throw new Error("Error al rechazar");await K(),r({type:"success",message:"Solicitud rechazada"}),q(!1),B(null),G("")}catch(m){r({type:"error",message:m.message})}},ee=async m=>{if(window.confirm("Est seguro de cancelar esta solicitud?"))try{if(!(await fetch(`/api/vacaciones/${m}/cancelar`,{method:"DELETE"})).ok)throw new Error("Error al cancelar");await K(),r({type:"success",message:"Solicitud cancelada"})}catch(H){r({type:"error",message:H.message})}},ue=()=>{v(!1),I({empleadoId:"",fechaInicio:new Date().toISOString().split("T")[0],fechaFin:new Date().toISOString().split("T")[0],observaciones:""})};return w?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Cargando vacaciones..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendientes"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:ne})]}),a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En Curso"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:W})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Das Otorgados"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:re})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prximas (30 das)"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:de})]}),a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("div",{className:"flex gap-4 px-6",children:[a.jsx("button",{onClick:()=>Z("solicitudes"),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${R==="solicitudes"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Solicitudes"}),a.jsx("button",{onClick:()=>Z("calendario"),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${R==="calendario"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Calendario"}),a.jsx("button",{onClick:()=>Z("saldos"),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${R==="saldos"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Saldos"}),a.jsx("div",{className:"flex-1"}),a.jsx("div",{className:"flex items-center",children:a.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors shadow-sm my-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nueva Solicitud"]})})]})}),R==="solicitudes"&&a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Empleado"}),a.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Perodo"}),a.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Das"}),a.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Solicitado"}),a.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Estado"}),a.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(m=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-4 px-4 text-sm text-gray-900",children:m.empleadoNombre}),a.jsxs("td",{className:"py-4 px-4 text-sm text-gray-500",children:[new Date(m.fechaInicio).toLocaleDateString("es-PA",{day:"2-digit",month:"short"})," - ",new Date(m.fechaFin).toLocaleDateString("es-PA",{day:"2-digit",month:"short",year:"numeric"})]}),a.jsx("td",{className:"py-4 px-4 text-sm font-medium text-gray-900",children:m.diasVacaciones}),a.jsx("td",{className:"py-4 px-4 text-sm text-gray-500",children:new Date(m.fechaSolicitud).toLocaleDateString("es-PA",{day:"2-digit",month:"short",year:"numeric"})}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M(m.estado)}`,children:m.estadoNombre})}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[m.estado===1&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>se(m.id),className:"inline-flex items-center gap-1 text-green-600 hover:text-green-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Aprobar"]}),a.jsxs("button",{onClick:()=>L(m),className:"inline-flex items-center gap-1 text-red-600 hover:text-red-800 font-medium text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Rechazar"]})]}),(m.estado===1||m.estado===2)&&a.jsx("button",{onClick:()=>ee(m.id),className:"inline-flex items-center gap-1 text-gray-600 hover:text-gray-800 font-medium text-sm",children:"Cancelar"}),m.aprobadoPor&&a.jsxs("span",{className:"text-xs text-gray-500",children:["Por ",m.aprobadoPor]})]})})]},m.id))})]}),o.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No hay solicitudes de vacaciones"}),a.jsx("p",{className:"text-gray-500",children:"Comienza creando una nueva solicitud"})]})]})}),R==="calendario"&&a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[o.filter(m=>m.estado===2||m.estado===3).map(m=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-600"}),a.jsx("h4",{className:"font-medium text-gray-900",children:m.empleadoNombre}),a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${M(m.estado)}`,children:m.estadoNombre})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(m.fechaInicio).toLocaleDateString("es-PA")," - ",new Date(m.fechaFin).toLocaleDateString("es-PA")]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.diasVacaciones," das"]})]})]})})},m.id)),o.filter(m=>m.estado===2||m.estado===3).length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No hay vacaciones activas"}),a.jsx("p",{className:"text-gray-500",children:"Las vacaciones aprobadas y en curso aparecern aqu"})]})]})}),R==="saldos"&&a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Empleado"}),a.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Acumulados"}),a.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Tomados"}),a.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Disponibles"}),a.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Progreso"}),a.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Perodo"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(m=>{const H=m.diasAcumulados>0?m.diasTomados/m.diasAcumulados*100:0;return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-4 px-4 text-sm text-gray-900",children:m.empleadoNombre}),a.jsx("td",{className:"py-4 px-4 text-sm font-medium text-gray-900",children:m.diasAcumulados.toFixed(1)}),a.jsx("td",{className:"py-4 px-4 text-sm text-gray-600",children:m.diasTomados.toFixed(1)}),a.jsx("td",{className:"py-4 px-4 text-sm font-bold text-green-600",children:m.diasDisponibles.toFixed(1)}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 w-24",children:a.jsx("div",{className:`h-2 rounded-full ${H>=80?"bg-red-600":H>=50?"bg-yellow-600":"bg-green-600"}`,style:{width:`${Math.min(H,100)}%`}})}),a.jsxs("span",{className:"text-xs text-gray-600",children:[H.toFixed(0),"%"]})]})}),a.jsx("td",{className:"py-4 px-4 text-sm text-gray-500",children:new Date(m.periodoInicio).getFullYear()})]},m.empleadoId)})})]}),c.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No hay saldos disponibles"}),a.jsx("p",{className:"text-gray-500",children:"Los saldos se crean al registrar la primera solicitud"})]})]})})]}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Nueva Solicitud de Vacaciones"}),a.jsx("button",{onClick:ue,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:T,className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Empleado ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{required:!0,value:_.empleadoId,onChange:m=>I({..._,empleadoId:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Seleccionar empleado..."}),p.map(m=>a.jsxs("option",{value:m.id,children:[m.nombre," ",m.apellido," - ",m.posicionNombre||"Sin posicin"]},m.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fecha Inicio ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",required:!0,value:_.fechaInicio,onChange:m=>I({..._,fechaInicio:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fecha Fin ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",required:!0,value:_.fechaFin,onChange:m=>I({..._,fechaFin:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaciones"}),a.jsx("textarea",{value:_.observaciones,onChange:m=>I({..._,observaciones:m.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Observaciones adicionales..."})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:ue,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors shadow-sm",children:"Crear Solicitud"})]})]})]})}),S&&D&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Rechazar Solicitud"})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("p",{className:"text-gray-600 mb-4",children:["Est seguro de rechazar la solicitud de ",a.jsx("strong",{children:D.empleadoNombre}),"?"]}),a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Motivo del Rechazo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{required:!0,value:k,onChange:m=>G(m.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Especifique el motivo del rechazo..."})]}),a.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{q(!1),B(null),G("")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:E,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors",children:"Rechazar Solicitud"})]})]})})]})},os=({className:r=""})=>a.jsx("div",{className:`animate-pulse bg-gray-200 rounded ${r}`}),Er=()=>a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(os,{className:"h-4 w-24 mb-3"}),a.jsx(os,{className:"h-8 w-16 mb-4"}),a.jsx(os,{className:"h-3 w-32"})]}),a.jsx(os,{className:"w-12 h-12 rounded-lg"})]})}),x2=({rows:r=5,columns:o=6})=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx(os,{className:"h-6 w-48"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsx("tr",{children:Array.from({length:o}).map((u,c)=>a.jsx("th",{className:"py-3 px-6",children:a.jsx(os,{className:"h-4 w-24"})},c))})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.from({length:r}).map((u,c)=>a.jsx("tr",{children:Array.from({length:o}).map((x,p)=>a.jsx("td",{className:"py-4 px-6",children:a.jsx(os,{className:"h-4 w-full"})},p))},c))})]})})]}),Mm=({icon:r,title:o,description:u,action:c})=>a.jsxs("div",{className:"text-center py-12 px-4",children:[r&&a.jsx("div",{className:"flex justify-center mb-4",children:r}),o&&a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:o}),u&&a.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:u}),c&&a.jsx("div",{className:"flex justify-center",children:c})]}),f2=()=>{const{showToast:r}=Ht(),[o,u]=h.useState([]),[c,x]=h.useState(0),[p,b]=h.useState(!0),[w,j]=h.useState(null),[y,v]=h.useState(null),[S,q]=h.useState(!1),[R,Z]=h.useState(!1),[D,B]=h.useState(null),[k,G]=h.useState({payrollNumber:"",periodStartDate:"",periodEndDate:"",payDate:"",companyId:1});h.useEffect(()=>{I()},[]);const _=M=>{if(!M.details||M.details.length===0)return{...M,totalEmployeeCss:0,totalEmployerCss:0,totalEmployeeSe:0,totalEmployerSe:0,totalIncomeTax:0};const T=M.details.reduce((se,L)=>({totalEmployeeCss:se.totalEmployeeCss+(L.cssEmployee||0),totalEmployerCss:se.totalEmployerCss+(L.cssEmployer||0),totalEmployeeSe:se.totalEmployeeSe+(L.educationalInsuranceEmployee||0),totalEmployerSe:se.totalEmployerSe+(L.educationalInsuranceEmployer||0),totalIncomeTax:se.totalIncomeTax+(L.incomeTax||0)}),{totalEmployeeCss:0,totalEmployerCss:0,totalEmployeeSe:0,totalEmployerSe:0,totalIncomeTax:0});return{...M,...T}},I=async()=>{try{b(!0);const M=await fetch("/api/payrollheaders");if(!M.ok)throw new Error("Error al cargar planillas");const se=(await M.json()).map(_);u(se),se.length>0&&!y&&v(se[0]);const L=await fetch("/api/empleados");if(!L.ok)throw new Error("Error al cargar empleados");const E=await L.json();x(E.filter(ee=>ee.estaActivo).length)}catch(M){r({type:"error",message:M.message})}finally{b(!1)}},K=M=>new Intl.NumberFormat("es-PA",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(M||0),P=M=>{const T={0:{label:"Draft",bg:"bg-yellow-100",text:"text-yellow-800",dot:"bg-yellow-600"},1:{label:"Calculated",bg:"bg-blue-100",text:"text-blue-800",dot:"bg-blue-600"},2:{label:"Approved",bg:"bg-green-100",text:"text-green-800",dot:"bg-green-600"},3:{label:"Paid",bg:"bg-emerald-100",text:"text-emerald-800",dot:"bg-emerald-600"},4:{label:"Cancelled",bg:"bg-red-100",text:"text-red-800",dot:"bg-red-600"}},se=T[M]||T[0];return a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${se.bg} ${se.text}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${se.dot}`}),se.label]})},X=()=>{const M=new Date().getFullYear(),T=o.length+1;return`${M}-${String(T).padStart(3,"0")}`},ne=()=>{G({payrollNumber:X(),periodStartDate:"",periodEndDate:"",payDate:"",companyId:1}),q(!0)},W=async M=>{M.preventDefault();const T=new Date(k.periodStartDate),se=new Date(k.periodEndDate),L=new Date(k.payDate);if(se<=T){r({type:"error",message:"La fecha fin debe ser posterior a la fecha inicio"});return}if(L<se){r({type:"error",message:"La fecha de pago debe ser igual o posterior a la fecha fin del perodo"});return}try{const E=await fetch("/api/payrollheaders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!E.ok){const ee=await E.text();throw new Error(`Error ${E.status}: ${ee}`)}r({type:"success",message:"Planilla creada exitosamente"}),q(!1),await I()}catch(E){r({type:"error",message:E.message})}},re=async()=>{if(y)try{j("calculating");const M=await fetch(`/api/payrollheaders/${y.id}/calculate`,{method:"POST"});if(!M.ok){const L=await M.text();throw new Error(`Error al calcular: ${L}`)}const se=(await M.json()).details?.length||c;r({type:"success",message:`Planilla calculada: ${se} empleados procesados`}),await I()}catch(M){r({type:"error",message:M.message})}finally{j(null)}},J=async()=>{if(y)try{j("approving");const M=await fetch(`/api/payrollheaders/${y.id}/approve`,{method:"POST"});if(!M.ok){const T=await M.text();throw new Error(`Error al aprobar: ${T}`)}r({type:"success",message:"Planilla aprobada exitosamente"}),await I()}catch(M){r({type:"error",message:M.message})}finally{j(null)}},de=async M=>{try{const T=await fetch(`/api/payrollheaders/${M.id}`);if(!T.ok)throw new Error("Error al cargar detalles");const se=await T.json();B(se),Z(!0)}catch(T){r({type:"error",message:T.message})}};return p?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx(Er,{}),a.jsx(Er,{}),a.jsx(Er,{}),a.jsx(Er,{})]}),a.jsx(x2,{rows:5,columns:7})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("button",{onClick:ne,className:"inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2.5 rounded-lg font-medium transition-colors shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nueva Planilla"]}),o.length>0&&a.jsx("div",{className:"relative w-full sm:w-64",children:a.jsx("select",{value:y?.id||"",onChange:M=>{const T=o.find(se=>se.id===parseInt(M.target.value));v(T)},className:"w-full px-3 py-2.5 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:o.map(M=>a.jsxs("option",{value:M.id,children:[M.payrollNumber," - ",new Date(M.periodStartDate).toLocaleDateString("es-PA",{month:"short",year:"numeric"})]},M.id))})})]}),y?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Salarios Brutos"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:K(y.totalGrossPay)}),a.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:[c," empleados"]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Aportes CSS"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:K(y.totalEmployeeCss+y.totalEmployerCss)}),a.jsx("p",{className:"text-sm text-yellow-600 mt-2",children:"Empleado + Patrono"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Seguro Educativo"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:K(y.totalEmployeeSe+y.totalEmployerSe)}),a.jsx("p",{className:"text-sm text-purple-600 mt-2",children:"Empleado + Patrono"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"ISR Retenido"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:K(y.totalIncomeTax)}),a.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Segn tabla DGI"})]})]}):a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsx(Mm,{icon:a.jsx("svg",{className:"w-16 h-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),title:"Sin Datos de Planilla",description:"Selecciona una planilla o crea una nueva para ver los detalles"})}),y&&a.jsxs("div",{className:"flex gap-3",children:[y.status===0&&a.jsx("button",{onClick:re,disabled:w==="calculating",className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg font-medium transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:w==="calculating"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Calculando..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Calcular Planilla"]})}),y.status===1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:J,disabled:w==="approving",className:"inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2.5 rounded-lg font-medium transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:w==="approving"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Aprobando..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Aprobar Planilla"]})}),a.jsxs("button",{onClick:re,disabled:w==="calculating",className:"inline-flex items-center gap-2 bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2.5 rounded-lg font-medium transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Recalcular"]})]}),y.status===2&&a.jsxs("button",{disabled:!0,className:"inline-flex items-center gap-2 bg-emerald-600 text-white px-4 py-2.5 rounded-lg font-medium shadow-sm opacity-50 cursor-not-allowed",title:"Prximamente",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"Procesar Pago (Prximamente)"]}),(y.status===3||y.status===4)&&a.jsxs("button",{onClick:()=>de(y),className:"inline-flex items-center gap-2 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2.5 rounded-lg font-medium transition-colors shadow-sm",children:[a.jsxs("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Ver Detalles"]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Historial de Planillas",a.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",o.length," ",o.length===1?"planilla":"planillas",")"]})]})}),o.length===0?a.jsx(Mm,{icon:a.jsx("svg",{className:"w-16 h-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),title:"No hay planillas creadas",description:"Crea una nueva planilla para comenzar el proceso de nmina",action:a.jsxs("button",{onClick:ne,className:"inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nueva Planilla"]})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#Planilla"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Perodo"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empleados"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bruto"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deducciones"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Neto"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(M=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:M.payrollNumber}),a.jsxs("td",{className:"py-4 px-6 text-sm text-gray-500",children:[new Date(M.periodStartDate).toLocaleDateString("es-PA",{day:"2-digit",month:"short"})," - ",new Date(M.periodEndDate).toLocaleDateString("es-PA",{day:"2-digit",month:"short",year:"numeric"})]}),a.jsx("td",{className:"py-4 px-6 text-sm text-gray-900",children:M.employeeCount||c}),a.jsx("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:K(M.totalGrossPay)}),a.jsx("td",{className:"py-4 px-6 text-sm text-gray-900",children:K(M.totalDeductions)}),a.jsx("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:K(M.totalNetPay)}),a.jsx("td",{className:"py-4 px-6",children:P(M.status)}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("button",{onClick:()=>de(M),className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 font-medium text-sm",children:[a.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Ver"]})})]},M.id))})]})})]}),S&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Nueva Planilla"}),a.jsx("button",{onClick:()=>q(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:W,className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nmero de Planilla ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,value:k.payrollNumber,onChange:M=>G({...k,payrollNumber:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"2025-001"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fecha Inicio Perodo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",required:!0,value:k.periodStartDate,onChange:M=>G({...k,periodStartDate:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fecha Fin Perodo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",required:!0,value:k.periodEndDate,onChange:M=>G({...k,periodEndDate:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fecha de Pago ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",required:!0,value:k.payDate,onChange:M=>G({...k,payDate:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>q(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors shadow-sm",children:"Crear Planilla"})]})]})]})}),R&&D&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Detalles de Planilla - ",D.payrollNumber]}),a.jsx("button",{onClick:()=>Z(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Perodo"}),a.jsxs("p",{className:"font-medium text-gray-900",children:[new Date(D.periodStartDate).toLocaleDateString("es-PA")," - ",new Date(D.periodEndDate).toLocaleDateString("es-PA")]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Fecha de Pago"}),a.jsx("p",{className:"font-medium text-gray-900",children:new Date(D.payDate).toLocaleDateString("es-PA")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Estado"}),a.jsx("div",{className:"mt-1",children:P(D.status)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Neto"}),a.jsx("p",{className:"font-bold text-lg text-gray-900",children:K(D.totalNetPay)})]})]}),D.details&&D.details.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Empleado"}),a.jsx("th",{className:"text-right py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Bruto"}),a.jsx("th",{className:"text-right py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"CSS"}),a.jsx("th",{className:"text-right py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"SE"}),a.jsx("th",{className:"text-right py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"ISR"}),a.jsx("th",{className:"text-right py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Total Ded."}),a.jsx("th",{className:"text-right py-3 px-4 text-xs font-medium text-gray-500 uppercase",children:"Neto"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.details.map(M=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"py-3 px-4 text-sm text-gray-900",children:[M.employee?.nombre," ",M.employee?.apellido]}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-900",children:K(M.grossPay)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-900",children:K(M.employeeCss)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-900",children:K(M.employeeSe)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-900",children:K(M.incomeTax)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-900",children:K(M.totalDeductions)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right font-medium text-gray-900",children:K(M.netPay)})]},M.id))}),a.jsx("tfoot",{className:"bg-gray-50 border-t-2 border-gray-300",children:a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 px-4 text-sm font-bold text-gray-900",children:"TOTALES"}),a.jsx("td",{className:"py-3 px-4 text-sm text-right font-bold text-gray-900",children:K(D.totalGrossPay)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right font-bold text-gray-900",children:K(D.totalEmployeeCss)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right font-bold text-gray-900",children:K(D.totalEmployeeSe)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right font-bold text-gray-900",children:K(D.totalIncomeTax)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right font-bold text-gray-900",children:K(D.totalDeductions)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right font-bold text-gray-900",children:K(D.totalNetPay)})]})})]})}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay detalles de empleados para esta planilla"})]})]})})]})},h2=()=>{const{showToast:r}=Ht(),[o,u]=h.useState("empresa"),[c,x]=h.useState({nombreEmpresa:"Empresa Demo S.A.",ruc:"1234567-8-123456",direccion:"Calle Principal, Ciudad de Panam",telefono:"+507 6000-0000",email:"contacto@empresademo.com"}),p=[{id:"empresa",label:"Empresa",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},{id:"tasas",label:"Tasas CSS/SE",icon:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"},{id:"isr",label:"Tabla ISR",icon:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},{id:"usuarios",label:"Usuarios",icon:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"}],b=w=>{w.preventDefault(),r({type:"info",message:"Funcionalidad de guardado prximamente disponible"})};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex -mb-px",children:p.map(w=>a.jsx("button",{onClick:()=>u(w.id),className:`group relative min-w-0 flex-1 overflow-hidden py-4 px-4 text-sm font-medium text-center hover:bg-gray-50 focus:z-10 ${o===w.id?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:w.icon})}),a.jsx("span",{children:w.label})]})},w.id))})}),a.jsxs("div",{className:"p-6",children:[o==="empresa"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Datos de la Empresa"}),a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Empresa"}),a.jsx("input",{type:"text",value:c.nombreEmpresa,onChange:w=>x({...c,nombreEmpresa:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RUC"}),a.jsx("input",{type:"text",value:c.ruc,onChange:w=>x({...c,ruc:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1234567-8-123456"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),a.jsx("input",{type:"tel",value:c.telefono,onChange:w=>x({...c,telefono:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+507 6000-0000"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:c.email,onChange:w=>x({...c,email:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"contacto@empresa.com"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direccin"}),a.jsx("textarea",{rows:"3",value:c.direccion,onChange:w=>x({...c,direccion:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Calle Principal, Ciudad de Panam"})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors shadow-sm",children:"Guardar Cambios"})})]})]}),o==="tasas"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tasas de CSS y Seguro Educativo"}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"inline-flex items-center px-3 py-1.5 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("svg",{className:"w-4 h-4 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"text-sm text-blue-800 font-medium",children:"Tasas segn Ley 462 de Panam"})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Concepto"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-700",children:"Tasa Empleado"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-700",children:"Tasa Patrono"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Observaciones"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"CSS (Caja de Seguro Social)"}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"9.75%"})}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"14.25%"})}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-500",children:"Topes escalonados segn salario"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"Seguro Educativo"}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"1.25%"})}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"1.50%"})}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-500",children:"Sin tope mximo"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"Riesgo Profesional"}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"-"})}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"0.56% - 5.39%"})}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-500",children:"Segn tipo de actividad"})]})]})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Notas Importantes:"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Las tasas de CSS tienen topes escalonados: B/. 1,500 / 2,000 / 2,500 segn salario"}),a.jsx("li",{children:"El Seguro Educativo aplica sobre el salario total sin tope mximo"}),a.jsx("li",{children:"El Riesgo Profesional vara segn la actividad econmica de la empresa"})]})]})]}),o==="isr"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tabla de Impuesto Sobre la Renta (ISR)"}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"inline-flex items-center px-3 py-1.5 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("svg",{className:"w-4 h-4 text-green-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"text-sm text-green-800 font-medium",children:"Segn DGI Panam - Ao fiscal 2025"})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Rango de Ingreso Anual"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-700",children:"Tasa"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Descripcin"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a.jsxs("tr",{className:"bg-green-50/50",children:[a.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"$0 - $11,000"}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Exento (0%)"})}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"No paga impuesto"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"$11,001 - $50,000"}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:"15%"})}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"Sobre el exceso de $11,000"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"Ms de $50,000"}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:"25%"})}),a.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"Sobre el exceso de $50,000"})]})]})]})}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Ejemplo de Clculo:"}),a.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[a.jsxs("p",{children:["Salario anual: ",a.jsx("strong",{children:"$30,000"})]}),a.jsx("p",{children:"Exento: $11,000 (0%)"}),a.jsxs("p",{children:["Gravable: $19,000  15% = ",a.jsx("strong",{children:"$2,850"})]}),a.jsxs("p",{className:"pt-2 border-t border-blue-300",children:["ISR anual total: ",a.jsx("strong",{children:"$2,850"})]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Deducciones Permitidas:"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Gastos educativos: hasta $5,000/ao"}),a.jsx("li",{children:"Intereses hipotecarios: hasta $15,000/ao"}),a.jsx("li",{children:"Dependientes: $800/ao por dependiente"}),a.jsx("li",{children:"Aportes jubilatorios voluntarios"})]})]})]})]}),o==="usuarios"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gestin de Usuarios y Permisos"}),a.jsxs("div",{className:"mb-6 p-6 bg-blue-50 border border-blue-200 rounded-lg text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),a.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Gestin de Usuarios"}),a.jsx("p",{className:"text-blue-700 mb-4",children:"Esta funcionalidad estar disponible prximamente"}),a.jsx("p",{className:"text-sm text-blue-600",children:"Podrs administrar usuarios, asignar roles y configurar permisos granulares"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Roles del Sistema Disponibles:"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold text-gray-900 mb-1",children:"PayrollOperator"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Puede crear y calcular planillas, gestionar empleados"})]})]})}),a.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold text-gray-900 mb-1",children:"PayrollAdmin"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Puede aprobar planillas calculadas y gestionar configuraciones"})]})]})}),a.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold text-gray-900 mb-1",children:"FinanceManager"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Puede procesar pagos, ver reportes financieros y auditora"})]})]})}),a.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsxs("svg",{className:"w-5 h-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold text-gray-900 mb-1",children:"Viewer"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Solo lectura - puede ver reportes sin modificar datos"})]})]})})]})]})]})]})]})})},p2=()=>{const{showToast:r}=Ht(),[o,u]=h.useState([]),[c,x]=h.useState(""),[p,b]=h.useState(!1),[w,j]=h.useState(!1),[y,v]=h.useState(""),[S,q]=h.useState(null);h.useEffect(()=>{R()},[]);const R=async()=>{try{const P=await fetch("/api/payrollheaders");if(!P.ok)throw new Error("Error al cargar planillas");const ne=(await P.json()).filter(W=>W.status>=1);u(ne)}catch(P){r({type:"error",message:P.message})}},Z=async P=>{if(!c){r({type:"warning",message:"Seleccione una planilla primero"});return}b(!0);try{const X=await fetch(`/api/reportes/${P}/${c}/excel`);if(!X.ok)throw new Error("Error al generar reporte");const ne=await X.blob(),W=window.URL.createObjectURL(ne),re=document.createElement("a");re.href=W,re.download=`Reporte_${P.toUpperCase()}_${c}_${new Date().toISOString().slice(0,10)}.xlsx`,document.body.appendChild(re),re.click(),re.remove(),window.URL.revokeObjectURL(W),r({type:"success",message:"Excel descargado correctamente"})}catch(X){r({type:"error",message:X.message})}finally{b(!1)}},D=async P=>{if(!c){r({type:"warning",message:"Seleccione una planilla primero"});return}b(!0);try{const X=await fetch(`/api/reportes/${P}/${c}/pdf`);if(!X.ok)throw new Error("Error al generar reporte");const ne=await X.blob(),W=window.URL.createObjectURL(ne),re=document.createElement("a");re.href=W,re.download=`Reporte_${P.toUpperCase()}_${c}_${new Date().toISOString().slice(0,10)}.pdf`,document.body.appendChild(re),re.click(),re.remove(),window.URL.revokeObjectURL(W),r({type:"success",message:"PDF descargado correctamente"})}catch(X){r({type:"error",message:X.message})}finally{b(!1)}},B=async P=>{if(!c){r({type:"warning",message:"Seleccione una planilla primero"});return}b(!0);try{const X=await fetch(`/api/reportes/${P}/${c}`);if(!X.ok)throw new Error("Error al obtener reporte");const ne=await X.json();q(ne),v(P),j(!0)}catch(X){r({type:"error",message:X.message})}finally{b(!1)}},k=P=>new Intl.NumberFormat("es-PA",{style:"currency",currency:"USD"}).format(P),G=P=>new Date(P).toLocaleDateString("es-PA"),_=({title:P,description:X,icon:ne,color:W,borderColor:re,bgGradient:J,tipo:de,comingSoon:M})=>a.jsxs("div",{className:`rounded-2xl shadow-sm hover:shadow-md transition-shadow p-6 ${J} border ${re}`,children:[a.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[a.jsx("div",{className:`w-12 h-12 ${W} rounded-full flex items-center justify-center shadow-md`,children:ne}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-semibold text-lg text-gray-900 flex items-center gap-2",children:[P,M&&a.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:"Prximamente"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:X})]})]}),a.jsxs("select",{value:c,onChange:T=>x(T.target.value),disabled:M,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 mb-4 disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Seleccionar planilla..."}),o.map(T=>a.jsxs("option",{value:T.id,children:[T.payrollNumber," - ",G(T.periodStartDate)," a ",G(T.periodEndDate)]},T.id))]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>B(de),disabled:!c||p||M,className:`flex-1 flex items-center justify-center gap-2 px-3 py-1.5 text-sm font-medium text-white ${W} rounded-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-opacity`,children:[a.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Ver"]}),a.jsxs("button",{onClick:()=>Z(de),disabled:!c||p||M,className:"flex-1 flex items-center justify-center gap-2 px-3 py-1.5 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Excel"]}),a.jsxs("button",{onClick:()=>D(de),disabled:!c||p||M,className:"flex-1 flex items-center justify-center gap-2 px-3 py-1.5 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"PDF"]})]})]}),I=()=>S?y==="css"?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cdula"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nombre"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Salario Bruto"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Base CSS"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"CSS Empleado"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"CSS Patrono"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Riesgo Prof."}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[S.empleados?.map((P,X)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm",children:P.cedula}),a.jsx("td",{className:"px-4 py-3 text-sm",children:P.nombreCompleto}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(P.salarioBruto)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(P.baseCss)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(P.cssEmpleado)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(P.cssPatrono)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(P.riesgoProfesional)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium",children:k(P.totalCss)})]},X)),a.jsxs("tr",{className:"bg-yellow-100 font-bold",children:[a.jsx("td",{className:"px-4 py-3 text-sm",colSpan:"2",children:"TOTALES"}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(S.totales?.totalSalarios)}),a.jsx("td",{className:"px-4 py-3 text-sm"}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(S.totales?.totalCssEmpleado)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(S.totales?.totalCssPatrono)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(S.totales?.totalRiesgo)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(S.totales?.granTotal)})]})]})]})}):y==="seguro-educativo"?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cdula"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nombre"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Salario Bruto"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"SE Empleado"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"SE Patrono"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total SE"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[S.empleados?.map((P,X)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm",children:P.cedula}),a.jsx("td",{className:"px-4 py-3 text-sm",children:P.nombreCompleto}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(P.salarioBruto)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(P.seEmpleado)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(P.sePatrono)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium",children:k(P.totalSe)})]},X)),a.jsxs("tr",{className:"bg-yellow-100 font-bold",children:[a.jsx("td",{className:"px-4 py-3 text-sm",colSpan:"2",children:"TOTALES"}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(S.totales?.totalSalarios)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(S.totales?.totalSeEmpleado)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(S.totales?.totalSePatrono)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(S.totales?.granTotal)})]})]})]})}):y==="isr"?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cdula"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nombre"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ingreso Anual"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Dependientes"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Deduccin Dep."}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Base Gravable"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"ISR Anual"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"ISR Perodo"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[S.empleados?.map((P,X)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm",children:P.cedula}),a.jsx("td",{className:"px-4 py-3 text-sm",children:P.nombreCompleto}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(P.ingresoAnualProyectado)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:P.dependientes}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(P.deduccionDependientes)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(P.baseGravable)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(P.isrAnual)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium",children:k(P.isrPeriodo)})]},X)),a.jsxs("tr",{className:"bg-yellow-100 font-bold",children:[a.jsx("td",{className:"px-4 py-3 text-sm",colSpan:"2",children:"TOTALES"}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(S.totales?.totalIngresos)}),a.jsx("td",{className:"px-4 py-3 text-sm"}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(S.totales?.totalDeducciones)}),a.jsx("td",{className:"px-4 py-3 text-sm"}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(S.totales?.totalIsrAnual)}),a.jsx("td",{className:"px-4 py-3 text-sm text-right",children:k(S.totales?.totalIsrPeriodo)})]})]})]})}):y==="planilla-detallada"?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-2 text-left font-medium text-gray-500 uppercase",children:"Cdula"}),a.jsx("th",{className:"px-2 py-2 text-left font-medium text-gray-500 uppercase",children:"Nombre"}),a.jsx("th",{className:"px-2 py-2 text-left font-medium text-gray-500 uppercase",children:"Depto"}),a.jsx("th",{className:"px-2 py-2 text-right font-medium text-gray-500 uppercase",children:"Sal. Base"}),a.jsx("th",{className:"px-2 py-2 text-right font-medium text-gray-500 uppercase",children:"Hrs Extra"}),a.jsx("th",{className:"px-2 py-2 text-right font-medium text-gray-500 uppercase",children:"Bruto"}),a.jsx("th",{className:"px-2 py-2 text-right font-medium text-gray-500 uppercase",children:"CSS"}),a.jsx("th",{className:"px-2 py-2 text-right font-medium text-gray-500 uppercase",children:"SE"}),a.jsx("th",{className:"px-2 py-2 text-right font-medium text-gray-500 uppercase",children:"ISR"}),a.jsx("th",{className:"px-2 py-2 text-right font-medium text-gray-500 uppercase",children:"Otras Ded."}),a.jsx("th",{className:"px-2 py-2 text-right font-medium text-gray-500 uppercase",children:"Total Ded."}),a.jsx("th",{className:"px-2 py-2 text-right font-medium text-gray-500 uppercase",children:"Neto"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[S.empleados?.map((P,X)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-2 py-2",children:P.cedula}),a.jsx("td",{className:"px-2 py-2",children:P.nombreCompleto}),a.jsx("td",{className:"px-2 py-2",children:P.departamento||"-"}),a.jsx("td",{className:"px-2 py-2 text-right",children:k(P.salarioBase)}),a.jsx("td",{className:"px-2 py-2 text-right",children:k(P.horasExtra)}),a.jsx("td",{className:"px-2 py-2 text-right font-medium",children:k(P.salarioBruto)}),a.jsx("td",{className:"px-2 py-2 text-right",children:k(P.cssEmpleado)}),a.jsx("td",{className:"px-2 py-2 text-right",children:k(P.seEmpleado)}),a.jsx("td",{className:"px-2 py-2 text-right",children:k(P.isr)}),a.jsx("td",{className:"px-2 py-2 text-right",children:k(P.otrasDeducciones)}),a.jsx("td",{className:"px-2 py-2 text-right font-medium",children:k(P.totalDeducciones)}),a.jsx("td",{className:"px-2 py-2 text-right font-bold text-green-600",children:k(P.salarioNeto)})]},X)),a.jsxs("tr",{className:"bg-yellow-100 font-bold",children:[a.jsx("td",{className:"px-2 py-2",colSpan:"3",children:"TOTALES"}),a.jsx("td",{className:"px-2 py-2 text-right",children:k(S.totalBruto)}),a.jsx("td",{className:"px-2 py-2"}),a.jsx("td",{className:"px-2 py-2 text-right",children:k(S.totalBruto)}),a.jsx("td",{className:"px-2 py-2",colSpan:"4"}),a.jsx("td",{className:"px-2 py-2 text-right",children:k(S.totalDeducciones)}),a.jsx("td",{className:"px-2 py-2 text-right",children:k(S.totalNeto)})]})]})]})}):null:null,K=()=>({css:"Reporte Planilla CSS","seguro-educativo":"Reporte Seguro Educativo",isr:"Reporte Impuesto Sobre la Renta","planilla-detallada":"Planilla Detallada Completa"})[y]||"Reporte";return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reportes de Planilla"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Genere y descargue reportes oficiales para CSS, Seguro Educativo, ISR y ms"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsx(_,{title:"Planilla CSS",description:"Reporte para la Caja de Seguro Social con aportes CSS de empleados y empleador",icon:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),color:"bg-blue-600",borderColor:"border-blue-200",bgGradient:"bg-gradient-to-br from-blue-50 to-blue-100",tipo:"css"}),a.jsx(_,{title:"Seguro Educativo",description:"Reporte de aportes al Seguro Educativo",icon:a.jsxs("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),a.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"})]}),color:"bg-green-600",borderColor:"border-green-200",bgGradient:"bg-gradient-to-br from-green-50 to-green-100",tipo:"seguro-educativo"}),a.jsx(_,{title:"Impuesto sobre la Renta",description:"Reporte ISR para la DGI con proyeccin anual y retenciones",icon:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"bg-amber-600",borderColor:"border-amber-200",bgGradient:"bg-gradient-to-br from-amber-50 to-amber-100",tipo:"isr"}),a.jsx(_,{title:"Planilla Detallada",description:"Desglose completo de la planilla con todos los conceptos: salarios, deducciones, horas extra, etc.",icon:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),color:"bg-purple-600",borderColor:"border-purple-200",bgGradient:"bg-gradient-to-br from-purple-50 to-purple-100",tipo:"planilla-detallada"}),a.jsx(_,{title:"Costos Patronales",description:"Resumen de todos los aportes del empleador: CSS patronal, SE patronal, riesgo profesional",icon:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),color:"bg-red-600",borderColor:"border-red-200",bgGradient:"bg-gradient-to-br from-red-50 to-red-100",tipo:"css",comingSoon:!0}),a.jsx(_,{title:"Recibos de Pago",description:"Generar recibos individuales de pago para cada empleado",icon:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),color:"bg-gray-600",borderColor:"border-gray-200",bgGradient:"bg-gradient-to-br from-gray-50 to-gray-100",tipo:"recibos",comingSoon:!0})]}),w&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>j(!1),children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] flex flex-col",onClick:P=>P.stopPropagation(),children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:K()}),a.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200 grid grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Empresa:"}),a.jsx("span",{className:"ml-2 font-medium",children:S?.nombreEmpresa})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"RUC:"}),a.jsx("span",{className:"ml-2 font-medium",children:S?.ruc})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Perodo:"}),a.jsx("span",{className:"ml-2 font-medium",children:S?.periodo})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Generado:"}),a.jsx("span",{className:"ml-2 font-medium",children:S?.fechaGeneracion?G(S.fechaGeneracion):""})]})]}),a.jsx("div",{className:"flex-1 overflow-auto p-6",children:I()}),a.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[a.jsxs("button",{onClick:()=>Z(y),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Descargar Excel"]}),a.jsxs("button",{onClick:()=>D(y),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Descargar PDF"]})]})]})})]})};function g2(){return a.jsxs(Zg,{children:[a.jsx($g,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#363636",fontSize:"14px"},success:{duration:3e3,iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),a.jsxs(wp,{children:[a.jsx(Ue,{path:"/login",element:a.jsx(Kg,{})}),a.jsx(Ue,{path:"/register",element:a.jsx(Pg,{})}),a.jsx(Ue,{path:"/accept-invite",element:a.jsx(Jg,{})}),a.jsx(Ue,{path:"/dashboard",element:a.jsx(lt,{children:a.jsx(nt,{children:a.jsx(Wg,{})})})}),a.jsx(Ue,{path:"/users",element:a.jsx(lt,{children:a.jsx(ac,{allowedRoles:[_e.Owner,_e.Admin],children:a.jsx(nt,{children:a.jsx(Fg,{})})})})}),a.jsx(Ue,{path:"/audit",element:a.jsx(lt,{children:a.jsx(ac,{allowedRoles:[_e.Owner,_e.Admin,_e.Manager,_e.Accountant],children:a.jsx(nt,{children:a.jsx(e2,{})})})})}),a.jsx(Ue,{path:"/billing",element:a.jsx(lt,{children:a.jsx(ac,{allowedRoles:[_e.Owner],children:a.jsx(nt,{children:a.jsx(a2,{})})})})}),a.jsx(Ue,{path:"/empleados",element:a.jsx(lt,{children:a.jsx(nt,{children:a.jsx(l2,{})})})}),a.jsx(Ue,{path:"/departamentos",element:a.jsx(lt,{children:a.jsx(nt,{children:a.jsx(n2,{})})})}),a.jsx(Ue,{path:"/posiciones",element:a.jsx(lt,{children:a.jsx(nt,{children:a.jsx(r2,{})})})}),a.jsx(Ue,{path:"/prestamos",element:a.jsx(lt,{children:a.jsx(nt,{children:a.jsx(i2,{})})})}),a.jsx(Ue,{path:"/deducciones",element:a.jsx(lt,{children:a.jsx(nt,{children:a.jsx(o2,{})})})}),a.jsx(Ue,{path:"/anticipos",element:a.jsx(lt,{children:a.jsx(nt,{children:a.jsx(c2,{})})})}),a.jsx(Ue,{path:"/horas-extra",element:a.jsx(lt,{children:a.jsx(nt,{children:a.jsx(d2,{})})})}),a.jsx(Ue,{path:"/ausencias",element:a.jsx(lt,{children:a.jsx(nt,{children:a.jsx(u2,{})})})}),a.jsx(Ue,{path:"/vacaciones",element:a.jsx(lt,{children:a.jsx(nt,{children:a.jsx(m2,{})})})}),a.jsx(Ue,{path:"/planillas",element:a.jsx(lt,{children:a.jsx(nt,{children:a.jsx(f2,{})})})}),a.jsx(Ue,{path:"/reportes",element:a.jsx(lt,{children:a.jsx(nt,{children:a.jsx(p2,{})})})}),a.jsx(Ue,{path:"/configuracion",element:a.jsx(lt,{children:a.jsx(nt,{children:a.jsx(h2,{})})})}),a.jsx(Ue,{path:"/",element:a.jsx(lc,{to:"/dashboard",replace:!0})}),a.jsx(Ue,{path:"*",element:a.jsx(lc,{to:"/dashboard",replace:!0})})]})]})}const Am=document.getElementById("root");Am?Lh.createRoot(Am).render(a.jsx(Sh.StrictMode,{children:a.jsx(Zp,{children:a.jsx(g2,{})})})):console.error("Root container not found");
